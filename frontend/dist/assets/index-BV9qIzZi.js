function Bp(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Hp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Du={exports:{}},fl={},Mu={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Us=Symbol.for("react.element"),qp=Symbol.for("react.portal"),Vp=Symbol.for("react.fragment"),Yp=Symbol.for("react.strict_mode"),Qp=Symbol.for("react.profiler"),Kp=Symbol.for("react.provider"),Xp=Symbol.for("react.context"),Gp=Symbol.for("react.forward_ref"),Jp=Symbol.for("react.suspense"),Zp=Symbol.for("react.memo"),eh=Symbol.for("react.lazy"),Wd=Symbol.iterator;function th(e){return e===null||typeof e!="object"?null:(e=Wd&&e[Wd]||e["@@iterator"],typeof e=="function"?e:null)}var Tu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ru=Object.assign,Ou={};function Or(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Tu}Or.prototype.isReactComponent={};Or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pu(){}Pu.prototype=Or.prototype;function Mo(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Tu}var To=Mo.prototype=new Pu;To.constructor=Mo;Ru(To,Or.prototype);To.isPureReactComponent=!0;var Bd=Array.isArray,Lu=Object.prototype.hasOwnProperty,Ro={current:null},Au={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,n){var s,a={},l=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Lu.call(t,s)&&!Au.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var d=Array(o),c=0;c<o;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)a[s]===void 0&&(a[s]=o[s]);return{$$typeof:Us,type:e,key:l,ref:i,props:a,_owner:Ro.current}}function nh(e,t){return{$$typeof:Us,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Oo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Us}function rh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hd=/\/+/g;function Wl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rh(""+e.key):t.toString(36)}function ya(e,t,n,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Us:case qp:i=!0}}if(i)return i=e,a=a(i),e=s===""?"."+Wl(i,0):s,Bd(a)?(n="",e!=null&&(n=e.replace(Hd,"$&/")+"/"),ya(a,t,n,"",function(c){return c})):a!=null&&(Oo(a)&&(a=nh(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Hd,"$&/")+"/")+e)),t.push(a)),1;if(i=0,s=s===""?".":s+":",Bd(e))for(var o=0;o<e.length;o++){l=e[o];var d=s+Wl(l,o);i+=ya(l,t,n,d,a)}else if(d=th(e),typeof d=="function")for(e=d.call(e),o=0;!(l=e.next()).done;)l=l.value,d=s+Wl(l,o++),i+=ya(l,t,n,d,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Js(e,t,n){if(e==null)return e;var s=[],a=0;return ya(e,s,"","",function(l){return t.call(n,l,a++)}),s}function sh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},va={transition:null},ah={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:va,ReactCurrentOwner:Ro};function $u(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Js,forEach:function(e,t,n){Js(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Js(e,function(){t++}),t},toArray:function(e){return Js(e,function(t){return t})||[]},only:function(e){if(!Oo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=Or;de.Fragment=Vp;de.Profiler=Qp;de.PureComponent=Mo;de.StrictMode=Yp;de.Suspense=Jp;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ah;de.act=$u;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Ru({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Ro.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)Lu.call(t,d)&&!Au.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){o=Array(d);for(var c=0;c<d;c++)o[c]=arguments[c+2];s.children=o}return{$$typeof:Us,type:e.type,key:a,ref:l,props:s,_owner:i}};de.createContext=function(e){return e={$$typeof:Xp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kp,_context:e},e.Consumer=e};de.createElement=Fu;de.createFactory=function(e){var t=Fu.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Gp,render:e}};de.isValidElement=Oo;de.lazy=function(e){return{$$typeof:eh,_payload:{_status:-1,_result:e},_init:sh}};de.memo=function(e,t){return{$$typeof:Zp,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=va.transition;va.transition={};try{e()}finally{va.transition=t}};de.unstable_act=$u;de.useCallback=function(e,t){return dt.current.useCallback(e,t)};de.useContext=function(e){return dt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};de.useEffect=function(e,t){return dt.current.useEffect(e,t)};de.useId=function(){return dt.current.useId()};de.useImperativeHandle=function(e,t,n){return dt.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return dt.current.useMemo(e,t)};de.useReducer=function(e,t,n){return dt.current.useReducer(e,t,n)};de.useRef=function(e){return dt.current.useRef(e)};de.useState=function(e){return dt.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return dt.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return dt.current.useTransition()};de.version="18.3.1";Mu.exports=de;var g=Mu.exports;const Po=Hp(g),lh=Bp({__proto__:null,default:Po},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=g,oh=Symbol.for("react.element"),dh=Symbol.for("react.fragment"),ch=Object.prototype.hasOwnProperty,uh=ih.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mh={key:!0,ref:!0,__self:!0,__source:!0};function Iu(e,t,n){var s,a={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)ch.call(t,s)&&!mh.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:oh,type:e,key:l,ref:i,props:a,_owner:uh.current}}fl.Fragment=dh;fl.jsx=Iu;fl.jsxs=Iu;Du.exports=fl;var r=Du.exports,Ni={},Uu={exports:{}},wt={},zu={exports:{}},Wu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,I){var X=R.length;R.push(I);e:for(;0<X;){var q=X-1>>>1,G=R[q];if(0<a(G,I))R[q]=I,R[X]=G,X=q;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var I=R[0],X=R.pop();if(X!==I){R[0]=X;e:for(var q=0,G=R.length,ke=G>>>1;q<ke;){var fe=2*(q+1)-1,Qe=R[fe],L=fe+1,te=R[L];if(0>a(Qe,X))L<G&&0>a(te,Qe)?(R[q]=te,R[L]=X,q=L):(R[q]=Qe,R[fe]=X,q=fe);else if(L<G&&0>a(te,X))R[q]=te,R[L]=X,q=L;else break e}}return I}function a(R,I){var X=R.sortIndex-I.sortIndex;return X!==0?X:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],c=[],p=1,u=null,x=3,v=!1,f=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(R){for(var I=n(c);I!==null;){if(I.callback===null)s(c);else if(I.startTime<=R)s(c),I.sortIndex=I.expirationTime,t(d,I);else break;I=n(c)}}function b(R){if(j=!1,m(R),!f)if(n(d)!==null)f=!0,N(w);else{var I=n(c);I!==null&&A(b,I.startTime-R)}}function w(R,I){f=!1,j&&(j=!1,y(T),T=-1),v=!0;var X=x;try{for(m(I),u=n(d);u!==null&&(!(u.expirationTime>I)||R&&!W());){var q=u.callback;if(typeof q=="function"){u.callback=null,x=u.priorityLevel;var G=q(u.expirationTime<=I);I=e.unstable_now(),typeof G=="function"?u.callback=G:u===n(d)&&s(d),m(I)}else s(d);u=n(d)}if(u!==null)var ke=!0;else{var fe=n(c);fe!==null&&A(b,fe.startTime-I),ke=!1}return ke}finally{u=null,x=X,v=!1}}var C=!1,_=null,T=-1,$=5,E=-1;function W(){return!(e.unstable_now()-E<$)}function re(){if(_!==null){var R=e.unstable_now();E=R;var I=!0;try{I=_(!0,R)}finally{I?k():(C=!1,_=null)}}else C=!1}var k;if(typeof h=="function")k=function(){h(re)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,U=P.port2;P.port1.onmessage=re,k=function(){U.postMessage(null)}}else k=function(){S(re,0)};function N(R){_=R,C||(C=!0,k())}function A(R,I){T=S(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){f||v||(f=!0,N(w))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(R){switch(x){case 1:case 2:case 3:var I=3;break;default:I=x}var X=x;x=I;try{return R()}finally{x=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var X=x;x=R;try{return I()}finally{x=X}},e.unstable_scheduleCallback=function(R,I,X){var q=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?q+X:q):X=q,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=X+G,R={id:p++,callback:I,priorityLevel:R,startTime:X,expirationTime:G,sortIndex:-1},X>q?(R.sortIndex=X,t(c,R),n(d)===null&&R===n(c)&&(j?(y(T),T=-1):j=!0,A(b,X-q))):(R.sortIndex=G,t(d,R),f||v||(f=!0,N(w))),R},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(R){var I=x;return function(){var X=x;x=I;try{return R.apply(this,arguments)}finally{x=X}}}})(Wu);zu.exports=Wu;var fh=zu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph=g,jt=fh;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bu=new Set,xs={};function tr(e,t){_r(e,t),_r(e+"Capture",t)}function _r(e,t){for(xs[e]=t,e=0;e<t.length;e++)Bu.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_i=Object.prototype.hasOwnProperty,hh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qd={},Vd={};function xh(e){return _i.call(Vd,e)?!0:_i.call(qd,e)?!1:hh.test(e)?Vd[e]=!0:(qd[e]=!0,!1)}function gh(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yh(e,t,n,s){if(t===null||typeof t>"u"||gh(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,s,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lo=/[\-:]([a-z])/g;function Ao(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lo,Ao);Ze[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lo,Ao);Ze[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lo,Ao);Ze[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fo(e,t,n,s){var a=Ze.hasOwnProperty(t)?Ze[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yh(t,n,a,s)&&(n=null),s||a===null?xh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var an=ph.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zs=Symbol.for("react.element"),lr=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),$o=Symbol.for("react.strict_mode"),ki=Symbol.for("react.profiler"),Hu=Symbol.for("react.provider"),qu=Symbol.for("react.context"),Io=Symbol.for("react.forward_ref"),Si=Symbol.for("react.suspense"),Ci=Symbol.for("react.suspense_list"),Uo=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),Vu=Symbol.for("react.offscreen"),Yd=Symbol.iterator;function qr(e){return e===null||typeof e!="object"?null:(e=Yd&&e[Yd]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,Bl;function rs(e){if(Bl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||""}return`
`+Bl+e}var Hl=!1;function ql(e,t){if(!e||Hl)return"";Hl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),l=s.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var d=`
`+a[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{Hl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rs(e):""}function vh(e){switch(e.tag){case 5:return rs(e.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 2:case 15:return e=ql(e.type,!1),e;case 11:return e=ql(e.type.render,!1),e;case 1:return e=ql(e.type,!0),e;default:return""}}function Ei(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ir:return"Fragment";case lr:return"Portal";case ki:return"Profiler";case $o:return"StrictMode";case Si:return"Suspense";case Ci:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qu:return(e.displayName||"Context")+".Consumer";case Hu:return(e._context.displayName||"Context")+".Provider";case Io:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uo:return t=e.displayName||null,t!==null?t:Ei(e.type)||"Memo";case fn:t=e._payload,e=e._init;try{return Ei(e(t))}catch{}}return null}function bh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ei(t);case 8:return t===$o?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jh(e){var t=Yu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ea(e){e._valueTracker||(e._valueTracker=jh(e))}function Qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Yu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function La(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Di(e,t){var n=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qd(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ku(e,t){t=t.checked,t!=null&&Fo(e,"checked",t,!1)}function Mi(e,t){Ku(e,t);var n=Dn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ti(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ti(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ti(e,t,n){(t!=="number"||La(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ss=Array.isArray;function yr(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Dn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ri(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(ss(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dn(n)}}function Xu(e,t){var n=Dn(t.value),s=Dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Gd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ta,Ju=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ta.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wh=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(e){wh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),is[t]=is[e]})});function Zu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||is.hasOwnProperty(e)&&is[e]?(""+t).trim():t+"px"}function em(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=Zu(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var Nh=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pi(e,t){if(t){if(Nh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Li(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ai=null;function zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,vr=null,br=null;function Jd(e){if(e=Bs(e)){if(typeof Fi!="function")throw Error(F(280));var t=e.stateNode;t&&(t=yl(t),Fi(e.stateNode,e.type,t))}}function tm(e){vr?br?br.push(e):br=[e]:vr=e}function nm(){if(vr){var e=vr,t=br;if(br=vr=null,Jd(e),t)for(e=0;e<t.length;e++)Jd(t[e])}}function rm(e,t){return e(t)}function sm(){}var Vl=!1;function am(e,t,n){if(Vl)return e(t,n);Vl=!0;try{return rm(e,t,n)}finally{Vl=!1,(vr!==null||br!==null)&&(sm(),nm())}}function ys(e,t){var n=e.stateNode;if(n===null)return null;var s=yl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var $i=!1;if(tn)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){$i=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{$i=!1}function _h(e,t,n,s,a,l,i,o,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var os=!1,Aa=null,Fa=!1,Ii=null,kh={onError:function(e){os=!0,Aa=e}};function Sh(e,t,n,s,a,l,i,o,d){os=!1,Aa=null,_h.apply(kh,arguments)}function Ch(e,t,n,s,a,l,i,o,d){if(Sh.apply(this,arguments),os){if(os){var c=Aa;os=!1,Aa=null}else throw Error(F(198));Fa||(Fa=!0,Ii=c)}}function nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zd(e){if(nr(e)!==e)throw Error(F(188))}function Eh(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return Zd(a),e;if(l===s)return Zd(a),t;l=l.sibling}throw Error(F(188))}if(n.return!==s.return)n=a,s=l;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,s=l;break}if(o===s){i=!0,s=a,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,s=a;break}if(o===s){i=!0,s=l,n=a;break}o=o.sibling}if(!i)throw Error(F(189))}}if(n.alternate!==s)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function im(e){return e=Eh(e),e!==null?om(e):null}function om(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=om(e);if(t!==null)return t;e=e.sibling}return null}var dm=jt.unstable_scheduleCallback,ec=jt.unstable_cancelCallback,Dh=jt.unstable_shouldYield,Mh=jt.unstable_requestPaint,We=jt.unstable_now,Th=jt.unstable_getCurrentPriorityLevel,Wo=jt.unstable_ImmediatePriority,cm=jt.unstable_UserBlockingPriority,$a=jt.unstable_NormalPriority,Rh=jt.unstable_LowPriority,um=jt.unstable_IdlePriority,pl=null,Qt=null;function Oh(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(pl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Ah,Ph=Math.log,Lh=Math.LN2;function Ah(e){return e>>>=0,e===0?32:31-(Ph(e)/Lh|0)|0}var na=64,ra=4194304;function as(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ia(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~a;o!==0?s=as(o):(l&=i,l!==0&&(s=as(l)))}else i=n&~a,i!==0?s=as(i):l!==0&&(s=as(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ft(t),a=1<<n,s|=e[n],t&=~a;return s}function Fh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $h(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Ft(l),o=1<<i,d=a[i];d===-1?(!(o&n)||o&s)&&(a[i]=Fh(o,t)):d<=t&&(e.expiredLanes|=o),l&=~o}}function Ui(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mm(){var e=na;return na<<=1,!(na&4194240)&&(na=64),e}function Yl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function Ih(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Ft(n),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~l}}function Bo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ft(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var ve=0;function fm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pm,Ho,hm,xm,gm,zi=!1,sa=[],bn=null,jn=null,wn=null,vs=new Map,bs=new Map,hn=[],Uh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tc(e,t){switch(e){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(t.pointerId)}}function Yr(e,t,n,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Bs(t),t!==null&&Ho(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function zh(e,t,n,s,a){switch(t){case"focusin":return bn=Yr(bn,e,t,n,s,a),!0;case"dragenter":return jn=Yr(jn,e,t,n,s,a),!0;case"mouseover":return wn=Yr(wn,e,t,n,s,a),!0;case"pointerover":var l=a.pointerId;return vs.set(l,Yr(vs.get(l)||null,e,t,n,s,a)),!0;case"gotpointercapture":return l=a.pointerId,bs.set(l,Yr(bs.get(l)||null,e,t,n,s,a)),!0}return!1}function ym(e){var t=In(e.target);if(t!==null){var n=nr(t);if(n!==null){if(t=n.tag,t===13){if(t=lm(n),t!==null){e.blockedOn=t,gm(e.priority,function(){hm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ba(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Ai=s,n.target.dispatchEvent(s),Ai=null}else return t=Bs(n),t!==null&&Ho(t),e.blockedOn=n,!1;t.shift()}return!0}function nc(e,t,n){ba(e)&&n.delete(t)}function Wh(){zi=!1,bn!==null&&ba(bn)&&(bn=null),jn!==null&&ba(jn)&&(jn=null),wn!==null&&ba(wn)&&(wn=null),vs.forEach(nc),bs.forEach(nc)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,zi||(zi=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,Wh)))}function js(e){function t(a){return Qr(a,e)}if(0<sa.length){Qr(sa[0],e);for(var n=1;n<sa.length;n++){var s=sa[n];s.blockedOn===e&&(s.blockedOn=null)}}for(bn!==null&&Qr(bn,e),jn!==null&&Qr(jn,e),wn!==null&&Qr(wn,e),vs.forEach(t),bs.forEach(t),n=0;n<hn.length;n++)s=hn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)ym(n),n.blockedOn===null&&hn.shift()}var jr=an.ReactCurrentBatchConfig,Ua=!0;function Bh(e,t,n,s){var a=ve,l=jr.transition;jr.transition=null;try{ve=1,qo(e,t,n,s)}finally{ve=a,jr.transition=l}}function Hh(e,t,n,s){var a=ve,l=jr.transition;jr.transition=null;try{ve=4,qo(e,t,n,s)}finally{ve=a,jr.transition=l}}function qo(e,t,n,s){if(Ua){var a=Wi(e,t,n,s);if(a===null)ri(e,t,s,za,n),tc(e,s);else if(zh(a,e,t,n,s))s.stopPropagation();else if(tc(e,s),t&4&&-1<Uh.indexOf(e)){for(;a!==null;){var l=Bs(a);if(l!==null&&pm(l),l=Wi(e,t,n,s),l===null&&ri(e,t,s,za,n),l===a)break;a=l}a!==null&&s.stopPropagation()}else ri(e,t,s,null,n)}}var za=null;function Wi(e,t,n,s){if(za=null,e=zo(s),e=In(e),e!==null)if(t=nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return za=e,null}function vm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Th()){case Wo:return 1;case cm:return 4;case $a:case Rh:return 16;case um:return 536870912;default:return 16}default:return 16}}var gn=null,Vo=null,ja=null;function bm(){if(ja)return ja;var e,t=Vo,n=t.length,s,a="value"in gn?gn.value:gn.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===a[l-s];s++);return ja=a.slice(e,1<s?1-s:void 0)}function wa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function aa(){return!0}function rc(){return!1}function Nt(e){function t(n,s,a,l,i){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?aa:rc,this.isPropagationStopped=rc,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),t}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=Nt(Pr),Ws=Ae({},Pr,{view:0,detail:0}),qh=Nt(Ws),Ql,Kl,Kr,hl=Ae({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kr&&(Kr&&e.type==="mousemove"?(Ql=e.screenX-Kr.screenX,Kl=e.screenY-Kr.screenY):Kl=Ql=0,Kr=e),Ql)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),sc=Nt(hl),Vh=Ae({},hl,{dataTransfer:0}),Yh=Nt(Vh),Qh=Ae({},Ws,{relatedTarget:0}),Xl=Nt(Qh),Kh=Ae({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xh=Nt(Kh),Gh=Ae({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jh=Nt(Gh),Zh=Ae({},Pr,{data:0}),ac=Nt(Zh),ex={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nx[e])?!!t[e]:!1}function Qo(){return rx}var sx=Ae({},Ws,{key:function(e){if(e.key){var t=ex[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(e){return e.type==="keypress"?wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ax=Nt(sx),lx=Ae({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lc=Nt(lx),ix=Ae({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),ox=Nt(ix),dx=Ae({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cx=Nt(dx),ux=Ae({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mx=Nt(ux),fx=[9,13,27,32],Ko=tn&&"CompositionEvent"in window,ds=null;tn&&"documentMode"in document&&(ds=document.documentMode);var px=tn&&"TextEvent"in window&&!ds,jm=tn&&(!Ko||ds&&8<ds&&11>=ds),ic=" ",oc=!1;function wm(e,t){switch(e){case"keyup":return fx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function hx(e,t){switch(e){case"compositionend":return Nm(t);case"keypress":return t.which!==32?null:(oc=!0,ic);case"textInput":return e=t.data,e===ic&&oc?null:e;default:return null}}function xx(e,t){if(or)return e==="compositionend"||!Ko&&wm(e,t)?(e=bm(),ja=Vo=gn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jm&&t.locale!=="ko"?null:t.data;default:return null}}var gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gx[e.type]:t==="textarea"}function _m(e,t,n,s){tm(s),t=Wa(t,"onChange"),0<t.length&&(n=new Yo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var cs=null,ws=null;function yx(e){Lm(e,0)}function xl(e){var t=ur(e);if(Qu(t))return e}function vx(e,t){if(e==="change")return t}var km=!1;if(tn){var Gl;if(tn){var Jl="oninput"in document;if(!Jl){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),Jl=typeof cc.oninput=="function"}Gl=Jl}else Gl=!1;km=Gl&&(!document.documentMode||9<document.documentMode)}function uc(){cs&&(cs.detachEvent("onpropertychange",Sm),ws=cs=null)}function Sm(e){if(e.propertyName==="value"&&xl(ws)){var t=[];_m(t,ws,e,zo(e)),am(yx,t)}}function bx(e,t,n){e==="focusin"?(uc(),cs=t,ws=n,cs.attachEvent("onpropertychange",Sm)):e==="focusout"&&uc()}function jx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xl(ws)}function wx(e,t){if(e==="click")return xl(t)}function Nx(e,t){if(e==="input"||e==="change")return xl(t)}function _x(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:_x;function Ns(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!_i.call(t,a)||!It(e[a],t[a]))return!1}return!0}function mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fc(e,t){var n=mc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mc(n)}}function Cm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Em(){for(var e=window,t=La();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=La(e.document)}return t}function Xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kx(e){var t=Em(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cm(n.ownerDocument.documentElement,n)){if(s!==null&&Xo(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=fc(n,l);var i=fc(n,s);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sx=tn&&"documentMode"in document&&11>=document.documentMode,dr=null,Bi=null,us=null,Hi=!1;function pc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hi||dr==null||dr!==La(s)||(s=dr,"selectionStart"in s&&Xo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),us&&Ns(us,s)||(us=s,s=Wa(Bi,"onSelect"),0<s.length&&(t=new Yo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=dr)))}function la(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionend:la("Transition","TransitionEnd")},Zl={},Dm={};tn&&(Dm=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function gl(e){if(Zl[e])return Zl[e];if(!cr[e])return e;var t=cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dm)return Zl[e]=t[n];return e}var Mm=gl("animationend"),Tm=gl("animationiteration"),Rm=gl("animationstart"),Om=gl("transitionend"),Pm=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){Pm.set(e,t),tr(t,[e])}for(var ei=0;ei<hc.length;ei++){var ti=hc[ei],Cx=ti.toLowerCase(),Ex=ti[0].toUpperCase()+ti.slice(1);Tn(Cx,"on"+Ex)}Tn(Mm,"onAnimationEnd");Tn(Tm,"onAnimationIteration");Tn(Rm,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(Om,"onTransitionEnd");_r("onMouseEnter",["mouseout","mouseover"]);_r("onMouseLeave",["mouseout","mouseover"]);_r("onPointerEnter",["pointerout","pointerover"]);_r("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function xc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Ch(s,t,void 0,e),e.currentTarget=null}function Lm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],d=o.instance,c=o.currentTarget;if(o=o.listener,d!==l&&a.isPropagationStopped())break e;xc(a,o,c),l=d}else for(i=0;i<s.length;i++){if(o=s[i],d=o.instance,c=o.currentTarget,o=o.listener,d!==l&&a.isPropagationStopped())break e;xc(a,o,c),l=d}}}if(Fa)throw e=Ii,Fa=!1,Ii=null,e}function Se(e,t){var n=t[Ki];n===void 0&&(n=t[Ki]=new Set);var s=e+"__bubble";n.has(s)||(Am(t,e,2,!1),n.add(s))}function ni(e,t,n){var s=0;t&&(s|=4),Am(n,e,s,t)}var ia="_reactListening"+Math.random().toString(36).slice(2);function _s(e){if(!e[ia]){e[ia]=!0,Bu.forEach(function(n){n!=="selectionchange"&&(Dx.has(n)||ni(n,!1,e),ni(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ia]||(t[ia]=!0,ni("selectionchange",!1,t))}}function Am(e,t,n,s){switch(vm(t)){case 1:var a=Bh;break;case 4:a=Hh;break;default:a=qo}n=a.bind(null,t,n,e),a=void 0,!$i||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function ri(e,t,n,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=s.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;i=i.return}for(;o!==null;){if(i=In(o),i===null)return;if(d=i.tag,d===5||d===6){s=l=i;continue e}o=o.parentNode}}s=s.return}am(function(){var c=l,p=zo(n),u=[];e:{var x=Pm.get(e);if(x!==void 0){var v=Yo,f=e;switch(e){case"keypress":if(wa(n)===0)break e;case"keydown":case"keyup":v=ax;break;case"focusin":f="focus",v=Xl;break;case"focusout":f="blur",v=Xl;break;case"beforeblur":case"afterblur":v=Xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ox;break;case Mm:case Tm:case Rm:v=Xh;break;case Om:v=cx;break;case"scroll":v=qh;break;case"wheel":v=mx;break;case"copy":case"cut":case"paste":v=Jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=lc}var j=(t&4)!==0,S=!j&&e==="scroll",y=j?x!==null?x+"Capture":null:x;j=[];for(var h=c,m;h!==null;){m=h;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,y!==null&&(b=ys(h,y),b!=null&&j.push(ks(h,b,m)))),S)break;h=h.return}0<j.length&&(x=new v(x,f,null,n,p),u.push({event:x,listeners:j}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",x&&n!==Ai&&(f=n.relatedTarget||n.fromElement)&&(In(f)||f[nn]))break e;if((v||x)&&(x=p.window===p?p:(x=p.ownerDocument)?x.defaultView||x.parentWindow:window,v?(f=n.relatedTarget||n.toElement,v=c,f=f?In(f):null,f!==null&&(S=nr(f),f!==S||f.tag!==5&&f.tag!==6)&&(f=null)):(v=null,f=c),v!==f)){if(j=sc,b="onMouseLeave",y="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(j=lc,b="onPointerLeave",y="onPointerEnter",h="pointer"),S=v==null?x:ur(v),m=f==null?x:ur(f),x=new j(b,h+"leave",v,n,p),x.target=S,x.relatedTarget=m,b=null,In(p)===c&&(j=new j(y,h+"enter",f,n,p),j.target=m,j.relatedTarget=S,b=j),S=b,v&&f)t:{for(j=v,y=f,h=0,m=j;m;m=sr(m))h++;for(m=0,b=y;b;b=sr(b))m++;for(;0<h-m;)j=sr(j),h--;for(;0<m-h;)y=sr(y),m--;for(;h--;){if(j===y||y!==null&&j===y.alternate)break t;j=sr(j),y=sr(y)}j=null}else j=null;v!==null&&gc(u,x,v,j,!1),f!==null&&S!==null&&gc(u,S,f,j,!0)}}e:{if(x=c?ur(c):window,v=x.nodeName&&x.nodeName.toLowerCase(),v==="select"||v==="input"&&x.type==="file")var w=vx;else if(dc(x))if(km)w=Nx;else{w=jx;var C=bx}else(v=x.nodeName)&&v.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(w=wx);if(w&&(w=w(e,c))){_m(u,w,n,p);break e}C&&C(e,x,c),e==="focusout"&&(C=x._wrapperState)&&C.controlled&&x.type==="number"&&Ti(x,"number",x.value)}switch(C=c?ur(c):window,e){case"focusin":(dc(C)||C.contentEditable==="true")&&(dr=C,Bi=c,us=null);break;case"focusout":us=Bi=dr=null;break;case"mousedown":Hi=!0;break;case"contextmenu":case"mouseup":case"dragend":Hi=!1,pc(u,n,p);break;case"selectionchange":if(Sx)break;case"keydown":case"keyup":pc(u,n,p)}var _;if(Ko)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else or?wm(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(jm&&n.locale!=="ko"&&(or||T!=="onCompositionStart"?T==="onCompositionEnd"&&or&&(_=bm()):(gn=p,Vo="value"in gn?gn.value:gn.textContent,or=!0)),C=Wa(c,T),0<C.length&&(T=new ac(T,e,null,n,p),u.push({event:T,listeners:C}),_?T.data=_:(_=Nm(n),_!==null&&(T.data=_)))),(_=px?hx(e,n):xx(e,n))&&(c=Wa(c,"onBeforeInput"),0<c.length&&(p=new ac("onBeforeInput","beforeinput",null,n,p),u.push({event:p,listeners:c}),p.data=_))}Lm(u,t)})}function ks(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wa(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=ys(e,n),l!=null&&s.unshift(ks(e,l,a)),l=ys(e,t),l!=null&&s.push(ks(e,l,a))),e=e.return}return s}function sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gc(e,t,n,s,a){for(var l=t._reactName,i=[];n!==null&&n!==s;){var o=n,d=o.alternate,c=o.stateNode;if(d!==null&&d===s)break;o.tag===5&&c!==null&&(o=c,a?(d=ys(n,l),d!=null&&i.unshift(ks(n,d,o))):a||(d=ys(n,l),d!=null&&i.push(ks(n,d,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Mx=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function yc(e){return(typeof e=="string"?e:""+e).replace(Mx,`
`).replace(Tx,"")}function oa(e,t,n){if(t=yc(t),yc(e)!==t&&n)throw Error(F(425))}function Ba(){}var qi=null,Vi=null;function Yi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qi=typeof setTimeout=="function"?setTimeout:void 0,Rx=typeof clearTimeout=="function"?clearTimeout:void 0,vc=typeof Promise=="function"?Promise:void 0,Ox=typeof queueMicrotask=="function"?queueMicrotask:typeof vc<"u"?function(e){return vc.resolve(null).then(e).catch(Px)}:Qi;function Px(e){setTimeout(function(){throw e})}function si(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),js(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);js(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Lr,Ss="__reactProps$"+Lr,nn="__reactContainer$"+Lr,Ki="__reactEvents$"+Lr,Lx="__reactListeners$"+Lr,Ax="__reactHandles$"+Lr;function In(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bc(e);e!==null;){if(n=e[Yt])return n;e=bc(e)}return t}e=n,n=e.parentNode}return null}function Bs(e){return e=e[Yt]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function yl(e){return e[Ss]||null}var Xi=[],mr=-1;function Rn(e){return{current:e}}function Ce(e){0>mr||(e.current=Xi[mr],Xi[mr]=null,mr--)}function _e(e,t){mr++,Xi[mr]=e.current,e.current=t}var Mn={},st=Rn(Mn),ft=Rn(!1),Vn=Mn;function kr(e,t){var n=e.type.contextTypes;if(!n)return Mn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return e=e.childContextTypes,e!=null}function Ha(){Ce(ft),Ce(st)}function jc(e,t,n){if(st.current!==Mn)throw Error(F(168));_e(st,t),_e(ft,n)}function Fm(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(F(108,bh(e)||"Unknown",a));return Ae({},n,s)}function qa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mn,Vn=st.current,_e(st,e),_e(ft,ft.current),!0}function wc(e,t,n){var s=e.stateNode;if(!s)throw Error(F(169));n?(e=Fm(e,t,Vn),s.__reactInternalMemoizedMergedChildContext=e,Ce(ft),Ce(st),_e(st,e)):Ce(ft),_e(ft,n)}var Gt=null,vl=!1,ai=!1;function $m(e){Gt===null?Gt=[e]:Gt.push(e)}function Fx(e){vl=!0,$m(e)}function On(){if(!ai&&Gt!==null){ai=!0;var e=0,t=ve;try{var n=Gt;for(ve=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Gt=null,vl=!1}catch(a){throw Gt!==null&&(Gt=Gt.slice(e+1)),dm(Wo,On),a}finally{ve=t,ai=!1}}return null}var fr=[],pr=0,Va=null,Ya=0,kt=[],St=0,Yn=null,Jt=1,Zt="";function An(e,t){fr[pr++]=Ya,fr[pr++]=Va,Va=e,Ya=t}function Im(e,t,n){kt[St++]=Jt,kt[St++]=Zt,kt[St++]=Yn,Yn=e;var s=Jt;e=Zt;var a=32-Ft(s)-1;s&=~(1<<a),n+=1;var l=32-Ft(t)+a;if(30<l){var i=a-a%5;l=(s&(1<<i)-1).toString(32),s>>=i,a-=i,Jt=1<<32-Ft(t)+a|n<<a|s,Zt=l+e}else Jt=1<<l|n<<a|s,Zt=e}function Go(e){e.return!==null&&(An(e,1),Im(e,1,0))}function Jo(e){for(;e===Va;)Va=fr[--pr],fr[pr]=null,Ya=fr[--pr],fr[pr]=null;for(;e===Yn;)Yn=kt[--St],kt[St]=null,Zt=kt[--St],kt[St]=null,Jt=kt[--St],kt[St]=null}var bt=null,vt=null,De=!1,At=null;function Um(e,t){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bt=e,vt=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yn!==null?{id:Jt,overflow:Zt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bt=e,vt=null,!0):!1;default:return!1}}function Gi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ji(e){if(De){var t=vt;if(t){var n=t;if(!Nc(e,t)){if(Gi(e))throw Error(F(418));t=Nn(n.nextSibling);var s=bt;t&&Nc(e,t)?Um(s,n):(e.flags=e.flags&-4097|2,De=!1,bt=e)}}else{if(Gi(e))throw Error(F(418));e.flags=e.flags&-4097|2,De=!1,bt=e}}}function _c(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bt=e}function da(e){if(e!==bt)return!1;if(!De)return _c(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yi(e.type,e.memoizedProps)),t&&(t=vt)){if(Gi(e))throw zm(),Error(F(418));for(;t;)Um(e,t),t=Nn(t.nextSibling)}if(_c(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=Nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=bt?Nn(e.stateNode.nextSibling):null;return!0}function zm(){for(var e=vt;e;)e=Nn(e.nextSibling)}function Sr(){vt=bt=null,De=!1}function Zo(e){At===null?At=[e]:At.push(e)}var $x=an.ReactCurrentBatchConfig;function Xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var s=n.stateNode}if(!s)throw Error(F(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function ca(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kc(e){var t=e._init;return t(e._payload)}function Wm(e){function t(y,h){if(e){var m=y.deletions;m===null?(y.deletions=[h],y.flags|=16):m.push(h)}}function n(y,h){if(!e)return null;for(;h!==null;)t(y,h),h=h.sibling;return null}function s(y,h){for(y=new Map;h!==null;)h.key!==null?y.set(h.key,h):y.set(h.index,h),h=h.sibling;return y}function a(y,h){return y=Cn(y,h),y.index=0,y.sibling=null,y}function l(y,h,m){return y.index=m,e?(m=y.alternate,m!==null?(m=m.index,m<h?(y.flags|=2,h):m):(y.flags|=2,h)):(y.flags|=1048576,h)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,h,m,b){return h===null||h.tag!==6?(h=mi(m,y.mode,b),h.return=y,h):(h=a(h,m),h.return=y,h)}function d(y,h,m,b){var w=m.type;return w===ir?p(y,h,m.props.children,b,m.key):h!==null&&(h.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===fn&&kc(w)===h.type)?(b=a(h,m.props),b.ref=Xr(y,h,m),b.return=y,b):(b=Da(m.type,m.key,m.props,null,y.mode,b),b.ref=Xr(y,h,m),b.return=y,b)}function c(y,h,m,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=fi(m,y.mode,b),h.return=y,h):(h=a(h,m.children||[]),h.return=y,h)}function p(y,h,m,b,w){return h===null||h.tag!==7?(h=Hn(m,y.mode,b,w),h.return=y,h):(h=a(h,m),h.return=y,h)}function u(y,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=mi(""+h,y.mode,m),h.return=y,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Zs:return m=Da(h.type,h.key,h.props,null,y.mode,m),m.ref=Xr(y,null,h),m.return=y,m;case lr:return h=fi(h,y.mode,m),h.return=y,h;case fn:var b=h._init;return u(y,b(h._payload),m)}if(ss(h)||qr(h))return h=Hn(h,y.mode,m,null),h.return=y,h;ca(y,h)}return null}function x(y,h,m,b){var w=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return w!==null?null:o(y,h,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zs:return m.key===w?d(y,h,m,b):null;case lr:return m.key===w?c(y,h,m,b):null;case fn:return w=m._init,x(y,h,w(m._payload),b)}if(ss(m)||qr(m))return w!==null?null:p(y,h,m,b,null);ca(y,m)}return null}function v(y,h,m,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(m)||null,o(h,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zs:return y=y.get(b.key===null?m:b.key)||null,d(h,y,b,w);case lr:return y=y.get(b.key===null?m:b.key)||null,c(h,y,b,w);case fn:var C=b._init;return v(y,h,m,C(b._payload),w)}if(ss(b)||qr(b))return y=y.get(m)||null,p(h,y,b,w,null);ca(h,b)}return null}function f(y,h,m,b){for(var w=null,C=null,_=h,T=h=0,$=null;_!==null&&T<m.length;T++){_.index>T?($=_,_=null):$=_.sibling;var E=x(y,_,m[T],b);if(E===null){_===null&&(_=$);break}e&&_&&E.alternate===null&&t(y,_),h=l(E,h,T),C===null?w=E:C.sibling=E,C=E,_=$}if(T===m.length)return n(y,_),De&&An(y,T),w;if(_===null){for(;T<m.length;T++)_=u(y,m[T],b),_!==null&&(h=l(_,h,T),C===null?w=_:C.sibling=_,C=_);return De&&An(y,T),w}for(_=s(y,_);T<m.length;T++)$=v(_,y,T,m[T],b),$!==null&&(e&&$.alternate!==null&&_.delete($.key===null?T:$.key),h=l($,h,T),C===null?w=$:C.sibling=$,C=$);return e&&_.forEach(function(W){return t(y,W)}),De&&An(y,T),w}function j(y,h,m,b){var w=qr(m);if(typeof w!="function")throw Error(F(150));if(m=w.call(m),m==null)throw Error(F(151));for(var C=w=null,_=h,T=h=0,$=null,E=m.next();_!==null&&!E.done;T++,E=m.next()){_.index>T?($=_,_=null):$=_.sibling;var W=x(y,_,E.value,b);if(W===null){_===null&&(_=$);break}e&&_&&W.alternate===null&&t(y,_),h=l(W,h,T),C===null?w=W:C.sibling=W,C=W,_=$}if(E.done)return n(y,_),De&&An(y,T),w;if(_===null){for(;!E.done;T++,E=m.next())E=u(y,E.value,b),E!==null&&(h=l(E,h,T),C===null?w=E:C.sibling=E,C=E);return De&&An(y,T),w}for(_=s(y,_);!E.done;T++,E=m.next())E=v(_,y,T,E.value,b),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?T:E.key),h=l(E,h,T),C===null?w=E:C.sibling=E,C=E);return e&&_.forEach(function(re){return t(y,re)}),De&&An(y,T),w}function S(y,h,m,b){if(typeof m=="object"&&m!==null&&m.type===ir&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Zs:e:{for(var w=m.key,C=h;C!==null;){if(C.key===w){if(w=m.type,w===ir){if(C.tag===7){n(y,C.sibling),h=a(C,m.props.children),h.return=y,y=h;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===fn&&kc(w)===C.type){n(y,C.sibling),h=a(C,m.props),h.ref=Xr(y,C,m),h.return=y,y=h;break e}n(y,C);break}else t(y,C);C=C.sibling}m.type===ir?(h=Hn(m.props.children,y.mode,b,m.key),h.return=y,y=h):(b=Da(m.type,m.key,m.props,null,y.mode,b),b.ref=Xr(y,h,m),b.return=y,y=b)}return i(y);case lr:e:{for(C=m.key;h!==null;){if(h.key===C)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(y,h.sibling),h=a(h,m.children||[]),h.return=y,y=h;break e}else{n(y,h);break}else t(y,h);h=h.sibling}h=fi(m,y.mode,b),h.return=y,y=h}return i(y);case fn:return C=m._init,S(y,h,C(m._payload),b)}if(ss(m))return f(y,h,m,b);if(qr(m))return j(y,h,m,b);ca(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(y,h.sibling),h=a(h,m),h.return=y,y=h):(n(y,h),h=mi(m,y.mode,b),h.return=y,y=h),i(y)):n(y,h)}return S}var Cr=Wm(!0),Bm=Wm(!1),Qa=Rn(null),Ka=null,hr=null,ed=null;function td(){ed=hr=Ka=null}function nd(e){var t=Qa.current;Ce(Qa),e._currentValue=t}function Zi(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function wr(e,t){Ka=e,ed=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(ed!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(Ka===null)throw Error(F(308));hr=e,Ka.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var Un=null;function rd(e){Un===null?Un=[e]:Un.push(e)}function Hm(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,rd(t)):(n.next=a.next,a.next=n),t.interleaved=n,rn(e,s)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pn=!1;function sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function en(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ue&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,rn(e,n)}return a=s.interleaved,a===null?(t.next=t,rd(s)):(t.next=a.next,a.next=t),s.interleaved=t,rn(e,n)}function Na(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Bo(e,n)}}function Sc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xa(e,t,n,s){var a=e.updateQueue;pn=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var d=o,c=d.next;d.next=null,i===null?l=c:i.next=c,i=d;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==i&&(o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=d))}if(l!==null){var u=a.baseState;i=0,p=c=d=null,o=l;do{var x=o.lane,v=o.eventTime;if((s&x)===x){p!==null&&(p=p.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,j=o;switch(x=t,v=n,j.tag){case 1:if(f=j.payload,typeof f=="function"){u=f.call(v,u,x);break e}u=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=j.payload,x=typeof f=="function"?f.call(v,u,x):f,x==null)break e;u=Ae({},u,x);break e;case 2:pn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[o]:x.push(o))}else v={eventTime:v,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(c=p=v,d=u):p=p.next=v,i|=x;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;x=o,o=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(p===null&&(d=u),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Kn|=i,e.lanes=i,e.memoizedState=u}}function Cc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(F(191,a));a.call(s)}}}var Hs={},Kt=Rn(Hs),Cs=Rn(Hs),Es=Rn(Hs);function zn(e){if(e===Hs)throw Error(F(174));return e}function ad(e,t){switch(_e(Es,t),_e(Cs,e),_e(Kt,Hs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oi(t,e)}Ce(Kt),_e(Kt,t)}function Er(){Ce(Kt),Ce(Cs),Ce(Es)}function Vm(e){zn(Es.current);var t=zn(Kt.current),n=Oi(t,e.type);t!==n&&(_e(Cs,e),_e(Kt,n))}function ld(e){Cs.current===e&&(Ce(Kt),Ce(Cs))}var Te=Rn(0);function Ga(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var li=[];function id(){for(var e=0;e<li.length;e++)li[e]._workInProgressVersionPrimary=null;li.length=0}var _a=an.ReactCurrentDispatcher,ii=an.ReactCurrentBatchConfig,Qn=0,Pe=null,qe=null,Ke=null,Ja=!1,ms=!1,Ds=0,Ix=0;function et(){throw Error(F(321))}function od(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!It(e[n],t[n]))return!1;return!0}function dd(e,t,n,s,a,l){if(Qn=l,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_a.current=e===null||e.memoizedState===null?Bx:Hx,e=n(s,a),ms){l=0;do{if(ms=!1,Ds=0,25<=l)throw Error(F(301));l+=1,Ke=qe=null,t.updateQueue=null,_a.current=qx,e=n(s,a)}while(ms)}if(_a.current=Za,t=qe!==null&&qe.next!==null,Qn=0,Ke=qe=Pe=null,Ja=!1,t)throw Error(F(300));return e}function cd(){var e=Ds!==0;return Ds=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Pe.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Mt(){if(qe===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Ke===null?Pe.memoizedState:Ke.next;if(t!==null)Ke=t,qe=e;else{if(e===null)throw Error(F(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ke===null?Pe.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Ms(e,t){return typeof t=="function"?t(e):t}function oi(e){var t=Mt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var s=qe,a=s.baseQueue,l=n.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}s.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,s=s.baseState;var o=i=null,d=null,c=l;do{var p=c.lane;if((Qn&p)===p)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var u={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(o=d=u,i=s):d=d.next=u,Pe.lanes|=p,Kn|=p}c=c.next}while(c!==null&&c!==l);d===null?i=s:d.next=o,It(s,t.memoizedState)||(mt=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=d,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do l=a.lane,Pe.lanes|=l,Kn|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function di(e){var t=Mt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);It(l,t.memoizedState)||(mt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,s]}function Ym(){}function Qm(e,t){var n=Pe,s=Mt(),a=t(),l=!It(s.memoizedState,a);if(l&&(s.memoizedState=a,mt=!0),s=s.queue,ud(Gm.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Ts(9,Xm.bind(null,n,s,a,t),void 0,null),Xe===null)throw Error(F(349));Qn&30||Km(n,t,a)}return a}function Km(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xm(e,t,n,s){t.value=n,t.getSnapshot=s,Jm(t)&&Zm(e)}function Gm(e,t,n){return n(function(){Jm(t)&&Zm(e)})}function Jm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!It(e,n)}catch{return!0}}function Zm(e){var t=rn(e,1);t!==null&&$t(t,e,1,-1)}function Ec(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:e},t.queue=e,e=e.dispatch=Wx.bind(null,Pe,e),[t.memoizedState,e]}function Ts(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function ef(){return Mt().memoizedState}function ka(e,t,n,s){var a=Vt();Pe.flags|=e,a.memoizedState=Ts(1|t,n,void 0,s===void 0?null:s)}function bl(e,t,n,s){var a=Mt();s=s===void 0?null:s;var l=void 0;if(qe!==null){var i=qe.memoizedState;if(l=i.destroy,s!==null&&od(s,i.deps)){a.memoizedState=Ts(t,n,l,s);return}}Pe.flags|=e,a.memoizedState=Ts(1|t,n,l,s)}function Dc(e,t){return ka(8390656,8,e,t)}function ud(e,t){return bl(2048,8,e,t)}function tf(e,t){return bl(4,2,e,t)}function nf(e,t){return bl(4,4,e,t)}function rf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sf(e,t,n){return n=n!=null?n.concat([e]):null,bl(4,4,rf.bind(null,t,e),n)}function md(){}function af(e,t){var n=Mt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&od(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function lf(e,t){var n=Mt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&od(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function of(e,t,n){return Qn&21?(It(n,t)||(n=mm(),Pe.lanes|=n,Kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=n)}function Ux(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var s=ii.transition;ii.transition={};try{e(!1),t()}finally{ve=n,ii.transition=s}}function df(){return Mt().memoizedState}function zx(e,t,n){var s=Sn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},cf(e))uf(t,n);else if(n=Hm(e,t,n,s),n!==null){var a=ot();$t(n,e,s,a),mf(n,t,s)}}function Wx(e,t,n){var s=Sn(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(cf(e))uf(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,n);if(a.hasEagerState=!0,a.eagerState=o,It(o,i)){var d=t.interleaved;d===null?(a.next=a,rd(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}n=Hm(e,t,a,s),n!==null&&(a=ot(),$t(n,e,s,a),mf(n,t,s))}}function cf(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function uf(e,t){ms=Ja=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mf(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Bo(e,n)}}var Za={readContext:Dt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},Bx={readContext:Dt,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Dc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ka(4194308,4,rf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var n=Vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Vt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=zx.bind(null,Pe,e),[s.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:Ec,useDebugValue:md,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Ec(!1),t=e[0];return e=Ux.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Pe,a=Vt();if(De){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Xe===null)throw Error(F(349));Qn&30||Km(s,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Dc(Gm.bind(null,s,l,e),[e]),s.flags|=2048,Ts(9,Xm.bind(null,s,l,n,t),void 0,null),n},useId:function(){var e=Vt(),t=Xe.identifierPrefix;if(De){var n=Zt,s=Jt;n=(s&~(1<<32-Ft(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ds++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ix++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hx={readContext:Dt,useCallback:af,useContext:Dt,useEffect:ud,useImperativeHandle:sf,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:lf,useReducer:oi,useRef:ef,useState:function(){return oi(Ms)},useDebugValue:md,useDeferredValue:function(e){var t=Mt();return of(t,qe.memoizedState,e)},useTransition:function(){var e=oi(Ms)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Ym,useSyncExternalStore:Qm,useId:df,unstable_isNewReconciler:!1},qx={readContext:Dt,useCallback:af,useContext:Dt,useEffect:ud,useImperativeHandle:sf,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:lf,useReducer:di,useRef:ef,useState:function(){return di(Ms)},useDebugValue:md,useDeferredValue:function(e){var t=Mt();return qe===null?t.memoizedState=e:of(t,qe.memoizedState,e)},useTransition:function(){var e=di(Ms)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Ym,useSyncExternalStore:Qm,useId:df,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function eo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jl={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ot(),a=Sn(e),l=en(s,a);l.payload=t,n!=null&&(l.callback=n),t=_n(e,l,a),t!==null&&($t(t,e,a,s),Na(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ot(),a=Sn(e),l=en(s,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=_n(e,l,a),t!==null&&($t(t,e,a,s),Na(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ot(),s=Sn(e),a=en(n,s);a.tag=2,t!=null&&(a.callback=t),t=_n(e,a,s),t!==null&&($t(t,e,s,n),Na(t,e,s))}};function Mc(e,t,n,s,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,i):t.prototype&&t.prototype.isPureReactComponent?!Ns(n,s)||!Ns(a,l):!0}function ff(e,t,n){var s=!1,a=Mn,l=t.contextType;return typeof l=="object"&&l!==null?l=Dt(l):(a=pt(t)?Vn:st.current,s=t.contextTypes,l=(s=s!=null)?kr(e,a):Mn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Tc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&jl.enqueueReplaceState(t,t.state,null)}function to(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},sd(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Dt(l):(l=pt(t)?Vn:st.current,a.context=kr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(eo(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&jl.enqueueReplaceState(a,a.state,null),Xa(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Dr(e,t){try{var n="",s=t;do n+=vh(s),s=s.return;while(s);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function ci(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function no(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Vx=typeof WeakMap=="function"?WeakMap:Map;function pf(e,t,n){n=en(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){tl||(tl=!0,fo=s),no(e,t)},n}function hf(e,t,n){n=en(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){no(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){no(e,t),typeof s!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Rc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Vx;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=lg.bind(null,e,t,n),t.then(e,e))}function Oc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pc(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=en(-1,1),t.tag=2,_n(n,t,1))),n.lanes|=1),e)}var Yx=an.ReactCurrentOwner,mt=!1;function it(e,t,n,s){t.child=e===null?Bm(t,null,n,s):Cr(t,e.child,n,s)}function Lc(e,t,n,s,a){n=n.render;var l=t.ref;return wr(t,a),s=dd(e,t,n,s,l,a),n=cd(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,sn(e,t,a)):(De&&n&&Go(t),t.flags|=1,it(e,t,s,a),t.child)}function Ac(e,t,n,s,a){if(e===null){var l=n.type;return typeof l=="function"&&!bd(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,xf(e,t,l,s,a)):(e=Da(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ns,n(i,s)&&e.ref===t.ref)return sn(e,t,a)}return t.flags|=1,e=Cn(l,s),e.ref=t.ref,e.return=t,t.child=e}function xf(e,t,n,s,a){if(e!==null){var l=e.memoizedProps;if(Ns(l,s)&&e.ref===t.ref)if(mt=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,sn(e,t,a)}return ro(e,t,n,s,a)}function gf(e,t,n){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(gr,yt),yt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(gr,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:n,_e(gr,yt),yt|=s}else l!==null?(s=l.baseLanes|n,t.memoizedState=null):s=n,_e(gr,yt),yt|=s;return it(e,t,a,n),t.child}function yf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ro(e,t,n,s,a){var l=pt(n)?Vn:st.current;return l=kr(t,l),wr(t,a),n=dd(e,t,n,s,l,a),s=cd(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,sn(e,t,a)):(De&&s&&Go(t),t.flags|=1,it(e,t,n,a),t.child)}function Fc(e,t,n,s,a){if(pt(n)){var l=!0;qa(t)}else l=!1;if(wr(t,a),t.stateNode===null)Sa(e,t),ff(t,n,s),to(t,n,s,a),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var d=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Dt(c):(c=pt(n)?Vn:st.current,c=kr(t,c));var p=n.getDerivedStateFromProps,u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||d!==c)&&Tc(t,i,s,c),pn=!1;var x=t.memoizedState;i.state=x,Xa(t,s,i,a),d=t.memoizedState,o!==s||x!==d||ft.current||pn?(typeof p=="function"&&(eo(t,n,p,s),d=t.memoizedState),(o=pn||Mc(t,n,o,s,x,d,c))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),i.props=s,i.state=d,i.context=c,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,qm(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Pt(t.type,o),i.props=c,u=t.pendingProps,x=i.context,d=n.contextType,typeof d=="object"&&d!==null?d=Dt(d):(d=pt(n)?Vn:st.current,d=kr(t,d));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==u||x!==d)&&Tc(t,i,s,d),pn=!1,x=t.memoizedState,i.state=x,Xa(t,s,i,a);var f=t.memoizedState;o!==u||x!==f||ft.current||pn?(typeof v=="function"&&(eo(t,n,v,s),f=t.memoizedState),(c=pn||Mc(t,n,c,s,x,f,d)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,f,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,f,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=f),i.props=s,i.state=f,i.context=d,s=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),s=!1)}return so(e,t,n,s,l,a)}function so(e,t,n,s,a,l){yf(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return a&&wc(t,n,!1),sn(e,t,l);s=t.stateNode,Yx.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Cr(t,e.child,null,l),t.child=Cr(t,null,o,l)):it(e,t,o,l),t.memoizedState=s.state,a&&wc(t,n,!0),t.child}function vf(e){var t=e.stateNode;t.pendingContext?jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jc(e,t.context,!1),ad(e,t.containerInfo)}function $c(e,t,n,s,a){return Sr(),Zo(a),t.flags|=256,it(e,t,n,s),t.child}var ao={dehydrated:null,treeContext:null,retryLane:0};function lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function bf(e,t,n){var s=t.pendingProps,a=Te.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),_e(Te,a&1),e===null)return Ji(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,l?(s=t.mode,l=t.child,i={mode:"hidden",children:i},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=_l(i,s,0,null),e=Hn(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=lo(n),t.memoizedState=ao,e):fd(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Qx(e,t,i,s,o,a,n);if(l){l=s.fallback,i=t.mode,a=e.child,o=a.sibling;var d={mode:"hidden",children:s.children};return!(i&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=Cn(a,d),s.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=Cn(o,l):(l=Hn(l,i,n,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,i=e.child.memoizedState,i=i===null?lo(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=ao,s}return l=e.child,e=l.sibling,s=Cn(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function fd(e,t){return t=_l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ua(e,t,n,s){return s!==null&&Zo(s),Cr(t,e.child,null,n),e=fd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qx(e,t,n,s,a,l,i){if(n)return t.flags&256?(t.flags&=-257,s=ci(Error(F(422))),ua(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=_l({mode:"visible",children:s.children},a,0,null),l=Hn(l,a,i,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&Cr(t,e.child,null,i),t.child.memoizedState=lo(i),t.memoizedState=ao,l);if(!(t.mode&1))return ua(e,t,i,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var o=s.dgst;return s=o,l=Error(F(419)),s=ci(l,s,void 0),ua(e,t,i,s)}if(o=(i&e.childLanes)!==0,mt||o){if(s=Xe,s!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,rn(e,a),$t(s,e,a,-1))}return vd(),s=ci(Error(F(421))),ua(e,t,i,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=ig.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,vt=Nn(a.nextSibling),bt=t,De=!0,At=null,e!==null&&(kt[St++]=Jt,kt[St++]=Zt,kt[St++]=Yn,Jt=e.id,Zt=e.overflow,Yn=t),t=fd(t,s.children),t.flags|=4096,t)}function Ic(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Zi(e.return,t,n)}function ui(e,t,n,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=n,l.tailMode=a)}function jf(e,t,n){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(it(e,t,s.children,n),s=Te.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ic(e,n,t);else if(e.tag===19)Ic(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(_e(Te,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ga(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ui(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ga(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ui(t,!0,n,null,l);break;case"together":ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kx(e,t,n){switch(t.tag){case 3:vf(t),Sr();break;case 5:Vm(t);break;case 1:pt(t.type)&&qa(t);break;case 4:ad(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;_e(Qa,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(_e(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?bf(e,t,n):(_e(Te,Te.current&1),e=sn(e,t,n),e!==null?e.sibling:null);_e(Te,Te.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return jf(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),_e(Te,Te.current),s)break;return null;case 22:case 23:return t.lanes=0,gf(e,t,n)}return sn(e,t,n)}var wf,io,Nf,_f;wf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};io=function(){};Nf=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,zn(Kt.current);var l=null;switch(n){case"input":a=Di(e,a),s=Di(e,s),l=[];break;case"select":a=Ae({},a,{value:void 0}),s=Ae({},s,{value:void 0}),l=[];break;case"textarea":a=Ri(e,a),s=Ri(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ba)}Pi(n,s);var i;n=null;for(c in a)if(!s.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xs.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in s){var d=s[c];if(o=a!=null?a[c]:void 0,s.hasOwnProperty(c)&&d!==o&&(d!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(n||(n={}),n[i]=d[i])}else n||(l||(l=[]),l.push(c,n)),n=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(l=l||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xs.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&Se("scroll",e),l||o===d||(l=[])):(l=l||[]).push(c,d))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};_f=function(e,t,n,s){n!==s&&(t.flags|=4)};function Gr(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Xx(e,t,n){var s=t.pendingProps;switch(Jo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return pt(t.type)&&Ha(),tt(t),null;case 3:return s=t.stateNode,Er(),Ce(ft),Ce(st),id(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(da(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(xo(At),At=null))),io(e,t),tt(t),null;case 5:ld(t);var a=zn(Es.current);if(n=t.type,e!==null&&t.stateNode!=null)Nf(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(F(166));return tt(t),null}if(e=zn(Kt.current),da(t)){s=t.stateNode,n=t.type;var l=t.memoizedProps;switch(s[Yt]=t,s[Ss]=l,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",s),Se("close",s);break;case"iframe":case"object":case"embed":Se("load",s);break;case"video":case"audio":for(a=0;a<ls.length;a++)Se(ls[a],s);break;case"source":Se("error",s);break;case"img":case"image":case"link":Se("error",s),Se("load",s);break;case"details":Se("toggle",s);break;case"input":Qd(s,l),Se("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Se("invalid",s);break;case"textarea":Xd(s,l),Se("invalid",s)}Pi(n,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?s.textContent!==o&&(l.suppressHydrationWarning!==!0&&oa(s.textContent,o,e),a=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&oa(s.textContent,o,e),a=["children",""+o]):xs.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Se("scroll",s)}switch(n){case"input":ea(s),Kd(s,l,!0);break;case"textarea":ea(s),Gd(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Ba)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[Yt]=t,e[Ss]=s,wf(e,t,!1,!1),t.stateNode=e;e:{switch(i=Li(n,s),n){case"dialog":Se("cancel",e),Se("close",e),a=s;break;case"iframe":case"object":case"embed":Se("load",e),a=s;break;case"video":case"audio":for(a=0;a<ls.length;a++)Se(ls[a],e);a=s;break;case"source":Se("error",e),a=s;break;case"img":case"image":case"link":Se("error",e),Se("load",e),a=s;break;case"details":Se("toggle",e),a=s;break;case"input":Qd(e,s),a=Di(e,s),Se("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Ae({},s,{value:void 0}),Se("invalid",e);break;case"textarea":Xd(e,s),a=Ri(e,s),Se("invalid",e);break;default:a=s}Pi(n,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="style"?em(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Ju(e,d)):l==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&gs(e,d):typeof d=="number"&&gs(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(xs.hasOwnProperty(l)?d!=null&&l==="onScroll"&&Se("scroll",e):d!=null&&Fo(e,l,d,i))}switch(n){case"input":ea(e),Kd(e,s,!1);break;case"textarea":ea(e),Gd(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Dn(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?yr(e,!!s.multiple,l,!1):s.defaultValue!=null&&yr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ba)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)_f(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(F(166));if(n=zn(Es.current),zn(Kt.current),da(t)){if(s=t.stateNode,n=t.memoizedProps,s[Yt]=t,(l=s.nodeValue!==n)&&(e=bt,e!==null))switch(e.tag){case 3:oa(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oa(s.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Yt]=t,t.stateNode=s}return tt(t),null;case 13:if(Ce(Te),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&vt!==null&&t.mode&1&&!(t.flags&128))zm(),Sr(),t.flags|=98560,l=!1;else if(l=da(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(F(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(F(317));l[Yt]=t}else Sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),l=!1}else At!==null&&(xo(At),At=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Ve===0&&(Ve=3):vd())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Er(),io(e,t),e===null&&_s(t.stateNode.containerInfo),tt(t),null;case 10:return nd(t.type._context),tt(t),null;case 17:return pt(t.type)&&Ha(),tt(t),null;case 19:if(Ce(Te),l=t.memoizedState,l===null)return tt(t),null;if(s=(t.flags&128)!==0,i=l.rendering,i===null)if(s)Gr(l,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ga(e),i!==null){for(t.flags|=128,Gr(l,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)l=n,e=s,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Te,Te.current&1|2),t.child}e=e.sibling}l.tail!==null&&We()>Mr&&(t.flags|=128,s=!0,Gr(l,!1),t.lanes=4194304)}else{if(!s)if(e=Ga(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!De)return tt(t),null}else 2*We()-l.renderingStartTime>Mr&&n!==1073741824&&(t.flags|=128,s=!0,Gr(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=We(),t.sibling=null,n=Te.current,_e(Te,s?n&1|2:n&1),t):(tt(t),null);case 22:case 23:return yd(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?yt&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Gx(e,t){switch(Jo(t),t.tag){case 1:return pt(t.type)&&Ha(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Er(),Ce(ft),Ce(st),id(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ld(t),null;case 13:if(Ce(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Te),null;case 4:return Er(),null;case 10:return nd(t.type._context),null;case 22:case 23:return yd(),null;case 24:return null;default:return null}}var ma=!1,nt=!1,Jx=typeof WeakSet=="function"?WeakSet:Set,V=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ie(e,t,s)}else n.current=null}function oo(e,t,n){try{n()}catch(s){Ie(e,t,s)}}var Uc=!1;function Zx(e,t){if(qi=Ua,e=Em(),Xo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,o=-1,d=-1,c=0,p=0,u=e,x=null;t:for(;;){for(var v;u!==n||a!==0&&u.nodeType!==3||(o=i+a),u!==l||s!==0&&u.nodeType!==3||(d=i+s),u.nodeType===3&&(i+=u.nodeValue.length),(v=u.firstChild)!==null;)x=u,u=v;for(;;){if(u===e)break t;if(x===n&&++c===a&&(o=i),x===l&&++p===s&&(d=i),(v=u.nextSibling)!==null)break;u=x,x=u.parentNode}u=v}n=o===-1||d===-1?null:{start:o,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vi={focusedElem:e,selectionRange:n},Ua=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var j=f.memoizedProps,S=f.memoizedState,y=t.stateNode,h=y.getSnapshotBeforeUpdate(t.elementType===t.type?j:Pt(t.type,j),S);y.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(b){Ie(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return f=Uc,Uc=!1,f}function fs(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&oo(t,n,l)}a=a.next}while(a!==s)}}function wl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function co(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kf(e){var t=e.alternate;t!==null&&(e.alternate=null,kf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[Ss],delete t[Ki],delete t[Lx],delete t[Ax])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sf(e){return e.tag===5||e.tag===3||e.tag===4}function zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ba));else if(s!==4&&(e=e.child,e!==null))for(uo(e,t,n),e=e.sibling;e!==null;)uo(e,t,n),e=e.sibling}function mo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(mo(e,t,n),e=e.sibling;e!==null;)mo(e,t,n),e=e.sibling}var Ge=null,Lt=!1;function un(e,t,n){for(n=n.child;n!==null;)Cf(e,t,n),n=n.sibling}function Cf(e,t,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(pl,n)}catch{}switch(n.tag){case 5:nt||xr(n,t);case 6:var s=Ge,a=Lt;Ge=null,un(e,t,n),Ge=s,Lt=a,Ge!==null&&(Lt?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Lt?(e=Ge,n=n.stateNode,e.nodeType===8?si(e.parentNode,n):e.nodeType===1&&si(e,n),js(e)):si(Ge,n.stateNode));break;case 4:s=Ge,a=Lt,Ge=n.stateNode.containerInfo,Lt=!0,un(e,t,n),Ge=s,Lt=a;break;case 0:case 11:case 14:case 15:if(!nt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&oo(n,t,i),a=a.next}while(a!==s)}un(e,t,n);break;case 1:if(!nt&&(xr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){Ie(n,t,o)}un(e,t,n);break;case 21:un(e,t,n);break;case 22:n.mode&1?(nt=(s=nt)||n.memoizedState!==null,un(e,t,n),nt=s):un(e,t,n);break;default:un(e,t,n)}}function Wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jx),t.forEach(function(s){var a=og.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function Ot(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ge=o.stateNode,Lt=!1;break e;case 3:Ge=o.stateNode.containerInfo,Lt=!0;break e;case 4:Ge=o.stateNode.containerInfo,Lt=!0;break e}o=o.return}if(Ge===null)throw Error(F(160));Cf(l,i,a),Ge=null,Lt=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){Ie(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ef(t,e),t=t.sibling}function Ef(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Ht(e),s&4){try{fs(3,e,e.return),wl(3,e)}catch(j){Ie(e,e.return,j)}try{fs(5,e,e.return)}catch(j){Ie(e,e.return,j)}}break;case 1:Ot(t,e),Ht(e),s&512&&n!==null&&xr(n,n.return);break;case 5:if(Ot(t,e),Ht(e),s&512&&n!==null&&xr(n,n.return),e.flags&32){var a=e.stateNode;try{gs(a,"")}catch(j){Ie(e,e.return,j)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Ku(a,l),Li(o,i);var c=Li(o,l);for(i=0;i<d.length;i+=2){var p=d[i],u=d[i+1];p==="style"?em(a,u):p==="dangerouslySetInnerHTML"?Ju(a,u):p==="children"?gs(a,u):Fo(a,p,u,c)}switch(o){case"input":Mi(a,l);break;case"textarea":Xu(a,l);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?yr(a,!!l.multiple,v,!1):x!==!!l.multiple&&(l.defaultValue!=null?yr(a,!!l.multiple,l.defaultValue,!0):yr(a,!!l.multiple,l.multiple?[]:"",!1))}a[Ss]=l}catch(j){Ie(e,e.return,j)}}break;case 6:if(Ot(t,e),Ht(e),s&4){if(e.stateNode===null)throw Error(F(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(j){Ie(e,e.return,j)}}break;case 3:if(Ot(t,e),Ht(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{js(t.containerInfo)}catch(j){Ie(e,e.return,j)}break;case 4:Ot(t,e),Ht(e);break;case 13:Ot(t,e),Ht(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(xd=We())),s&4&&Wc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(nt=(c=nt)||p,Ot(t,e),nt=c):Ot(t,e),Ht(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(V=e,p=e.child;p!==null;){for(u=V=p;V!==null;){switch(x=V,v=x.child,x.tag){case 0:case 11:case 14:case 15:fs(4,x,x.return);break;case 1:xr(x,x.return);var f=x.stateNode;if(typeof f.componentWillUnmount=="function"){s=x,n=x.return;try{t=s,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(j){Ie(s,n,j)}}break;case 5:xr(x,x.return);break;case 22:if(x.memoizedState!==null){Hc(u);continue}}v!==null?(v.return=x,V=v):Hc(u)}p=p.sibling}e:for(p=null,u=e;;){if(u.tag===5){if(p===null){p=u;try{a=u.stateNode,c?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=u.stateNode,d=u.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=Zu("display",i))}catch(j){Ie(e,e.return,j)}}}else if(u.tag===6){if(p===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(j){Ie(e,e.return,j)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Ot(t,e),Ht(e),s&4&&Wc(e);break;case 21:break;default:Ot(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sf(n)){var s=n;break e}n=n.return}throw Error(F(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(gs(a,""),s.flags&=-33);var l=zc(e);mo(e,l,a);break;case 3:case 4:var i=s.stateNode.containerInfo,o=zc(e);uo(e,o,i);break;default:throw Error(F(161))}}catch(d){Ie(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eg(e,t,n){V=e,Df(e)}function Df(e,t,n){for(var s=(e.mode&1)!==0;V!==null;){var a=V,l=a.child;if(a.tag===22&&s){var i=a.memoizedState!==null||ma;if(!i){var o=a.alternate,d=o!==null&&o.memoizedState!==null||nt;o=ma;var c=nt;if(ma=i,(nt=d)&&!c)for(V=a;V!==null;)i=V,d=i.child,i.tag===22&&i.memoizedState!==null?qc(a):d!==null?(d.return=i,V=d):qc(a);for(;l!==null;)V=l,Df(l),l=l.sibling;V=a,ma=o,nt=c}Bc(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,V=l):Bc(e)}}function Bc(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||wl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!nt)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Pt(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Cc(t,l,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cc(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var u=p.dehydrated;u!==null&&js(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}nt||t.flags&512&&co(t)}catch(x){Ie(t,t.return,x)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Hc(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function qc(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wl(4,t)}catch(d){Ie(t,n,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(d){Ie(t,a,d)}}var l=t.return;try{co(t)}catch(d){Ie(t,l,d)}break;case 5:var i=t.return;try{co(t)}catch(d){Ie(t,i,d)}}}catch(d){Ie(t,t.return,d)}if(t===e){V=null;break}var o=t.sibling;if(o!==null){o.return=t.return,V=o;break}V=t.return}}var tg=Math.ceil,el=an.ReactCurrentDispatcher,pd=an.ReactCurrentOwner,Et=an.ReactCurrentBatchConfig,ue=0,Xe=null,He=null,Je=0,yt=0,gr=Rn(0),Ve=0,Rs=null,Kn=0,Nl=0,hd=0,ps=null,ut=null,xd=0,Mr=1/0,Xt=null,tl=!1,fo=null,kn=null,fa=!1,yn=null,nl=0,hs=0,po=null,Ca=-1,Ea=0;function ot(){return ue&6?We():Ca!==-1?Ca:Ca=We()}function Sn(e){return e.mode&1?ue&2&&Je!==0?Je&-Je:$x.transition!==null?(Ea===0&&(Ea=mm()),Ea):(e=ve,e!==0||(e=window.event,e=e===void 0?16:vm(e.type)),e):1}function $t(e,t,n,s){if(50<hs)throw hs=0,po=null,Error(F(185));zs(e,n,s),(!(ue&2)||e!==Xe)&&(e===Xe&&(!(ue&2)&&(Nl|=n),Ve===4&&xn(e,Je)),ht(e,s),n===1&&ue===0&&!(t.mode&1)&&(Mr=We()+500,vl&&On()))}function ht(e,t){var n=e.callbackNode;$h(e,t);var s=Ia(e,e===Xe?Je:0);if(s===0)n!==null&&ec(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&ec(n),t===1)e.tag===0?Fx(Vc.bind(null,e)):$m(Vc.bind(null,e)),Ox(function(){!(ue&6)&&On()}),n=null;else{switch(fm(s)){case 1:n=Wo;break;case 4:n=cm;break;case 16:n=$a;break;case 536870912:n=um;break;default:n=$a}n=Ff(n,Mf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mf(e,t){if(Ca=-1,Ea=0,ue&6)throw Error(F(327));var n=e.callbackNode;if(Nr()&&e.callbackNode!==n)return null;var s=Ia(e,e===Xe?Je:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=rl(e,s);else{t=s;var a=ue;ue|=2;var l=Rf();(Xe!==e||Je!==t)&&(Xt=null,Mr=We()+500,Bn(e,t));do try{sg();break}catch(o){Tf(e,o)}while(!0);td(),el.current=l,ue=a,He!==null?t=0:(Xe=null,Je=0,t=Ve)}if(t!==0){if(t===2&&(a=Ui(e),a!==0&&(s=a,t=ho(e,a))),t===1)throw n=Rs,Bn(e,0),xn(e,s),ht(e,We()),n;if(t===6)xn(e,s);else{if(a=e.current.alternate,!(s&30)&&!ng(a)&&(t=rl(e,s),t===2&&(l=Ui(e),l!==0&&(s=l,t=ho(e,l))),t===1))throw n=Rs,Bn(e,0),xn(e,s),ht(e,We()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(F(345));case 2:Fn(e,ut,Xt);break;case 3:if(xn(e,s),(s&130023424)===s&&(t=xd+500-We(),10<t)){if(Ia(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){ot(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Qi(Fn.bind(null,e,ut,Xt),t);break}Fn(e,ut,Xt);break;case 4:if(xn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var i=31-Ft(s);l=1<<i,i=t[i],i>a&&(a=i),s&=~l}if(s=a,s=We()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*tg(s/1960))-s,10<s){e.timeoutHandle=Qi(Fn.bind(null,e,ut,Xt),s);break}Fn(e,ut,Xt);break;case 5:Fn(e,ut,Xt);break;default:throw Error(F(329))}}}return ht(e,We()),e.callbackNode===n?Mf.bind(null,e):null}function ho(e,t){var n=ps;return e.current.memoizedState.isDehydrated&&(Bn(e,t).flags|=256),e=rl(e,t),e!==2&&(t=ut,ut=n,t!==null&&xo(t)),e}function xo(e){ut===null?ut=e:ut.push.apply(ut,e)}function ng(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],l=a.getSnapshot;a=a.value;try{if(!It(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xn(e,t){for(t&=~hd,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),s=1<<n;e[n]=-1,t&=~s}}function Vc(e){if(ue&6)throw Error(F(327));Nr();var t=Ia(e,0);if(!(t&1))return ht(e,We()),null;var n=rl(e,t);if(e.tag!==0&&n===2){var s=Ui(e);s!==0&&(t=s,n=ho(e,s))}if(n===1)throw n=Rs,Bn(e,0),xn(e,t),ht(e,We()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fn(e,ut,Xt),ht(e,We()),null}function gd(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(Mr=We()+500,vl&&On())}}function Xn(e){yn!==null&&yn.tag===0&&!(ue&6)&&Nr();var t=ue;ue|=1;var n=Et.transition,s=ve;try{if(Et.transition=null,ve=1,e)return e()}finally{ve=s,Et.transition=n,ue=t,!(ue&6)&&On()}}function yd(){yt=gr.current,Ce(gr)}function Bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Rx(n)),He!==null)for(n=He.return;n!==null;){var s=n;switch(Jo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ha();break;case 3:Er(),Ce(ft),Ce(st),id();break;case 5:ld(s);break;case 4:Er();break;case 13:Ce(Te);break;case 19:Ce(Te);break;case 10:nd(s.type._context);break;case 22:case 23:yd()}n=n.return}if(Xe=e,He=e=Cn(e.current,null),Je=yt=t,Ve=0,Rs=null,hd=Nl=Kn=0,ut=ps=null,Un!==null){for(t=0;t<Un.length;t++)if(n=Un[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,l=n.pending;if(l!==null){var i=l.next;l.next=a,s.next=i}n.pending=s}Un=null}return e}function Tf(e,t){do{var n=He;try{if(td(),_a.current=Za,Ja){for(var s=Pe.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ja=!1}if(Qn=0,Ke=qe=Pe=null,ms=!1,Ds=0,pd.current=null,n===null||n.return===null){Ve=1,Rs=t,He=null;break}e:{var l=e,i=n.return,o=n,d=t;if(t=Je,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,p=o,u=p.tag;if(!(p.mode&1)&&(u===0||u===11||u===15)){var x=p.alternate;x?(p.updateQueue=x.updateQueue,p.memoizedState=x.memoizedState,p.lanes=x.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Oc(i);if(v!==null){v.flags&=-257,Pc(v,i,o,l,t),v.mode&1&&Rc(l,c,t),t=v,d=c;var f=t.updateQueue;if(f===null){var j=new Set;j.add(d),t.updateQueue=j}else f.add(d);break e}else{if(!(t&1)){Rc(l,c,t),vd();break e}d=Error(F(426))}}else if(De&&o.mode&1){var S=Oc(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Pc(S,i,o,l,t),Zo(Dr(d,o));break e}}l=d=Dr(d,o),Ve!==4&&(Ve=2),ps===null?ps=[l]:ps.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var y=pf(l,d,t);Sc(l,y);break e;case 1:o=d;var h=l.type,m=l.stateNode;if(!(l.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(kn===null||!kn.has(m)))){l.flags|=65536,t&=-t,l.lanes|=t;var b=hf(l,o,t);Sc(l,b);break e}}l=l.return}while(l!==null)}Pf(n)}catch(w){t=w,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function Rf(){var e=el.current;return el.current=Za,e===null?Za:e}function vd(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Xe===null||!(Kn&268435455)&&!(Nl&268435455)||xn(Xe,Je)}function rl(e,t){var n=ue;ue|=2;var s=Rf();(Xe!==e||Je!==t)&&(Xt=null,Bn(e,t));do try{rg();break}catch(a){Tf(e,a)}while(!0);if(td(),ue=n,el.current=s,He!==null)throw Error(F(261));return Xe=null,Je=0,Ve}function rg(){for(;He!==null;)Of(He)}function sg(){for(;He!==null&&!Dh();)Of(He)}function Of(e){var t=Af(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Pf(e):He=t,pd.current=null}function Pf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Gx(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,He=null;return}}else if(n=Xx(n,t,yt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Ve===0&&(Ve=5)}function Fn(e,t,n){var s=ve,a=Et.transition;try{Et.transition=null,ve=1,ag(e,t,n,s)}finally{Et.transition=a,ve=s}return null}function ag(e,t,n,s){do Nr();while(yn!==null);if(ue&6)throw Error(F(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Ih(e,l),e===Xe&&(He=Xe=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fa||(fa=!0,Ff($a,function(){return Nr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Et.transition,Et.transition=null;var i=ve;ve=1;var o=ue;ue|=4,pd.current=null,Zx(e,n),Ef(n,e),kx(Vi),Ua=!!qi,Vi=qi=null,e.current=n,eg(n),Mh(),ue=o,ve=i,Et.transition=l}else e.current=n;if(fa&&(fa=!1,yn=e,nl=a),l=e.pendingLanes,l===0&&(kn=null),Oh(n.stateNode),ht(e,We()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(tl)throw tl=!1,e=fo,fo=null,e;return nl&1&&e.tag!==0&&Nr(),l=e.pendingLanes,l&1?e===po?hs++:(hs=0,po=e):hs=0,On(),null}function Nr(){if(yn!==null){var e=fm(nl),t=Et.transition,n=ve;try{if(Et.transition=null,ve=16>e?16:e,yn===null)var s=!1;else{if(e=yn,yn=null,nl=0,ue&6)throw Error(F(331));var a=ue;for(ue|=4,V=e.current;V!==null;){var l=V,i=l.child;if(V.flags&16){var o=l.deletions;if(o!==null){for(var d=0;d<o.length;d++){var c=o[d];for(V=c;V!==null;){var p=V;switch(p.tag){case 0:case 11:case 15:fs(8,p,l)}var u=p.child;if(u!==null)u.return=p,V=u;else for(;V!==null;){p=V;var x=p.sibling,v=p.return;if(kf(p),p===c){V=null;break}if(x!==null){x.return=v,V=x;break}V=v}}}var f=l.alternate;if(f!==null){var j=f.child;if(j!==null){f.child=null;do{var S=j.sibling;j.sibling=null,j=S}while(j!==null)}}V=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,V=i;else e:for(;V!==null;){if(l=V,l.flags&2048)switch(l.tag){case 0:case 11:case 15:fs(9,l,l.return)}var y=l.sibling;if(y!==null){y.return=l.return,V=y;break e}V=l.return}}var h=e.current;for(V=h;V!==null;){i=V;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,V=m;else e:for(i=h;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:wl(9,o)}}catch(w){Ie(o,o.return,w)}if(o===i){V=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,V=b;break e}V=o.return}}if(ue=a,On(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(pl,e)}catch{}s=!0}return s}finally{ve=n,Et.transition=t}}return!1}function Yc(e,t,n){t=Dr(n,t),t=pf(e,t,1),e=_n(e,t,1),t=ot(),e!==null&&(zs(e,1,t),ht(e,t))}function Ie(e,t,n){if(e.tag===3)Yc(e,e,n);else for(;t!==null;){if(t.tag===3){Yc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(kn===null||!kn.has(s))){e=Dr(n,e),e=hf(t,e,1),t=_n(t,e,1),e=ot(),t!==null&&(zs(t,1,e),ht(t,e));break}}t=t.return}}function lg(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&n,Xe===e&&(Je&n)===n&&(Ve===4||Ve===3&&(Je&130023424)===Je&&500>We()-xd?Bn(e,0):hd|=n),ht(e,t)}function Lf(e,t){t===0&&(e.mode&1?(t=ra,ra<<=1,!(ra&130023424)&&(ra=4194304)):t=1);var n=ot();e=rn(e,t),e!==null&&(zs(e,t,n),ht(e,n))}function ig(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lf(e,n)}function og(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(F(314))}s!==null&&s.delete(t),Lf(e,n)}var Af;Af=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mt=!1,Kx(e,t,n);mt=!!(e.flags&131072)}else mt=!1,De&&t.flags&1048576&&Im(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Sa(e,t),e=t.pendingProps;var a=kr(t,st.current);wr(t,n),a=dd(null,t,s,e,a,n);var l=cd();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(s)?(l=!0,qa(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,sd(t),a.updater=jl,t.stateNode=a,a._reactInternals=t,to(t,s,e,n),t=so(null,t,s,!0,l,n)):(t.tag=0,De&&l&&Go(t),it(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Sa(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=cg(s),e=Pt(s,e),a){case 0:t=ro(null,t,s,e,n);break e;case 1:t=Fc(null,t,s,e,n);break e;case 11:t=Lc(null,t,s,e,n);break e;case 14:t=Ac(null,t,s,Pt(s.type,e),n);break e}throw Error(F(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Pt(s,a),ro(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Pt(s,a),Fc(e,t,s,a,n);case 3:e:{if(vf(t),e===null)throw Error(F(387));s=t.pendingProps,l=t.memoizedState,a=l.element,qm(e,t),Xa(t,s,null,n);var i=t.memoizedState;if(s=i.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Dr(Error(F(423)),t),t=$c(e,t,s,n,a);break e}else if(s!==a){a=Dr(Error(F(424)),t),t=$c(e,t,s,n,a);break e}else for(vt=Nn(t.stateNode.containerInfo.firstChild),bt=t,De=!0,At=null,n=Bm(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sr(),s===a){t=sn(e,t,n);break e}it(e,t,s,n)}t=t.child}return t;case 5:return Vm(t),e===null&&Ji(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Yi(s,a)?i=null:l!==null&&Yi(s,l)&&(t.flags|=32),yf(e,t),it(e,t,i,n),t.child;case 6:return e===null&&Ji(t),null;case 13:return bf(e,t,n);case 4:return ad(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Cr(t,null,s,n):it(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Pt(s,a),Lc(e,t,s,a,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,_e(Qa,s._currentValue),s._currentValue=i,l!==null)if(It(l.value,i)){if(l.children===a.children&&!ft.current){t=sn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var d=o.firstContext;d!==null;){if(d.context===s){if(l.tag===1){d=en(-1,n&-n),d.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?d.next=d:(d.next=p.next,p.next=d),c.pending=d}}l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),Zi(l.return,n,t),o.lanes|=n;break}d=d.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(F(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Zi(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}it(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,wr(t,n),a=Dt(a),s=s(a),t.flags|=1,it(e,t,s,n),t.child;case 14:return s=t.type,a=Pt(s,t.pendingProps),a=Pt(s.type,a),Ac(e,t,s,a,n);case 15:return xf(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Pt(s,a),Sa(e,t),t.tag=1,pt(s)?(e=!0,qa(t)):e=!1,wr(t,n),ff(t,s,a),to(t,s,a,n),so(null,t,s,!0,e,n);case 19:return jf(e,t,n);case 22:return gf(e,t,n)}throw Error(F(156,t.tag))};function Ff(e,t){return dm(e,t)}function dg(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,s){return new dg(e,t,n,s)}function bd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cg(e){if(typeof e=="function")return bd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Io)return 11;if(e===Uo)return 14}return 2}function Cn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Da(e,t,n,s,a,l){var i=2;if(s=e,typeof e=="function")bd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ir:return Hn(n.children,a,l,t);case $o:i=8,a|=8;break;case ki:return e=Ct(12,n,t,a|2),e.elementType=ki,e.lanes=l,e;case Si:return e=Ct(13,n,t,a),e.elementType=Si,e.lanes=l,e;case Ci:return e=Ct(19,n,t,a),e.elementType=Ci,e.lanes=l,e;case Vu:return _l(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hu:i=10;break e;case qu:i=9;break e;case Io:i=11;break e;case Uo:i=14;break e;case fn:i=16,s=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Ct(i,n,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function Hn(e,t,n,s){return e=Ct(7,e,s,t),e.lanes=n,e}function _l(e,t,n,s){return e=Ct(22,e,s,t),e.elementType=Vu,e.lanes=n,e.stateNode={isHidden:!1},e}function mi(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function fi(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ug(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function jd(e,t,n,s,a,l,i,o,d){return e=new ug(e,t,n,o,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ct(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sd(l),e}function mg(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function $f(e){if(!e)return Mn;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(pt(n))return Fm(e,n,t)}return t}function If(e,t,n,s,a,l,i,o,d){return e=jd(n,s,!0,e,a,l,i,o,d),e.context=$f(null),n=e.current,s=ot(),a=Sn(n),l=en(s,a),l.callback=t??null,_n(n,l,a),e.current.lanes=a,zs(e,a,s),ht(e,s),e}function kl(e,t,n,s){var a=t.current,l=ot(),i=Sn(a);return n=$f(n),t.context===null?t.context=n:t.pendingContext=n,t=en(l,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=_n(a,t,i),e!==null&&($t(e,a,i,l),Na(e,a,i)),i}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wd(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}function fg(){return null}var Uf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nd(e){this._internalRoot=e}Sl.prototype.render=Nd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));kl(e,t,null,null)};Sl.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){kl(null,e,null,null)}),t[nn]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hn.length&&t!==0&&t<hn[n].priority;n++);hn.splice(n,0,e),n===0&&ym(e)}};function _d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kc(){}function pg(e,t,n,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var c=sl(i);l.call(c)}}var i=If(t,s,e,0,null,!1,!1,"",Kc);return e._reactRootContainer=i,e[nn]=i.current,_s(e.nodeType===8?e.parentNode:e),Xn(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var o=s;s=function(){var c=sl(d);o.call(c)}}var d=jd(e,0,!1,null,null,!1,!1,"",Kc);return e._reactRootContainer=d,e[nn]=d.current,_s(e.nodeType===8?e.parentNode:e),Xn(function(){kl(t,d,n,s)}),d}function El(e,t,n,s,a){var l=n._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var d=sl(i);o.call(d)}}kl(t,i,e,a)}else i=pg(n,t,e,a,s);return sl(i)}pm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=as(t.pendingLanes);n!==0&&(Bo(t,n|1),ht(t,We()),!(ue&6)&&(Mr=We()+500,On()))}break;case 13:Xn(function(){var s=rn(e,1);if(s!==null){var a=ot();$t(s,e,1,a)}}),wd(e,1)}};Ho=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=ot();$t(t,e,134217728,n)}wd(e,134217728)}};hm=function(e){if(e.tag===13){var t=Sn(e),n=rn(e,t);if(n!==null){var s=ot();$t(n,e,t,s)}wd(e,t)}};xm=function(){return ve};gm=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};Fi=function(e,t,n){switch(t){case"input":if(Mi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=yl(s);if(!a)throw Error(F(90));Qu(s),Mi(s,a)}}}break;case"textarea":Xu(e,n);break;case"select":t=n.value,t!=null&&yr(e,!!n.multiple,t,!1)}};rm=gd;sm=Xn;var hg={usingClientEntryPoint:!1,Events:[Bs,ur,yl,tm,nm,gd]},Jr={findFiberByHostInstance:In,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xg={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=im(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||fg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{pl=pa.inject(xg),Qt=pa}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hg;wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_d(t))throw Error(F(200));return mg(e,t,null,n)};wt.createRoot=function(e,t){if(!_d(e))throw Error(F(299));var n=!1,s="",a=Uf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=jd(e,1,!1,null,null,n,!1,s,a),e[nn]=t.current,_s(e.nodeType===8?e.parentNode:e),new Nd(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=im(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return Xn(e)};wt.hydrate=function(e,t,n){if(!Cl(t))throw Error(F(200));return El(null,e,t,!0,n)};wt.hydrateRoot=function(e,t,n){if(!_d(e))throw Error(F(405));var s=n!=null&&n.hydratedSources||null,a=!1,l="",i=Uf;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=If(t,null,e,1,n??null,a,!1,l,i),e[nn]=t.current,_s(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Sl(t)};wt.render=function(e,t,n){if(!Cl(t))throw Error(F(200));return El(null,e,t,!1,n)};wt.unmountComponentAtNode=function(e){if(!Cl(e))throw Error(F(40));return e._reactRootContainer?(Xn(function(){El(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};wt.unstable_batchedUpdates=gd;wt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Cl(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return El(e,t,n,!1,s)};wt.version="18.3.1-next-f1338f8080-20240426";function zf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zf)}catch(e){console.error(e)}}zf(),Uu.exports=wt;var gg=Uu.exports,Xc=gg;Ni.createRoot=Xc.createRoot,Ni.hydrateRoot=Xc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Os.apply(this,arguments)}var vn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vn||(vn={}));const Gc="popstate";function yg(e){e===void 0&&(e={});function t(s,a){let{pathname:l,search:i,hash:o}=s.location;return go("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:al(a)}return bg(t,n,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vg(){return Math.random().toString(36).substr(2,8)}function Jc(e,t){return{usr:e.state,key:e.key,idx:t}}function go(e,t,n,s){return n===void 0&&(n=null),Os({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ar(t):t,{state:n,key:t&&t.key||s||vg()})}function al(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ar(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function bg(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,i=a.history,o=vn.Pop,d=null,c=p();c==null&&(c=0,i.replaceState(Os({},i.state,{idx:c}),""));function p(){return(i.state||{idx:null}).idx}function u(){o=vn.Pop;let S=p(),y=S==null?null:S-c;c=S,d&&d({action:o,location:j.location,delta:y})}function x(S,y){o=vn.Push;let h=go(j.location,S,y);c=p()+1;let m=Jc(h,c),b=j.createHref(h);try{i.pushState(m,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(b)}l&&d&&d({action:o,location:j.location,delta:1})}function v(S,y){o=vn.Replace;let h=go(j.location,S,y);c=p();let m=Jc(h,c),b=j.createHref(h);i.replaceState(m,"",b),l&&d&&d({action:o,location:j.location,delta:0})}function f(S){let y=a.location.origin!=="null"?a.location.origin:a.location.href,h=typeof S=="string"?S:al(S);return h=h.replace(/ $/,"%20"),Le(y,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,y)}let j={get action(){return o},get location(){return e(a,i)},listen(S){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Gc,u),d=S,()=>{a.removeEventListener(Gc,u),d=null}},createHref(S){return t(a,S)},createURL:f,encodeLocation(S){let y=f(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:x,replace:v,go(S){return i.go(S)}};return j}var Zc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zc||(Zc={}));function jg(e,t,n){return n===void 0&&(n="/"),wg(e,t,n)}function wg(e,t,n,s){let a=typeof t=="string"?Ar(t):t,l=Tr(a.pathname||"/",n);if(l==null)return null;let i=Wf(e);Ng(i);let o=null;for(let d=0;o==null&&d<i.length;++d){let c=Pg(l);o=Rg(i[d],c)}return o}function Wf(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(l,i,o)=>{let d={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};d.relativePath.startsWith("/")&&(Le(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let c=En([s,d.relativePath]),p=n.concat(d);l.children&&l.children.length>0&&(Le(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Wf(l.children,t,p,c)),!(l.path==null&&!l.index)&&t.push({path:c,score:Mg(c,l.index),routesMeta:p})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let d of Bf(l.path))a(l,i,d)}),t}function Bf(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let i=Bf(s.join("/")),o=[];return o.push(...i.map(d=>d===""?l:[l,d].join("/"))),a&&o.push(...i),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function Ng(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Tg(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const _g=/^:[\w-]+$/,kg=3,Sg=2,Cg=1,Eg=10,Dg=-2,eu=e=>e==="*";function Mg(e,t){let n=e.split("/"),s=n.length;return n.some(eu)&&(s+=Dg),t&&(s+=Sg),n.filter(a=>!eu(a)).reduce((a,l)=>a+(_g.test(l)?kg:l===""?Cg:Eg),s)}function Tg(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Rg(e,t,n){let{routesMeta:s}=e,a={},l="/",i=[];for(let o=0;o<s.length;++o){let d=s[o],c=o===s.length-1,p=l==="/"?t:t.slice(l.length)||"/",u=yo({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},p),x=d.route;if(!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:En([l,u.pathname]),pathnameBase:Ig(En([l,u.pathnameBase])),route:x}),u.pathnameBase!=="/"&&(l=En([l,u.pathnameBase]))}return i}function yo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Og(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:s.reduce((c,p,u)=>{let{paramName:x,isOptional:v}=p;if(x==="*"){let j=o[u]||"";i=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const f=o[u];return v&&!f?c[x]=void 0:c[x]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:i,pattern:e}}function Og(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),kd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,d)=>(s.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Pg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const Lg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ag=e=>Lg.test(e);function Fg(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Ar(e):e,l;if(n)if(Ag(n))l=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),kd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?l=tu(n.substring(1),"/"):l=tu(n,t)}else l=t;return{pathname:l,search:Ug(s),hash:zg(a)}}function tu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function pi(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $g(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Sd(e,t){let n=$g(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Cd(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Ar(e):(a=Os({},e),Le(!a.pathname||!a.pathname.includes("?"),pi("?","pathname","search",a)),Le(!a.pathname||!a.pathname.includes("#"),pi("#","pathname","hash",a)),Le(!a.search||!a.search.includes("#"),pi("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=n;else{let u=t.length-1;if(!s&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),u-=1;a.pathname=x.join("/")}o=u>=0?t[u]:"/"}let d=Fg(a,o),c=i&&i!=="/"&&i.endsWith("/"),p=(l||i===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(c||p)&&(d.pathname+="/"),d}const En=e=>e.join("/").replace(/\/\/+/g,"/"),Ig=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ug=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Wg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hf=["post","put","patch","delete"];new Set(Hf);const Bg=["get",...Hf];new Set(Bg);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ps.apply(this,arguments)}const Dl=g.createContext(null),qf=g.createContext(null),ln=g.createContext(null),Ml=g.createContext(null),Pn=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Vf=g.createContext(null);function Hg(e,t){let{relative:n}=t===void 0?{}:t;Fr()||Le(!1);let{basename:s,navigator:a}=g.useContext(ln),{hash:l,pathname:i,search:o}=Tl(e,{relative:n}),d=i;return s!=="/"&&(d=i==="/"?s:En([s,i])),a.createHref({pathname:d,search:o,hash:l})}function Fr(){return g.useContext(Ml)!=null}function $r(){return Fr()||Le(!1),g.useContext(Ml).location}function Yf(e){g.useContext(ln).static||g.useLayoutEffect(e)}function Ed(){let{isDataRoute:e}=g.useContext(Pn);return e?r0():qg()}function qg(){Fr()||Le(!1);let e=g.useContext(Dl),{basename:t,future:n,navigator:s}=g.useContext(ln),{matches:a}=g.useContext(Pn),{pathname:l}=$r(),i=JSON.stringify(Sd(a,n.v7_relativeSplatPath)),o=g.useRef(!1);return Yf(()=>{o.current=!0}),g.useCallback(function(c,p){if(p===void 0&&(p={}),!o.current)return;if(typeof c=="number"){s.go(c);return}let u=Cd(c,JSON.parse(i),l,p.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:En([t,u.pathname])),(p.replace?s.replace:s.push)(u,p.state,p)},[t,s,i,l,e])}function Tl(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=g.useContext(ln),{matches:a}=g.useContext(Pn),{pathname:l}=$r(),i=JSON.stringify(Sd(a,s.v7_relativeSplatPath));return g.useMemo(()=>Cd(e,JSON.parse(i),l,n==="path"),[e,i,l,n])}function Vg(e,t){return Yg(e,t)}function Yg(e,t,n,s){Fr()||Le(!1);let{navigator:a}=g.useContext(ln),{matches:l}=g.useContext(Pn),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let c=$r(),p;if(t){var u;let S=typeof t=="string"?Ar(t):t;d==="/"||(u=S.pathname)!=null&&u.startsWith(d)||Le(!1),p=S}else p=c;let x=p.pathname||"/",v=x;if(d!=="/"){let S=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let f=jg(e,{pathname:v}),j=Jg(f&&f.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:En([d,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:En([d,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,n,s);return t&&j?g.createElement(Ml.Provider,{value:{location:Ps({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:vn.Pop}},j):j}function Qg(){let e=n0(),t=Wg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:a},n):null,null)}const Kg=g.createElement(Qg,null);class Xg extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(Pn.Provider,{value:this.props.routeContext},g.createElement(Vf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gg(e){let{routeContext:t,match:n,children:s}=e,a=g.useContext(Dl);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Pn.Provider,{value:t},s)}function Jg(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(a=n)==null?void 0:a.errors;if(o!=null){let p=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);p>=0||Le(!1),i=i.slice(0,Math.min(i.length,p+1))}let d=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let p=0;p<i.length;p++){let u=i[p];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=p),u.route.id){let{loaderData:x,errors:v}=n,f=u.route.loader&&x[u.route.id]===void 0&&(!v||v[u.route.id]===void 0);if(u.route.lazy||f){d=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((p,u,x)=>{let v,f=!1,j=null,S=null;n&&(v=o&&u.route.id?o[u.route.id]:void 0,j=u.route.errorElement||Kg,d&&(c<0&&x===0?(s0("route-fallback"),f=!0,S=null):c===x&&(f=!0,S=u.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,x+1)),h=()=>{let m;return v?m=j:f?m=S:u.route.Component?m=g.createElement(u.route.Component,null):u.route.element?m=u.route.element:m=p,g.createElement(Gg,{match:u,routeContext:{outlet:p,matches:y,isDataRoute:n!=null},children:m})};return n&&(u.route.ErrorBoundary||u.route.errorElement||x===0)?g.createElement(Xg,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:h(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):h()},null)}var Qf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Qf||{}),Kf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kf||{});function Zg(e){let t=g.useContext(Dl);return t||Le(!1),t}function e0(e){let t=g.useContext(qf);return t||Le(!1),t}function t0(e){let t=g.useContext(Pn);return t||Le(!1),t}function Xf(e){let t=t0(),n=t.matches[t.matches.length-1];return n.route.id||Le(!1),n.route.id}function n0(){var e;let t=g.useContext(Vf),n=e0(),s=Xf();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function r0(){let{router:e}=Zg(Qf.UseNavigateStable),t=Xf(Kf.UseNavigateStable),n=g.useRef(!1);return Yf(()=>{n.current=!0}),g.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ps({fromRouteId:t},l)))},[e,t])}const nu={};function s0(e,t,n){nu[e]||(nu[e]=!0)}function a0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ls(e){let{to:t,replace:n,state:s,relative:a}=e;Fr()||Le(!1);let{future:l,static:i}=g.useContext(ln),{matches:o}=g.useContext(Pn),{pathname:d}=$r(),c=Ed(),p=Cd(t,Sd(o,l.v7_relativeSplatPath),d,a==="path"),u=JSON.stringify(p);return g.useEffect(()=>c(JSON.parse(u),{replace:n,state:s,relative:a}),[c,u,a,n,s]),null}function je(e){Le(!1)}function l0(e){let{basename:t="/",children:n=null,location:s,navigationType:a=vn.Pop,navigator:l,static:i=!1,future:o}=e;Fr()&&Le(!1);let d=t.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:d,navigator:l,static:i,future:Ps({v7_relativeSplatPath:!1},o)}),[d,o,l,i]);typeof s=="string"&&(s=Ar(s));let{pathname:p="/",search:u="",hash:x="",state:v=null,key:f="default"}=s,j=g.useMemo(()=>{let S=Tr(p,d);return S==null?null:{location:{pathname:S,search:u,hash:x,state:v,key:f},navigationType:a}},[d,p,u,x,v,f,a]);return j==null?null:g.createElement(ln.Provider,{value:c},g.createElement(Ml.Provider,{children:n,value:j}))}function Rl(e){let{children:t,location:n}=e;return Vg(vo(t),n)}new Promise(()=>{});function vo(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(s,a)=>{if(!g.isValidElement(s))return;let l=[...t,a];if(s.type===g.Fragment){n.push.apply(n,vo(s.props.children,l));return}s.type!==je&&Le(!1),!s.props.index||!s.props.children||Le(!1);let i={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=vo(s.props.children,l)),n.push(i)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ll.apply(this,arguments)}function Gf(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function i0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function o0(e,t){return e.button===0&&(!t||t==="_self")&&!i0(e)}const d0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],u0="6";try{window.__reactRouterVersion=u0}catch{}const m0=g.createContext({isTransitioning:!1}),f0="startTransition",ru=lh[f0];function p0(e){let{basename:t,children:n,future:s,window:a}=e,l=g.useRef();l.current==null&&(l.current=yg({window:a,v5Compat:!0}));let i=l.current,[o,d]=g.useState({action:i.action,location:i.location}),{v7_startTransition:c}=s||{},p=g.useCallback(u=>{c&&ru?ru(()=>d(u)):d(u)},[d,c]);return g.useLayoutEffect(()=>i.listen(p),[i,p]),g.useEffect(()=>a0(s),[s]),g.createElement(l0,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:s})}const h0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g0=g.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:l,replace:i,state:o,target:d,to:c,preventScrollReset:p,viewTransition:u}=t,x=Gf(t,d0),{basename:v}=g.useContext(ln),f,j=!1;if(typeof c=="string"&&x0.test(c)&&(f=c,h0))try{let m=new URL(window.location.href),b=c.startsWith("//")?new URL(m.protocol+c):new URL(c),w=Tr(b.pathname,v);b.origin===m.origin&&w!=null?c=w+b.search+b.hash:j=!0}catch{}let S=Hg(c,{relative:a}),y=b0(c,{replace:i,state:o,target:d,preventScrollReset:p,relative:a,viewTransition:u});function h(m){s&&s(m),m.defaultPrevented||y(m)}return g.createElement("a",ll({},x,{href:f||S,onClick:j||l?s:h,ref:n,target:d}))}),y0=g.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:a=!1,className:l="",end:i=!1,style:o,to:d,viewTransition:c,children:p}=t,u=Gf(t,c0),x=Tl(d,{relative:u.relative}),v=$r(),f=g.useContext(qf),{navigator:j,basename:S}=g.useContext(ln),y=f!=null&&j0(x)&&c===!0,h=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,m=v.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;a||(m=m.toLowerCase(),b=b?b.toLowerCase():null,h=h.toLowerCase()),b&&S&&(b=Tr(b,S)||b);const w=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let C=m===h||!i&&m.startsWith(h)&&m.charAt(w)==="/",_=b!=null&&(b===h||!i&&b.startsWith(h)&&b.charAt(h.length)==="/"),T={isActive:C,isPending:_,isTransitioning:y},$=C?s:void 0,E;typeof l=="function"?E=l(T):E=[l,C?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let W=typeof o=="function"?o(T):o;return g.createElement(g0,ll({},u,{"aria-current":$,className:E,ref:n,style:W,to:d,viewTransition:c}),typeof p=="function"?p(T):p)});var bo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bo||(bo={}));var su;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(su||(su={}));function v0(e){let t=g.useContext(Dl);return t||Le(!1),t}function b0(e,t){let{target:n,replace:s,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,d=Ed(),c=$r(),p=Tl(e,{relative:i});return g.useCallback(u=>{if(o0(u,n)){u.preventDefault();let x=s!==void 0?s:al(c)===al(p);d(e,{replace:x,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[c,d,p,s,a,n,e,l,i,o])}function j0(e,t){t===void 0&&(t={});let n=g.useContext(m0);n==null&&Le(!1);let{basename:s}=v0(bo.useViewTransitionState),a=Tl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,i=Tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yo(a.pathname,i)!=null||yo(a.pathname,l)!=null}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),me=(e,t)=>{const n=g.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:d,...c},p)=>g.createElement("svg",{ref:p,...w0,width:a,height:a,stroke:s,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${N0(e)}`,o].join(" "),...c},[...t.map(([u,x])=>g.createElement(u,x)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=me("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=me("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=me("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=me("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=me("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=me("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=me("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=me("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=me("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=me("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function np(e,t){return function(){return e.apply(t,arguments)}}const{toString:E0}=Object.prototype,{getPrototypeOf:Td}=Object,{iterator:Pl,toStringTag:rp}=Symbol,Ll=(e=>t=>{const n=E0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Wt=e=>(e=e.toLowerCase(),t=>Ll(t)===e),Al=e=>t=>typeof t===e,{isArray:Ir}=Array,Rr=Al("undefined");function qs(e){return e!==null&&!Rr(e)&&e.constructor!==null&&!Rr(e.constructor)&&xt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sp=Wt("ArrayBuffer");function D0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sp(e.buffer),t}const M0=Al("string"),xt=Al("function"),ap=Al("number"),Vs=e=>e!==null&&typeof e=="object",T0=e=>e===!0||e===!1,Ta=e=>{if(Ll(e)!=="object")return!1;const t=Td(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(rp in e)&&!(Pl in e)},R0=e=>{if(!Vs(e)||qs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},O0=Wt("Date"),P0=Wt("File"),L0=Wt("Blob"),A0=Wt("FileList"),F0=e=>Vs(e)&&xt(e.pipe),$0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xt(e.append)&&((t=Ll(e))==="formdata"||t==="object"&&xt(e.toString)&&e.toString()==="[object FormData]"))},I0=Wt("URLSearchParams"),[U0,z0,W0,B0]=["ReadableStream","Request","Response","Headers"].map(Wt),H0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ys(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Ir(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(qs(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(s=0;s<i;s++)o=l[s],t.call(null,e[o],o,e)}}function lp(e,t){if(qs(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const Wn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ip=e=>!Rr(e)&&e!==Wn;function ko(){const{caseless:e,skipUndefined:t}=ip(this)&&this||{},n={},s=(a,l)=>{const i=e&&lp(n,l)||l;Ta(n[i])&&Ta(a)?n[i]=ko(n[i],a):Ta(a)?n[i]=ko({},a):Ir(a)?n[i]=a.slice():(!t||!Rr(a))&&(n[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Ys(arguments[a],s);return n}const q0=(e,t,n,{allOwnKeys:s}={})=>(Ys(t,(a,l)=>{n&&xt(a)?e[l]=np(a,n):e[l]=a},{allOwnKeys:s}),e),V0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Y0=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Q0=(e,t,n,s)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!s||s(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=n!==!1&&Td(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},K0=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},X0=e=>{if(!e)return null;if(Ir(e))return e;let t=e.length;if(!ap(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},G0=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Td(Uint8Array)),J0=(e,t)=>{const s=(e&&e[Pl]).call(e);let a;for(;(a=s.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},Z0=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},ey=Wt("HTMLFormElement"),ty=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),lu=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ny=Wt("RegExp"),op=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Ys(n,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(s[l]=i||a)}),Object.defineProperties(e,s)},ry=e=>{op(e,(t,n)=>{if(xt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(xt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},sy=(e,t)=>{const n={},s=a=>{a.forEach(l=>{n[l]=!0})};return Ir(e)?s(e):s(String(e).split(t)),n},ay=()=>{},ly=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function iy(e){return!!(e&&xt(e.append)&&e[rp]==="FormData"&&e[Pl])}const oy=e=>{const t=new Array(10),n=(s,a)=>{if(Vs(s)){if(t.indexOf(s)>=0)return;if(qs(s))return s;if(!("toJSON"in s)){t[a]=s;const l=Ir(s)?[]:{};return Ys(s,(i,o)=>{const d=n(i,a+1);!Rr(d)&&(l[o]=d)}),t[a]=void 0,l}}return s};return n(e,0)},dy=Wt("AsyncFunction"),cy=e=>e&&(Vs(e)||xt(e))&&xt(e.then)&&xt(e.catch),dp=((e,t)=>e?setImmediate:t?((n,s)=>(Wn.addEventListener("message",({source:a,data:l})=>{a===Wn&&l===n&&s.length&&s.shift()()},!1),a=>{s.push(a),Wn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xt(Wn.postMessage)),uy=typeof queueMicrotask<"u"?queueMicrotask.bind(Wn):typeof process<"u"&&process.nextTick||dp,my=e=>e!=null&&xt(e[Pl]),D={isArray:Ir,isArrayBuffer:sp,isBuffer:qs,isFormData:$0,isArrayBufferView:D0,isString:M0,isNumber:ap,isBoolean:T0,isObject:Vs,isPlainObject:Ta,isEmptyObject:R0,isReadableStream:U0,isRequest:z0,isResponse:W0,isHeaders:B0,isUndefined:Rr,isDate:O0,isFile:P0,isBlob:L0,isRegExp:ny,isFunction:xt,isStream:F0,isURLSearchParams:I0,isTypedArray:G0,isFileList:A0,forEach:Ys,merge:ko,extend:q0,trim:H0,stripBOM:V0,inherits:Y0,toFlatObject:Q0,kindOf:Ll,kindOfTest:Wt,endsWith:K0,toArray:X0,forEachEntry:J0,matchAll:Z0,isHTMLForm:ey,hasOwnProperty:lu,hasOwnProp:lu,reduceDescriptors:op,freezeMethods:ry,toObjectSet:sy,toCamelCase:ty,noop:ay,toFiniteNumber:ly,findKey:lp,global:Wn,isContextDefined:ip,isSpecCompliantForm:iy,toJSONObject:oy,isAsyncFn:dy,isThenable:cy,setImmediate:dp,asap:uy,isIterable:my};function ae(e,t,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}D.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const cp=ae.prototype,up={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{up[e]={value:e}});Object.defineProperties(ae,up);Object.defineProperty(cp,"isAxiosError",{value:!0});ae.from=(e,t,n,s,a,l)=>{const i=Object.create(cp);D.toFlatObject(e,i,function(p){return p!==Error.prototype},c=>c!=="isAxiosError");const o=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return ae.call(i,o,d,n,s,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const fy=null;function So(e){return D.isPlainObject(e)||D.isArray(e)}function mp(e){return D.endsWith(e,"[]")?e.slice(0,-2):e}function iu(e,t,n){return e?e.concat(t).map(function(a,l){return a=mp(a),!n&&l?"["+a+"]":a}).join(n?".":""):t}function py(e){return D.isArray(e)&&!e.some(So)}const hy=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function Fl(e,t,n){if(!D.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,S){return!D.isUndefined(S[j])});const s=n.metaTokens,a=n.visitor||p,l=n.dots,i=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(a))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(D.isDate(f))return f.toISOString();if(D.isBoolean(f))return f.toString();if(!d&&D.isBlob(f))throw new ae("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(f)||D.isTypedArray(f)?d&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function p(f,j,S){let y=f;if(f&&!S&&typeof f=="object"){if(D.endsWith(j,"{}"))j=s?j:j.slice(0,-2),f=JSON.stringify(f);else if(D.isArray(f)&&py(f)||(D.isFileList(f)||D.endsWith(j,"[]"))&&(y=D.toArray(f)))return j=mp(j),y.forEach(function(m,b){!(D.isUndefined(m)||m===null)&&t.append(i===!0?iu([j],b,l):i===null?j:j+"[]",c(m))}),!1}return So(f)?!0:(t.append(iu(S,j,l),c(f)),!1)}const u=[],x=Object.assign(hy,{defaultVisitor:p,convertValue:c,isVisitable:So});function v(f,j){if(!D.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+j.join("."));u.push(f),D.forEach(f,function(y,h){(!(D.isUndefined(y)||y===null)&&a.call(t,y,D.isString(h)?h.trim():h,j,x))===!0&&v(y,j?j.concat(h):[h])}),u.pop()}}if(!D.isObject(e))throw new TypeError("data must be an object");return v(e),t}function ou(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Rd(e,t){this._pairs=[],e&&Fl(e,this,t)}const fp=Rd.prototype;fp.append=function(t,n){this._pairs.push([t,n])};fp.toString=function(t){const n=t?function(s){return t.call(this,s,ou)}:ou;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function xy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pp(e,t,n){if(!t)return e;const s=n&&n.encode||xy;D.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(t,n):l=D.isURLSearchParams(t)?t.toString():new Rd(t,n).toString(s),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class du{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(s){s!==null&&t(s)})}}const hp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gy=typeof URLSearchParams<"u"?URLSearchParams:Rd,yy=typeof FormData<"u"?FormData:null,vy=typeof Blob<"u"?Blob:null,by={isBrowser:!0,classes:{URLSearchParams:gy,FormData:yy,Blob:vy},protocols:["http","https","file","blob","url","data"]},Od=typeof window<"u"&&typeof document<"u",Co=typeof navigator=="object"&&navigator||void 0,jy=Od&&(!Co||["ReactNative","NativeScript","NS"].indexOf(Co.product)<0),wy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ny=Od&&window.location.href||"http://localhost",_y=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Od,hasStandardBrowserEnv:jy,hasStandardBrowserWebWorkerEnv:wy,navigator:Co,origin:Ny},Symbol.toStringTag,{value:"Module"})),rt={..._y,...by};function ky(e,t){return Fl(e,new rt.classes.URLSearchParams,{visitor:function(n,s,a,l){return rt.isNode&&D.isBuffer(n)?(this.append(s,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function Sy(e){return D.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Cy(e){const t={},n=Object.keys(e);let s;const a=n.length;let l;for(s=0;s<a;s++)l=n[s],t[l]=e[l];return t}function xp(e){function t(n,s,a,l){let i=n[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),d=l>=n.length;return i=!i&&D.isArray(a)?a.length:i,d?(D.hasOwnProp(a,i)?a[i]=[a[i],s]:a[i]=s,!o):((!a[i]||!D.isObject(a[i]))&&(a[i]=[]),t(n,s,a[i],l)&&D.isArray(a[i])&&(a[i]=Cy(a[i])),!o)}if(D.isFormData(e)&&D.isFunction(e.entries)){const n={};return D.forEachEntry(e,(s,a)=>{t(Sy(s),a,n,0)}),n}return null}function Ey(e,t,n){if(D.isString(e))try{return(t||JSON.parse)(e),D.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Qs={transitional:hp,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,l=D.isObject(t);if(l&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return a?JSON.stringify(xp(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t)||D.isReadableStream(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ky(t,this.formSerializer).toString();if((o=D.isFileList(t))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Fl(o?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),Ey(t)):t}],transformResponse:[function(t){const n=this.transitional||Qs.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(D.isResponse(t)||D.isReadableStream(t))return t;if(t&&D.isString(t)&&(s&&!this.responseType||a)){const i=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?ae.from(o,ae.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rt.classes.FormData,Blob:rt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],e=>{Qs.headers[e]={}});const Dy=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),My=e=>{const t={};let n,s,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),n=i.substring(0,a).trim().toLowerCase(),s=i.substring(a+1).trim(),!(!n||t[n]&&Dy[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},cu=Symbol("internals");function Zr(e){return e&&String(e).trim().toLowerCase()}function Ra(e){return e===!1||e==null?e:D.isArray(e)?e.map(Ra):String(e)}function Ty(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Ry=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function gi(e,t,n,s,a){if(D.isFunction(s))return s.call(this,t,n);if(a&&(t=n),!!D.isString(t)){if(D.isString(s))return t.indexOf(s)!==-1;if(D.isRegExp(s))return s.test(t)}}function Oy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Py(e,t){const n=D.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,l,i){return this[s].call(this,t,a,l,i)},configurable:!0})})}let gt=class{constructor(t){t&&this.set(t)}set(t,n,s){const a=this;function l(o,d,c){const p=Zr(d);if(!p)throw new Error("header name must be a non-empty string");const u=D.findKey(a,p);(!u||a[u]===void 0||c===!0||c===void 0&&a[u]!==!1)&&(a[u||d]=Ra(o))}const i=(o,d)=>D.forEach(o,(c,p)=>l(c,p,d));if(D.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(D.isString(t)&&(t=t.trim())&&!Ry(t))i(My(t),n);else if(D.isObject(t)&&D.isIterable(t)){let o={},d,c;for(const p of t){if(!D.isArray(p))throw TypeError("Object iterator must return a key-value pair");o[c=p[0]]=(d=o[c])?D.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}i(o,n)}else t!=null&&l(n,t,s);return this}get(t,n){if(t=Zr(t),t){const s=D.findKey(this,t);if(s){const a=this[s];if(!n)return a;if(n===!0)return Ty(a);if(D.isFunction(n))return n.call(this,a,s);if(D.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Zr(t),t){const s=D.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||gi(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let a=!1;function l(i){if(i=Zr(i),i){const o=D.findKey(s,i);o&&(!n||gi(s,s[o],o,n))&&(delete s[o],a=!0)}}return D.isArray(t)?t.forEach(l):l(t),a}clear(t){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const l=n[s];(!t||gi(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const n=this,s={};return D.forEach(this,(a,l)=>{const i=D.findKey(s,l);if(i){n[i]=Ra(a),delete n[l];return}const o=t?Oy(l):String(l).trim();o!==l&&delete n[l],n[o]=Ra(a),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return D.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=t&&D.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[cu]=this[cu]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=Zr(i);s[o]||(Py(a,i),s[o]=!0)}return D.isArray(t)?t.forEach(l):l(t),this}};gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(gt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});D.freezeMethods(gt);function yi(e,t){const n=this||Qs,s=t||n,a=gt.from(s.headers);let l=s.data;return D.forEach(e,function(o){l=o.call(n,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function gp(e){return!!(e&&e.__CANCEL__)}function Ur(e,t,n){ae.call(this,e??"canceled",ae.ERR_CANCELED,t,n),this.name="CanceledError"}D.inherits(Ur,ae,{__CANCEL__:!0});function yp(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ly(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ay(e,t){e=e||10;const n=new Array(e),s=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),p=s[l];i||(i=c),n[a]=d,s[a]=c;let u=l,x=0;for(;u!==a;)x+=n[u++],u=u%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),c-i<t)return;const v=p&&c-p;return v?Math.round(x*1e3/v):void 0}}function Fy(e,t){let n=0,s=1e3/t,a,l;const i=(c,p=Date.now())=>{n=p,a=null,l&&(clearTimeout(l),l=null),e(...c)};return[(...c)=>{const p=Date.now(),u=p-n;u>=s?i(c,p):(a=c,l||(l=setTimeout(()=>{l=null,i(a)},s-u)))},()=>a&&i(a)]}const dl=(e,t,n=3)=>{let s=0;const a=Ay(50,250);return Fy(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,d=i-s,c=a(d),p=i<=o;s=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:d,rate:c||void 0,estimated:c&&o&&p?(o-i)/c:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(u)},n)},uu=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},mu=e=>(...t)=>D.asap(()=>e(...t)),$y=rt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,rt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(rt.origin),rt.navigator&&/(msie|trident)/i.test(rt.navigator.userAgent)):()=>!0,Iy=rt.hasStandardBrowserEnv?{write(e,t,n,s,a,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];D.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),D.isString(s)&&o.push(`path=${s}`),D.isString(a)&&o.push(`domain=${a}`),l===!0&&o.push("secure"),D.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Uy(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function zy(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function vp(e,t,n){let s=!Uy(t);return e&&(s||n==!1)?zy(e,t):t}const fu=e=>e instanceof gt?{...e}:e;function er(e,t){t=t||{};const n={};function s(c,p,u,x){return D.isPlainObject(c)&&D.isPlainObject(p)?D.merge.call({caseless:x},c,p):D.isPlainObject(p)?D.merge({},p):D.isArray(p)?p.slice():p}function a(c,p,u,x){if(D.isUndefined(p)){if(!D.isUndefined(c))return s(void 0,c,u,x)}else return s(c,p,u,x)}function l(c,p){if(!D.isUndefined(p))return s(void 0,p)}function i(c,p){if(D.isUndefined(p)){if(!D.isUndefined(c))return s(void 0,c)}else return s(void 0,p)}function o(c,p,u){if(u in t)return s(c,p);if(u in e)return s(void 0,c)}const d={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(c,p,u)=>a(fu(c),fu(p),u,!0)};return D.forEach(Object.keys({...e,...t}),function(p){const u=d[p]||a,x=u(e[p],t[p],p);D.isUndefined(x)&&u!==o||(n[p]=x)}),n}const bp=e=>{const t=er({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=gt.from(i),t.url=pp(vp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),D.isFormData(n)){if(rt.hasStandardBrowserEnv||rt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(D.isFunction(n.getHeaders)){const d=n.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([p,u])=>{c.includes(p.toLowerCase())&&i.set(p,u)})}}if(rt.hasStandardBrowserEnv&&(s&&D.isFunction(s)&&(s=s(t)),s||s!==!1&&$y(t.url))){const d=a&&l&&Iy.read(l);d&&i.set(a,d)}return t},Wy=typeof XMLHttpRequest<"u",By=Wy&&function(e){return new Promise(function(n,s){const a=bp(e);let l=a.data;const i=gt.from(a.headers).normalize();let{responseType:o,onUploadProgress:d,onDownloadProgress:c}=a,p,u,x,v,f;function j(){v&&v(),f&&f(),a.cancelToken&&a.cancelToken.unsubscribe(p),a.signal&&a.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function y(){if(!S)return;const m=gt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:m,config:e,request:S};yp(function(_){n(_),j()},function(_){s(_),j()},w),S=null}"onloadend"in S?S.onloadend=y:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(y)},S.onabort=function(){S&&(s(new ae("Request aborted",ae.ECONNABORTED,e,S)),S=null)},S.onerror=function(b){const w=b&&b.message?b.message:"Network Error",C=new ae(w,ae.ERR_NETWORK,e,S);C.event=b||null,s(C),S=null},S.ontimeout=function(){let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const w=a.transitional||hp;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),s(new ae(b,w.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,e,S)),S=null},l===void 0&&i.setContentType(null),"setRequestHeader"in S&&D.forEach(i.toJSON(),function(b,w){S.setRequestHeader(w,b)}),D.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),o&&o!=="json"&&(S.responseType=a.responseType),c&&([x,f]=dl(c,!0),S.addEventListener("progress",x)),d&&S.upload&&([u,v]=dl(d),S.upload.addEventListener("progress",u),S.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(p=m=>{S&&(s(!m||m.type?new Ur(null,e,S):m),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(p),a.signal&&(a.signal.aborted?p():a.signal.addEventListener("abort",p)));const h=Ly(a.url);if(h&&rt.protocols.indexOf(h)===-1){s(new ae("Unsupported protocol "+h+":",ae.ERR_BAD_REQUEST,e));return}S.send(l||null)})},Hy=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,a;const l=function(c){if(!a){a=!0,o();const p=c instanceof Error?c:this.reason;s.abort(p instanceof ae?p:new Ur(p instanceof Error?p.message:p))}};let i=t&&setTimeout(()=>{i=null,l(new ae(`timeout ${t} of ms exceeded`,ae.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(l):c.removeEventListener("abort",l)}),e=null)};e.forEach(c=>c.addEventListener("abort",l));const{signal:d}=s;return d.unsubscribe=()=>D.asap(o),d}},qy=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,a;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},Vy=async function*(e,t){for await(const n of Yy(e))yield*qy(n,t)},Yy=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},pu=(e,t,n,s)=>{const a=Vy(e,t);let l=0,i,o=d=>{i||(i=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:c,value:p}=await a.next();if(c){o(),d.close();return}let u=p.byteLength;if(n){let x=l+=u;n(x)}d.enqueue(new Uint8Array(p))}catch(c){throw o(c),c}},cancel(d){return o(d),a.return()}},{highWaterMark:2})},hu=64*1024,{isFunction:ha}=D,Qy=(({Request:e,Response:t})=>({Request:e,Response:t}))(D.global),{ReadableStream:xu,TextEncoder:gu}=D.global,yu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ky=e=>{e=D.merge.call({skipUndefined:!0},Qy,e);const{fetch:t,Request:n,Response:s}=e,a=t?ha(t):typeof fetch=="function",l=ha(n),i=ha(s);if(!a)return!1;const o=a&&ha(xu),d=a&&(typeof gu=="function"?(f=>j=>f.encode(j))(new gu):async f=>new Uint8Array(await new n(f).arrayBuffer())),c=l&&o&&yu(()=>{let f=!1;const j=new n(rt.origin,{body:new xu,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!j}),p=i&&o&&yu(()=>D.isReadableStream(new s("").body)),u={stream:p&&(f=>f.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!u[f]&&(u[f]=(j,S)=>{let y=j&&j[f];if(y)return y.call(j);throw new ae(`Response type '${f}' is not supported`,ae.ERR_NOT_SUPPORT,S)})});const x=async f=>{if(f==null)return 0;if(D.isBlob(f))return f.size;if(D.isSpecCompliantForm(f))return(await new n(rt.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(D.isArrayBufferView(f)||D.isArrayBuffer(f))return f.byteLength;if(D.isURLSearchParams(f)&&(f=f+""),D.isString(f))return(await d(f)).byteLength},v=async(f,j)=>{const S=D.toFiniteNumber(f.getContentLength());return S??x(j)};return async f=>{let{url:j,method:S,data:y,signal:h,cancelToken:m,timeout:b,onDownloadProgress:w,onUploadProgress:C,responseType:_,headers:T,withCredentials:$="same-origin",fetchOptions:E}=bp(f),W=t||fetch;_=_?(_+"").toLowerCase():"text";let re=Hy([h,m&&m.toAbortSignal()],b),k=null;const P=re&&re.unsubscribe&&(()=>{re.unsubscribe()});let U;try{if(C&&c&&S!=="get"&&S!=="head"&&(U=await v(T,y))!==0){let q=new n(j,{method:"POST",body:y,duplex:"half"}),G;if(D.isFormData(y)&&(G=q.headers.get("content-type"))&&T.setContentType(G),q.body){const[ke,fe]=uu(U,dl(mu(C)));y=pu(q.body,hu,ke,fe)}}D.isString($)||($=$?"include":"omit");const N=l&&"credentials"in n.prototype,A={...E,signal:re,method:S.toUpperCase(),headers:T.normalize().toJSON(),body:y,duplex:"half",credentials:N?$:void 0};k=l&&new n(j,A);let R=await(l?W(k,E):W(j,A));const I=p&&(_==="stream"||_==="response");if(p&&(w||I&&P)){const q={};["status","statusText","headers"].forEach(Qe=>{q[Qe]=R[Qe]});const G=D.toFiniteNumber(R.headers.get("content-length")),[ke,fe]=w&&uu(G,dl(mu(w),!0))||[];R=new s(pu(R.body,hu,ke,()=>{fe&&fe(),P&&P()}),q)}_=_||"text";let X=await u[D.findKey(u,_)||"text"](R,f);return!I&&P&&P(),await new Promise((q,G)=>{yp(q,G,{data:X,headers:gt.from(R.headers),status:R.status,statusText:R.statusText,config:f,request:k})})}catch(N){throw P&&P(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new ae("Network Error",ae.ERR_NETWORK,f,k),{cause:N.cause||N}):ae.from(N,N&&N.code,f,k)}}},Xy=new Map,jp=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:a}=t,l=[s,a,n];let i=l.length,o=i,d,c,p=Xy;for(;o--;)d=l[o],c=p.get(d),c===void 0&&p.set(d,c=o?new Map:Ky(t)),p=c;return c};jp();const Pd={http:fy,xhr:By,fetch:{get:jp}};D.forEach(Pd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vu=e=>`- ${e}`,Gy=e=>D.isFunction(e)||e===null||e===!1;function Jy(e,t){e=D.isArray(e)?e:[e];const{length:n}=e;let s,a;const l={};for(let i=0;i<n;i++){s=e[i];let o;if(a=s,!Gy(s)&&(a=Pd[(o=String(s)).toLowerCase()],a===void 0))throw new ae(`Unknown adapter '${o}'`);if(a&&(D.isFunction(a)||(a=a.get(t))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=n?i.length>1?`since :
`+i.map(vu).join(`
`):" "+vu(i[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const wp={getAdapter:Jy,adapters:Pd};function vi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ur(null,e)}function bu(e){return vi(e),e.headers=gt.from(e.headers),e.data=yi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wp.getAdapter(e.adapter||Qs.adapter,e)(e).then(function(s){return vi(e),s.data=yi.call(e,e.transformResponse,s),s.headers=gt.from(s.headers),s},function(s){return gp(s)||(vi(e),s&&s.response&&(s.response.data=yi.call(e,e.transformResponse,s.response),s.response.headers=gt.from(s.response.headers))),Promise.reject(s)})}const Np="1.13.2",$l={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{$l[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const ju={};$l.transitional=function(t,n,s){function a(l,i){return"[Axios v"+Np+"] Transitional option '"+l+"'"+i+(s?". "+s:"")}return(l,i,o)=>{if(t===!1)throw new ae(a(i," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!ju[i]&&(ju[i]=!0,console.warn(a(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,i,o):!0}};$l.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Zy(e,t,n){if(typeof e!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const l=s[a],i=t[l];if(i){const o=e[l],d=o===void 0||i(o,l,e);if(d!==!0)throw new ae("option "+l+" must be "+d,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+l,ae.ERR_BAD_OPTION)}}const Oa={assertOptions:Zy,validators:$l},qt=Oa.validators;let qn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new du,response:new du}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=er(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:l}=n;s!==void 0&&Oa.assertOptions(s,{silentJSONParsing:qt.transitional(qt.boolean),forcedJSONParsing:qt.transitional(qt.boolean),clarifyTimeoutError:qt.transitional(qt.boolean)},!1),a!=null&&(D.isFunction(a)?n.paramsSerializer={serialize:a}:Oa.assertOptions(a,{encode:qt.function,serialize:qt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Oa.assertOptions(n,{baseUrl:qt.spelling("baseURL"),withXsrfToken:qt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=l&&D.merge(l.common,l[n.method]);l&&D.forEach(["delete","get","head","post","put","patch","common"],f=>{delete l[f]}),n.headers=gt.concat(i,l);const o=[];let d=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(d=d&&j.synchronous,o.unshift(j.fulfilled,j.rejected))});const c=[];this.interceptors.response.forEach(function(j){c.push(j.fulfilled,j.rejected)});let p,u=0,x;if(!d){const f=[bu.bind(this),void 0];for(f.unshift(...o),f.push(...c),x=f.length,p=Promise.resolve(n);u<x;)p=p.then(f[u++],f[u++]);return p}x=o.length;let v=n;for(;u<x;){const f=o[u++],j=o[u++];try{v=f(v)}catch(S){j.call(this,S);break}}try{p=bu.call(this,v)}catch(f){return Promise.reject(f)}for(u=0,x=c.length;u<x;)p=p.then(c[u++],c[u++]);return p}getUri(t){t=er(this.defaults,t);const n=vp(t.baseURL,t.url,t.allowAbsoluteUrls);return pp(n,t.params,t.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(t){qn.prototype[t]=function(n,s){return this.request(er(s||{},{method:t,url:n,data:(s||{}).data}))}});D.forEach(["post","put","patch"],function(t){function n(s){return function(l,i,o){return this.request(er(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}qn.prototype[t]=n(),qn.prototype[t+"Form"]=n(!0)});let ev=class _p{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{s.subscribe(o),l=o}).then(a);return i.cancel=function(){s.unsubscribe(l)},i},t(function(l,i,o){s.reason||(s.reason=new Ur(l,i,o),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new _p(function(a){t=a}),cancel:t}}};function tv(e){return function(n){return e.apply(null,n)}}function nv(e){return D.isObject(e)&&e.isAxiosError===!0}const Eo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Eo).forEach(([e,t])=>{Eo[t]=e});function kp(e){const t=new qn(e),n=np(qn.prototype.request,t);return D.extend(n,qn.prototype,t,{allOwnKeys:!0}),D.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return kp(er(e,a))},n}const Be=kp(Qs);Be.Axios=qn;Be.CanceledError=Ur;Be.CancelToken=ev;Be.isCancel=gp;Be.VERSION=Np;Be.toFormData=Fl;Be.AxiosError=ae;Be.Cancel=Be.CanceledError;Be.all=function(t){return Promise.all(t)};Be.spread=tv;Be.isAxiosError=nv;Be.mergeConfig=er;Be.AxiosHeaders=gt;Be.formToJSON=e=>xp(D.isHTMLForm(e)?new FormData(e):e);Be.getAdapter=wp.getAdapter;Be.HttpStatusCode=Eo;Be.default=Be;const{Axios:Xj,AxiosError:Gj,CanceledError:Jj,isCancel:Zj,CancelToken:ew,VERSION:tw,all:nw,Cancel:rw,isAxiosError:sw,spread:aw,toFormData:lw,AxiosHeaders:iw,HttpStatusCode:ow,formToJSON:dw,getAdapter:cw,mergeConfig:uw}=Be,rv="http://localhost:8000",H=Be.create({baseURL:rv,headers:{"Content-Type":"application/json"}});H.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));H.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const sv=async(e,t)=>{const n=new URLSearchParams;return n.append("username",e),n.append("password",t),(await H.post("/token",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data},av=e=>H.post("/admin/users",e),Ld=()=>H.get("/admin/users"),lv=e=>Ld().then(t=>!t.data.some(s=>s.username.toLowerCase()===e.toLowerCase())).catch(()=>!0),wu=(e,t=!1)=>H.post("/managers",e,{params:{force_reassign:t}}),iv=()=>H.get("/managers"),ov=(e,t)=>H.put(`/managers/${e}`,t),dv=(e,t)=>H.put(`/managers/${e}/reassign`,t),cv=e=>H.delete(`/managers/${e}`),uv=e=>H.post("/departments",e),Ad=()=>H.get("/departments"),mv=async e=>{var t;try{return await H.get(`/departments/search/${e}`)}catch(n){if(((t=n.response)==null?void 0:t.status)===404)return{data:[]};throw n}},fv=e=>H.post("/employees",e),Ks=(e=!1)=>H.get("/employees",{params:{show_inactive:e}}),pv=(e,t)=>H.put(`/employees/${e}`,t),hv=(e,t=!1)=>H.delete(`/employees/${e}`,{params:t?{hard_delete:!0}:{}}),xv=e=>H.post("/roles",e),Fd=()=>H.get("/roles"),Sp=e=>H.post("/employee/check-in",{location:e}),Cp=e=>H.post("/employee/check-out",{notes:e}),Ep=e=>H.post("/leave-requests",e),Il=()=>H.get("/leave-requests"),gv=(e,t)=>{const n={};return t&&(n.review_notes=t),H.post(`/manager/approve-leave/${e}`,n)},yv=(e,t)=>{const n={};return t&&(n.review_notes=t),H.post(`/manager/reject-leave/${e}`,n)},Dp=()=>H.get("/leave-statistics"),vv=e=>H.get(`/leave-statistics/employee/${e}`),bv=e=>H.post("/comp-off-requests",e),jv=()=>H.get("/comp-off-requests"),wv=()=>H.get("/comp-off-tracking"),Nv=()=>H.get("/comp-off/monthly-breakdown"),_v=(e,t)=>{const n={review_notes:t};return H.post(`/manager/approve-comp-off/${e}`,n)},kv=(e,t)=>{const n={review_notes:t||""};return H.post(`/manager/reject-comp-off/${e}`,n)},Sv=()=>H.get("/comp-off/export/employee",{responseType:"blob"}),Cv=(e=null,t=!1)=>{const n={};return e&&(n.role_id=e),t&&(n.include_inactive=!0),H.get("/shifts",{params:n})},Ev=(e,t=!1)=>H.delete(`/shifts/${e}`,{params:t?{hard_delete:!0}:{}}),Dv=e=>H.post("/messages",e),Mp=()=>H.get("/messages"),Tp=e=>H.delete(`/messages/${e}`),Mv=e=>H.put(`/messages/${e}/read`),Ul=(e,t)=>{const n=new URLSearchParams;return e&&n.append("start_date",e),t&&n.append("end_date",t),H.get(`/schedules?${n.toString()}`)},Tv=e=>H.post("/schedules",e),Rv=(e,t)=>H.put(`/schedules/${e}`,t),Ov=e=>H.delete(`/schedules/${e}`),Nu=(e,t,n=!1)=>{const s=new URLSearchParams;return s.append("start_date",e),s.append("end_date",t),s.append("regenerate",n),H.post(`/schedules/generate?${s.toString()}`)},zl=(e,t)=>{const n=new URLSearchParams;return e&&n.append("start_date",e),t&&n.append("end_date",t),H.get(`/attendance?${n.toString()}`)},Pv=(e,t)=>H.get(`/calendar/holidays?year=${e}&month=${t}`),Lv=(e=!1)=>{const t=new URLSearchParams;return e&&t.append("unread_only","true"),H.get(`/notifications?${t.toString()}`)},Av=e=>H.post(`/notifications/${e}/mark-read`),Fv=()=>H.post("/notifications/mark-all-read"),$v=e=>H.delete(`/notifications/${e}`),B=({children:e,onClick:t,type:n="button",variant:s="primary",size:a="md",disabled:l=!1,fullWidth:i=!1,className:o="",form:d=void 0,...c})=>{const p="font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",u={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500"},x={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},v=l?"opacity-50 cursor-not-allowed":"",f=i?"w-full":"";return r.jsx("button",{type:n,onClick:t,disabled:l,form:d,className:`${p} ${u[s]} ${x[a]} ${v} ${f} ${o}`,...c,children:e})},K=({children:e,title:t,subtitle:n,headerAction:s,className:a="",padding:l=!0,hover:i=!1})=>r.jsxs("div",{className:`bg-white rounded-lg shadow-md ${i?"hover:shadow-lg transition-shadow duration-200":""} ${a}`,children:[(t||s)&&r.jsx("div",{className:`border-b border-gray-200 ${l?"px-6 py-4":"p-4"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[t&&r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),n&&r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]}),s&&r.jsx("div",{children:s})]})}),r.jsx("div",{className:l?"p-6":"",children:e})]}),Iv=({onLogin:e})=>{const[t,n]=g.useState(""),[s,a]=g.useState(""),[l,i]=g.useState(""),[o,d]=g.useState(!1),c=async p=>{var u,x;p.preventDefault(),i(""),d(!0);try{const v=await sv(t,s);e(v.user,v.access_token)}catch(v){i(((x=(u=v.response)==null?void 0:u.data)==null?void 0:x.detail)||"Login failed. Please check your credentials.")}finally{d(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Shift Scheduler"}),r.jsx("p",{className:"text-blue-100",children:"Employee Management System"})]}),r.jsx(K,{padding:!1,children:r.jsxs("div",{className:"p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Sign In"}),l&&r.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:l})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),r.jsx("input",{id:"username",type:"text",value:t,onChange:p=>n(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter your username",required:!0,disabled:o})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsx("input",{id:"password",type:"password",value:s,onChange:p=>a(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter your password",required:!0,disabled:o})]}),r.jsx(B,{type:"submit",fullWidth:!0,disabled:o,className:"mt-6",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ma,{className:"w-5 h-5 mr-2"}),o?"Signing in...":"Sign In"]})})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Demo Credentials:"}),r.jsxs("div",{className:"mt-2 space-y-1 text-xs text-gray-600",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Admin:"})," admin / admin123"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Manager:"})," manager1 / manager123"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Employee:"})," john.smith / employee123"]})]})]})]})}),r.jsx("p",{className:"text-center text-white text-sm mt-6",children:"Shift Scheduler v5.1.0"})]})})};function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function zt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function he(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ye(e){he(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||cl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Uv(e,t){he(2,arguments);var n=ye(e),s=zt(t);return isNaN(s)?new Date(NaN):(s&&n.setDate(n.getDate()+s),n)}function $d(e,t){he(2,arguments);var n=ye(e),s=zt(t);if(isNaN(s))return new Date(NaN);if(!s)return n;var a=n.getDate(),l=new Date(n.getTime());l.setMonth(n.getMonth()+s+1,0);var i=l.getDate();return a>=i?l:(n.setFullYear(l.getFullYear(),l.getMonth(),a),n)}function zv(e,t){he(2,arguments);var n=ye(e).getTime(),s=zt(t);return new Date(n+s)}var Wv={};function Xs(){return Wv}function Do(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Pa(e,t){he(2,arguments);var n=ye(e),s=ye(t),a=n.getTime()-s.getTime();return a<0?-1:a>0?1:a}var Rp=6e4,Op=36e5;function Bv(e){return he(1,arguments),e instanceof Date||cl(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Hv(e){if(he(1,arguments),!Bv(e)&&typeof e!="number")return!1;var t=ye(e);return!isNaN(Number(t))}function qv(e,t){he(2,arguments);var n=ye(e),s=ye(t),a=n.getFullYear()-s.getFullYear(),l=n.getMonth()-s.getMonth();return a*12+l}function Vv(e,t){return he(2,arguments),ye(e).getTime()-ye(t).getTime()}var Yv={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Qv="trunc";function Kv(e){return Yv[Qv]}function Xv(e){he(1,arguments);var t=ye(e);return t.setHours(23,59,59,999),t}function Id(e){he(1,arguments);var t=ye(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Gv(e){he(1,arguments);var t=ye(e);return Xv(t).getTime()===Id(t).getTime()}function Jv(e,t){he(2,arguments);var n=ye(e),s=ye(t),a=Pa(n,s),l=Math.abs(qv(n,s)),i;if(l<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*l);var o=Pa(n,s)===-a;Gv(ye(e))&&l===1&&Pa(e,s)===1&&(o=!1),i=a*(l-Number(o))}return i===0?0:i}function Zv(e,t,n){he(2,arguments);var s=Vv(e,t)/1e3;return Kv()(s)}function Pp(e){he(1,arguments);var t=ye(e);return t.setDate(1),t.setHours(0,0,0,0),t}function eb(e,t){he(2,arguments);var n=zt(t);return zv(e,-n)}var tb=864e5;function nb(e){he(1,arguments);var t=ye(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=t.getTime(),a=n-s;return Math.floor(a/tb)+1}function ul(e){he(1,arguments);var t=1,n=ye(e),s=n.getUTCDay(),a=(s<t?7:0)+s-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function Lp(e){he(1,arguments);var t=ye(e),n=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(n+1,0,4),s.setUTCHours(0,0,0,0);var a=ul(s),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var i=ul(l);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function rb(e){he(1,arguments);var t=Lp(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var s=ul(n);return s}var sb=6048e5;function ab(e){he(1,arguments);var t=ye(e),n=ul(t).getTime()-rb(t).getTime();return Math.round(n/sb)+1}function ml(e,t){var n,s,a,l,i,o,d,c;he(1,arguments);var p=Xs(),u=zt((n=(s=(a=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:p.weekStartsOn)!==null&&s!==void 0?s:(d=p.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=ye(e),v=x.getUTCDay(),f=(v<u?7:0)+v-u;return x.setUTCDate(x.getUTCDate()-f),x.setUTCHours(0,0,0,0),x}function Ap(e,t){var n,s,a,l,i,o,d,c;he(1,arguments);var p=ye(e),u=p.getUTCFullYear(),x=Xs(),v=zt((n=(s=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:x.firstWeekContainsDate)!==null&&s!==void 0?s:(d=x.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(u+1,0,v),f.setUTCHours(0,0,0,0);var j=ml(f,t),S=new Date(0);S.setUTCFullYear(u,0,v),S.setUTCHours(0,0,0,0);var y=ml(S,t);return p.getTime()>=j.getTime()?u+1:p.getTime()>=y.getTime()?u:u-1}function lb(e,t){var n,s,a,l,i,o,d,c;he(1,arguments);var p=Xs(),u=zt((n=(s=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:p.firstWeekContainsDate)!==null&&s!==void 0?s:(d=p.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),x=Ap(e,t),v=new Date(0);v.setUTCFullYear(x,0,u),v.setUTCHours(0,0,0,0);var f=ml(v,t);return f}var ib=6048e5;function ob(e,t){he(1,arguments);var n=ye(e),s=ml(n,t).getTime()-lb(n,t).getTime();return Math.round(s/ib)+1}function ge(e,t){for(var n=e<0?"-":"",s=Math.abs(e).toString();s.length<t;)s="0"+s;return n+s}var mn={y:function(t,n){var s=t.getUTCFullYear(),a=s>0?s:1-s;return ge(n==="yy"?a%100:a,n.length)},M:function(t,n){var s=t.getUTCMonth();return n==="M"?String(s+1):ge(s+1,2)},d:function(t,n){return ge(t.getUTCDate(),n.length)},a:function(t,n){var s=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(t,n){return ge(t.getUTCHours()%12||12,n.length)},H:function(t,n){return ge(t.getUTCHours(),n.length)},m:function(t,n){return ge(t.getUTCMinutes(),n.length)},s:function(t,n){return ge(t.getUTCSeconds(),n.length)},S:function(t,n){var s=n.length,a=t.getUTCMilliseconds(),l=Math.floor(a*Math.pow(10,s-3));return ge(l,n.length)}},ar={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},db={G:function(t,n,s){var a=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(t,n,s){if(n==="yo"){var a=t.getUTCFullYear(),l=a>0?a:1-a;return s.ordinalNumber(l,{unit:"year"})}return mn.y(t,n)},Y:function(t,n,s,a){var l=Ap(t,a),i=l>0?l:1-l;if(n==="YY"){var o=i%100;return ge(o,2)}return n==="Yo"?s.ordinalNumber(i,{unit:"year"}):ge(i,n.length)},R:function(t,n){var s=Lp(t);return ge(s,n.length)},u:function(t,n){var s=t.getUTCFullYear();return ge(s,n.length)},Q:function(t,n,s){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return ge(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,n,s){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return ge(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,n,s){var a=t.getUTCMonth();switch(n){case"M":case"MM":return mn.M(t,n);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(t,n,s){var a=t.getUTCMonth();switch(n){case"L":return String(a+1);case"LL":return ge(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(t,n,s,a){var l=ob(t,a);return n==="wo"?s.ordinalNumber(l,{unit:"week"}):ge(l,n.length)},I:function(t,n,s){var a=ab(t);return n==="Io"?s.ordinalNumber(a,{unit:"week"}):ge(a,n.length)},d:function(t,n,s){return n==="do"?s.ordinalNumber(t.getUTCDate(),{unit:"date"}):mn.d(t,n)},D:function(t,n,s){var a=nb(t);return n==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):ge(a,n.length)},E:function(t,n,s){var a=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(t,n,s,a){var l=t.getUTCDay(),i=(l-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return ge(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(l,{width:"short",context:"formatting"});case"eeee":default:return s.day(l,{width:"wide",context:"formatting"})}},c:function(t,n,s,a){var l=t.getUTCDay(),i=(l-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return ge(i,n.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(l,{width:"narrow",context:"standalone"});case"cccccc":return s.day(l,{width:"short",context:"standalone"});case"cccc":default:return s.day(l,{width:"wide",context:"standalone"})}},i:function(t,n,s){var a=t.getUTCDay(),l=a===0?7:a;switch(n){case"i":return String(l);case"ii":return ge(l,n.length);case"io":return s.ordinalNumber(l,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(t,n,s){var a=t.getUTCHours(),l=a/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,n,s){var a=t.getUTCHours(),l;switch(a===12?l=ar.noon:a===0?l=ar.midnight:l=a/12>=1?"pm":"am",n){case"b":case"bb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,n,s){var a=t.getUTCHours(),l;switch(a>=17?l=ar.evening:a>=12?l=ar.afternoon:a>=4?l=ar.morning:l=ar.night,n){case"B":case"BB":case"BBB":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,n,s){if(n==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return mn.h(t,n)},H:function(t,n,s){return n==="Ho"?s.ordinalNumber(t.getUTCHours(),{unit:"hour"}):mn.H(t,n)},K:function(t,n,s){var a=t.getUTCHours()%12;return n==="Ko"?s.ordinalNumber(a,{unit:"hour"}):ge(a,n.length)},k:function(t,n,s){var a=t.getUTCHours();return a===0&&(a=24),n==="ko"?s.ordinalNumber(a,{unit:"hour"}):ge(a,n.length)},m:function(t,n,s){return n==="mo"?s.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):mn.m(t,n)},s:function(t,n,s){return n==="so"?s.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):mn.s(t,n)},S:function(t,n){return mn.S(t,n)},X:function(t,n,s,a){var l=a._originalDate||t,i=l.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return ku(i);case"XXXX":case"XX":return $n(i);case"XXXXX":case"XXX":default:return $n(i,":")}},x:function(t,n,s,a){var l=a._originalDate||t,i=l.getTimezoneOffset();switch(n){case"x":return ku(i);case"xxxx":case"xx":return $n(i);case"xxxxx":case"xxx":default:return $n(i,":")}},O:function(t,n,s,a){var l=a._originalDate||t,i=l.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+_u(i,":");case"OOOO":default:return"GMT"+$n(i,":")}},z:function(t,n,s,a){var l=a._originalDate||t,i=l.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+_u(i,":");case"zzzz":default:return"GMT"+$n(i,":")}},t:function(t,n,s,a){var l=a._originalDate||t,i=Math.floor(l.getTime()/1e3);return ge(i,n.length)},T:function(t,n,s,a){var l=a._originalDate||t,i=l.getTime();return ge(i,n.length)}};function _u(e,t){var n=e>0?"-":"+",s=Math.abs(e),a=Math.floor(s/60),l=s%60;if(l===0)return n+String(a);var i=t;return n+String(a)+i+ge(l,2)}function ku(e,t){if(e%60===0){var n=e>0?"-":"+";return n+ge(Math.abs(e)/60,2)}return $n(e,t)}function $n(e,t){var n=t||"",s=e>0?"-":"+",a=Math.abs(e),l=ge(Math.floor(a/60),2),i=ge(a%60,2);return s+l+n+i}var Su=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Fp=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},cb=function(t,n){var s=t.match(/(P+)(p+)?/)||[],a=s[1],l=s[2];if(!l)return Su(t,n);var i;switch(a){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",Su(a,n)).replace("{{time}}",Fp(l,n))},ub={p:Fp,P:cb},mb=["D","DD"],fb=["YY","YYYY"];function pb(e){return mb.indexOf(e)!==-1}function hb(e){return fb.indexOf(e)!==-1}function Cu(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var xb={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gb=function(t,n,s){var a,l=xb[t];return typeof l=="string"?a=l:n===1?a=l.one:a=l.other.replace("{{count}}",n.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function bi(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,s=e.formats[n]||e.formats[e.defaultWidth];return s}}var yb={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vb={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bb={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jb={date:bi({formats:yb,defaultWidth:"full"}),time:bi({formats:vb,defaultWidth:"full"}),dateTime:bi({formats:bb,defaultWidth:"full"})},wb={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Nb=function(t,n,s,a){return wb[t]};function es(e){return function(t,n){var s=n!=null&&n.context?String(n.context):"standalone",a;if(s==="formatting"&&e.formattingValues){var l=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):l;a=e.formattingValues[i]||e.formattingValues[l]}else{var o=e.defaultWidth,d=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[d]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var _b={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kb={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sb={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cb={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Eb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Db={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Mb=function(t,n){var s=Number(t),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Tb={ordinalNumber:Mb,era:es({values:_b,defaultWidth:"wide"}),quarter:es({values:kb,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:es({values:Sb,defaultWidth:"wide"}),day:es({values:Cb,defaultWidth:"wide"}),dayPeriod:es({values:Eb,defaultWidth:"wide",formattingValues:Db,defaultFormattingWidth:"wide"})};function ts(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;var i=l[0],o=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(o)?Ob(o,function(u){return u.test(i)}):Rb(o,function(u){return u.test(i)}),c;c=e.valueCallback?e.valueCallback(d):d,c=n.valueCallback?n.valueCallback(c):c;var p=t.slice(i.length);return{value:c,rest:p}}}function Rb(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Ob(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Pb(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var a=s[0],l=t.match(e.parsePattern);if(!l)return null;var i=e.valueCallback?e.valueCallback(l[0]):l[0];i=n.valueCallback?n.valueCallback(i):i;var o=t.slice(a.length);return{value:i,rest:o}}}var Lb=/^(\d+)(th|st|nd|rd)?/i,Ab=/\d+/i,Fb={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$b={any:[/^b/i,/^(a|c)/i]},Ib={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ub={any:[/1/i,/2/i,/3/i,/4/i]},zb={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bb={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hb={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yb={ordinalNumber:Pb({matchPattern:Lb,parsePattern:Ab,valueCallback:function(t){return parseInt(t,10)}}),era:ts({matchPatterns:Fb,defaultMatchWidth:"wide",parsePatterns:$b,defaultParseWidth:"any"}),quarter:ts({matchPatterns:Ib,defaultMatchWidth:"wide",parsePatterns:Ub,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ts({matchPatterns:zb,defaultMatchWidth:"wide",parsePatterns:Wb,defaultParseWidth:"any"}),day:ts({matchPatterns:Bb,defaultMatchWidth:"wide",parsePatterns:Hb,defaultParseWidth:"any"}),dayPeriod:ts({matchPatterns:qb,defaultMatchWidth:"any",parsePatterns:Vb,defaultParseWidth:"any"})},$p={code:"en-US",formatDistance:gb,formatLong:jb,formatRelative:Nb,localize:Tb,match:Yb,options:{weekStartsOn:0,firstWeekContainsDate:1}},Qb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xb=/^'([^]*?)'?$/,Gb=/''/g,Jb=/[a-zA-Z]/;function ce(e,t,n){var s,a,l,i,o,d,c,p,u,x,v,f,j,S;he(2,arguments);var y=String(t),h=Xs(),m=(s=(a=void 0)!==null&&a!==void 0?a:h.locale)!==null&&s!==void 0?s:$p,b=zt((l=(i=(o=(d=void 0)!==null&&d!==void 0?d:void 0)!==null&&o!==void 0?o:h.firstWeekContainsDate)!==null&&i!==void 0?i:(c=h.locale)===null||c===void 0||(p=c.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=zt((u=(x=(v=(f=void 0)!==null&&f!==void 0?f:void 0)!==null&&v!==void 0?v:h.weekStartsOn)!==null&&x!==void 0?x:(j=h.locale)===null||j===void 0||(S=j.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&u!==void 0?u:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!m.localize)throw new RangeError("locale must contain localize property");if(!m.formatLong)throw new RangeError("locale must contain formatLong property");var C=ye(e);if(!Hv(C))throw new RangeError("Invalid time value");var _=Do(C),T=eb(C,_),$={firstWeekContainsDate:b,weekStartsOn:w,locale:m,_originalDate:C},E=y.match(Kb).map(function(W){var re=W[0];if(re==="p"||re==="P"){var k=ub[re];return k(W,m.formatLong)}return W}).join("").match(Qb).map(function(W){if(W==="''")return"'";var re=W[0];if(re==="'")return Zb(W);var k=db[re];if(k)return hb(W)&&Cu(W,t,String(e)),pb(W)&&Cu(W,t,String(e)),k(T,W,m.localize,$);if(re.match(Jb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");return W}).join("");return E}function Zb(e){var t=e.match(Xb);return t?t[1].replace(Gb,"'"):e}function Ip(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function ej(e){return Ip({},e)}var Eu=1440,tj=2520,ji=43200,nj=86400;function rj(e,t,n){var s,a;he(2,arguments);var l=Xs(),i=(s=(a=n==null?void 0:n.locale)!==null&&a!==void 0?a:l.locale)!==null&&s!==void 0?s:$p;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Pa(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var d=Ip(ej(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:o}),c,p;o>0?(c=ye(t),p=ye(e)):(c=ye(e),p=ye(t));var u=Zv(p,c),x=(Do(p)-Do(c))/1e3,v=Math.round((u-x)/60),f;if(v<2)return n!=null&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,d):u<10?i.formatDistance("lessThanXSeconds",10,d):u<20?i.formatDistance("lessThanXSeconds",20,d):u<40?i.formatDistance("halfAMinute",0,d):u<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):v===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",v,d);if(v<45)return i.formatDistance("xMinutes",v,d);if(v<90)return i.formatDistance("aboutXHours",1,d);if(v<Eu){var j=Math.round(v/60);return i.formatDistance("aboutXHours",j,d)}else{if(v<tj)return i.formatDistance("xDays",1,d);if(v<ji){var S=Math.round(v/Eu);return i.formatDistance("xDays",S,d)}else if(v<nj)return f=Math.round(v/ji),i.formatDistance("aboutXMonths",f,d)}if(f=Jv(p,c),f<12){var y=Math.round(v/ji);return i.formatDistance("xMonths",y,d)}else{var h=f%12,m=Math.floor(f/12);return h<3?i.formatDistance("aboutXYears",m,d):h<9?i.formatDistance("overXYears",m,d):i.formatDistance("almostXYears",m+1,d)}}function sj(e,t){return he(1,arguments),rj(e,Date.now(),t)}function xa(e,t){var n;he(1,arguments);var s=zt((n=void 0)!==null&&n!==void 0?n:2);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=oj(e),l;if(a.date){var i=dj(a.date,s);l=cj(i.restDateString,i.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);var o=l.getTime(),d=0,c;if(a.time&&(d=uj(a.time),isNaN(d)))return new Date(NaN);if(a.timezone){if(c=mj(a.timezone),isNaN(c))return new Date(NaN)}else{var p=new Date(o+d),u=new Date(0);return u.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),u.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),u}return new Date(o+d+c)}var ga={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},aj=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,lj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ij=/^([+-])(\d{2})(?::?(\d{2}))?$/;function oj(e){var t={},n=e.split(ga.dateTimeDelimiter),s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],ga.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ga.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){var a=ga.timezone.exec(s);a?(t.time=s.replace(a[1],""),t.timezone=a[1]):t.time=s}return t}function dj(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};var a=s[1]?parseInt(s[1]):null,l=s[2]?parseInt(s[2]):null;return{year:l===null?a:l*100,restDateString:e.slice((s[1]||s[2]).length)}}function cj(e,t){if(t===null)return new Date(NaN);var n=e.match(aj);if(!n)return new Date(NaN);var s=!!n[4],a=ns(n[1]),l=ns(n[2])-1,i=ns(n[3]),o=ns(n[4]),d=ns(n[5])-1;if(s)return gj(t,o,d)?fj(t,o,d):new Date(NaN);var c=new Date(0);return!hj(t,l,i)||!xj(t,a)?new Date(NaN):(c.setUTCFullYear(t,l,Math.max(a,i)),c)}function ns(e){return e?parseInt(e):1}function uj(e){var t=e.match(lj);if(!t)return NaN;var n=wi(t[1]),s=wi(t[2]),a=wi(t[3]);return yj(n,s,a)?n*Op+s*Rp+a*1e3:NaN}function wi(e){return e&&parseFloat(e.replace(",","."))||0}function mj(e){if(e==="Z")return 0;var t=e.match(ij);if(!t)return 0;var n=t[1]==="+"?-1:1,s=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return vj(s,a)?n*(s*Op+a*Rp):NaN}function fj(e,t,n){var s=new Date(0);s.setUTCFullYear(e,0,4);var a=s.getUTCDay()||7,l=(t-1)*7+n+1-a;return s.setUTCDate(s.getUTCDate()+l),s}var pj=[31,null,31,30,31,30,31,31,30,31,30,31];function Up(e){return e%400===0||e%4===0&&e%100!==0}function hj(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(pj[t]||(Up(e)?29:28))}function xj(e,t){return t>=1&&t<=(Up(e)?366:365)}function gj(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function yj(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function vj(e,t){return t>=0&&t<=59}function zp(e,t){he(2,arguments);var n=zt(t);return $d(e,-n)}const bj=()=>{const[e,t]=g.useState([]),[n,s]=g.useState(0),[a,l]=g.useState(!1),[i,o]=g.useState(!0),d=g.useRef(null);g.useEffect(()=>{c();const f=setInterval(c,3e4);return()=>clearInterval(f)},[]),g.useEffect(()=>{const f=j=>{d.current&&!d.current.contains(j.target)&&l(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const c=async()=>{try{const f=await Lv();t(f.data),s(f.data.filter(j=>!j.is_read).length)}catch(f){console.error("Failed to load notifications:",f)}finally{o(!1)}},p=async f=>{try{await Av(f),c()}catch(j){console.error("Failed to mark notification as read:",j)}},u=async()=>{try{await Fv(),c()}catch(f){console.error("Failed to mark all notifications as read:",f)}},x=async(f,j)=>{j.stopPropagation();try{await $v(f),c()}catch(S){console.error("Failed to delete notification:",S)}},v=f=>{switch(f){case"leave_approved":return"";case"leave_rejected":return"";case"schedule_update":return"";case"message":return"";default:return""}};return r.jsxs("div",{className:"relative",ref:d,children:[r.jsxs("button",{onClick:()=>l(!a),className:"relative p-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:[r.jsx(jo,{className:"w-5 h-5"}),n>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:n>9?"9+":n})]}),a&&r.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),n>0&&r.jsxs("button",{onClick:u,className:"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center",children:[r.jsx(_0,{className:"w-4 h-4 mr-1"}),"Mark all read"]})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:i?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):e.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(jo,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]}):e.map(f=>r.jsx("div",{onClick:()=>!f.is_read&&p(f.id),className:`px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${f.is_read?"":"bg-blue-50"}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:"text-lg",children:v(f.notification_type)}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:f.title})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:f.message}),r.jsx("p",{className:"text-xs text-gray-400",children:sj(new Date(f.created_at),{addSuffix:!0})})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[!f.is_read&&r.jsx("button",{onClick:j=>{j.stopPropagation(),p(f.id)},className:"text-blue-600 hover:text-blue-700",title:"Mark as read",children:r.jsx(il,{className:"w-4 h-4"})}),r.jsx("button",{onClick:j=>x(f.id,j),className:"text-gray-400 hover:text-red-500",title:"Delete",children:r.jsx(Zn,{className:"w-4 h-4"})})]})]})},f.id))})]})]})},Ud=({user:e,onLogout:t})=>{const s=e.user_type==="admin"?[{path:"/dashboard",icon:hi,label:"Dashboard"},{path:"/managers",icon:tp,label:"Managers"},{path:"/departments",icon:Jf,label:"Departments"}]:e.user_type==="manager"?[{path:"/dashboard",icon:hi,label:"Dashboard"},{path:"/employees",icon:Is,label:"Employees"},{path:"/schedules",icon:As,label:"Schedules"},{path:"/roles",icon:wo,label:"Role Management"},{path:"/overtime-approvals",icon:Oe,label:"Overtime Approvals"},{path:"/leaves",icon:$s,label:"Leave Requests"},{path:"/comp-off",icon:au,label:"Comp-Off Requests"},{path:"/attendance",icon:Oe,label:"Attendance"},{path:"/messages",icon:No,label:"Messages"}]:[{path:"/dashboard",icon:hi,label:"Dashboard"},{path:"/schedule",icon:As,label:"My Schedule"},{path:"/requests",icon:wo,label:"Requests & Approvals"},{path:"/overtime-requests",icon:Oe,label:"Overtime Requests"},{path:"/leaves",icon:$s,label:"Leave Requests"},{path:"/comp-off",icon:au,label:"Comp-Off"},{path:"/attendance",icon:Oe,label:"My Attendance"},{path:"/messages",icon:No,label:"Messages"}];return r.jsxs("div",{className:"flex flex-col h-full bg-gray-900 text-white w-64",children:[r.jsxs("div",{className:"p-6 border-b border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Shift Scheduler"}),r.jsx(bj,{})]}),r.jsxs("p",{className:"text-sm text-gray-400 mt-1 capitalize",children:[e.user_type," Portal"]})]}),r.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:s.map(a=>r.jsxs(y0,{to:a.path,className:({isActive:l})=>`flex items-center px-4 py-3 mb-2 rounded-lg transition-colors ${l?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[r.jsx(a.icon,{className:"w-5 h-5 mr-3"}),r.jsx("span",{children:a.label})]},a.path))}),r.jsxs("div",{className:"p-4 border-t border-gray-700",children:[r.jsxs("div",{className:"px-4 py-2 mb-2",children:[r.jsx("p",{className:"text-sm font-medium",children:e.full_name}),r.jsx("p",{className:"text-xs text-gray-400",children:e.email})]}),r.jsxs("button",{onClick:t,className:"flex items-center w-full px-4 py-3 text-gray-300 hover:bg-gray-800 hover:text-white rounded-lg transition-colors",children:[r.jsx(ol,{className:"w-5 h-5 mr-3"}),r.jsx("span",{children:"Logout"})]})]})]})},Ye=({title:e,subtitle:t,showNotifications:n=!0})=>r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e}),t&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),n&&r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("button",{className:"relative p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(jo,{className:"w-6 h-6"}),r.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]})})]})})}),ze=({isOpen:e,onClose:t,title:n,children:s,footer:a,size:l="md",showCloseButton:i=!0})=>{if(g.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const o={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),r.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl ${o[l]} w-full max-h-[90vh] flex flex-col`,children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:n}),i&&r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Zn,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"px-6 py-4 overflow-y-auto flex-1",children:s}),a&&r.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:a})]})]})})};function jj(){const[e,t]=g.useState(null),[n,s]=g.useState(!0),[a,l]=g.useState(""),[i,o]=g.useState(""),[d,c]=g.useState(""),[p,u]=g.useState(new Date),[x,v]=g.useState(!1);g.useEffect(()=>{j()},[]),g.useEffect(()=>{const m=setInterval(()=>{u(new Date)},1e3);return()=>clearInterval(m)},[]);const f=m=>{if(!m)return null;try{return typeof m=="string"?m.match(/^\d{2}:\d{2}/)?m:new Date(m).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):m.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch{return null}},j=async()=>{try{const m=ce(new Date,"yyyy-MM-dd");console.log(`[CheckInOut] Loading status for ${m}`);const b=await zl(m,m);if(console.log("[CheckInOut] API Response:",b),b.data&&b.data.length>0){let w=b.data[0];console.log("[CheckInOut] Status found:",w),!w.in_time&&w.check_in_time&&(w.in_time=f(w.check_in_time)),!w.out_time&&w.check_out_time&&(w.out_time=f(w.check_out_time)),!w.status&&w.check_in_status&&(w.status=w.check_in_status),console.log("Normalized status:",w),t(w),l("")}else console.log("[CheckInOut] No status found for today"),t(null),l("")}catch(m){console.error("Failed to load attendance status:",m),l("Failed to load check-in status"),t(null)}finally{s(!1)}},S=async()=>{v(!0),await j(),v(!1)},y=async()=>{var m,b,w;s(!0),l(""),o("");try{const C=await Sp("Office");if(C.data||C){const _=C.data||C,T={id:_.id||0,employee_id:_.employee_id,schedule_id:_.schedule_id,date:_.date,in_time:f(_.check_in_time),out_time:null,status:_.check_in_status,worked_hours:0,overtime_hours:0,break_minutes:0,out_status:null,notes:null};console.log("Check-in successful, setting status:",T),t(T),o(" Checked in successfully!")}setTimeout(()=>{console.log("Reloading status from database..."),j()},800),setTimeout(()=>o(""),3e3)}catch(C){const _=((b=(m=C.response)==null?void 0:m.data)==null?void 0:b.detail)||C.message||"Failed to check in";l(_),console.error("Check-in error details:",{status:(w=C.response)==null?void 0:w.status,message:_,fullError:C}),await j()}finally{s(!1)}},h=async()=>{var m,b,w;s(!0),l(""),o("");try{const C=await Cp(d);if(C.data||C){const _=C.data||C,T={...e,out_time:f(_.check_out_time),worked_hours:e.worked_hours||0,overtime_hours:e.overtime_hours||0};console.log("Check-out successful, setting status:",T),t(T),o(" Checked out successfully!")}c(""),setTimeout(()=>{console.log("Reloading status from database..."),j()},800),setTimeout(()=>o(""),3e3)}catch(C){const _=((b=(m=C.response)==null?void 0:m.data)==null?void 0:b.detail)||C.message||"Failed to check out";l(_),console.error("Check-out error details:",{status:(w=C.response)==null?void 0:w.status,message:_,fullError:C}),await j()}finally{s(!1)}};return r.jsxs(K,{title:"Check In / Out",subtitle:"Track your work hours",children:[r.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Current Time"}),r.jsx("p",{className:"text-4xl font-bold text-blue-900 font-mono",children:ce(p,"HH:mm:ss")}),r.jsx("p",{className:"text-sm text-blue-600 mt-1",children:ce(p,"EEEE, MMMM dd, yyyy")})]}),r.jsx(Oe,{className:"w-12 h-12 text-blue-600"})]})}),n&&r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-start",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full animate-pulse mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-blue-700",children:"Loading check-in status..."})]}),a&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:a})]}),i&&r.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-start",children:[r.jsx(Re,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-green-700",children:i})]}),r.jsx("div",{className:"mb-4 p-2 bg-gray-100 rounded text-xs font-mono overflow-auto max-h-32",children:r.jsxs("details",{children:[r.jsx("summary",{className:"cursor-pointer font-bold",children:"Debug Info"}),r.jsxs("div",{className:"mt-2",children:[r.jsxs("p",{children:["todayStatus: ",e?"EXISTS":"NULL"]}),e&&r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["in_time: ",e.in_time||"NULL"]}),r.jsxs("p",{children:["out_time: ",e.out_time||"NULL"]}),r.jsxs("p",{children:["status: ",e.status]})]}),r.jsx("button",{onClick:S,disabled:x,className:"mt-2 px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 disabled:bg-gray-400",children:x?"Refreshing...":"Refresh Status"})]})]})}),r.jsx("div",{className:"space-y-4",children:e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Checked In"}),r.jsx("p",{className:"text-xl font-semibold text-blue-900",children:e.in_time?e.in_time:"Not yet"}),e.status&&r.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Status: ",r.jsx("span",{className:"font-semibold",children:e.status})]})]}),r.jsx(Ma,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Checked Out"}),r.jsx("p",{className:"text-xl font-semibold text-purple-900",children:e.out_time?e.out_time:"Not yet"})]}),r.jsx(ol,{className:"w-8 h-8 text-purple-600"})]})}),e.in_time&&e.out_time&&r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Hours Worked"}),r.jsxs("p",{className:"text-lg font-semibold text-green-900",children:[e.worked_hours?e.worked_hours.toFixed(2):"0"," hours"]})]}),!e.out_time&&e.in_time&&r.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[r.jsxs(B,{variant:"success",fullWidth:!0,disabled:n,onClick:h,children:[r.jsx(ol,{className:"w-4 h-4 mr-2 inline"}),"Check Out"]}),r.jsx("textarea",{value:d,onChange:m=>c(m.target.value),placeholder:"Add notes (optional)",className:"w-full p-2 border rounded text-sm",rows:2})]}),!e.in_time&&r.jsx("div",{className:"pt-4 border-t",children:r.jsxs(B,{variant:"primary",fullWidth:!0,disabled:n,onClick:y,children:[r.jsx(Ma,{className:"w-4 h-4 mr-2 inline"}),"Check In Now"]})})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Oe,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Not checked in yet"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Click the button below to check in"}),r.jsxs(B,{variant:"primary",fullWidth:!0,disabled:n,onClick:y,className:"mt-4",children:[r.jsx(Ma,{className:"w-4 h-4 mr-2 inline"}),"Check In Now"]})]})})]})}const wj=()=>{const[e,t]=g.useState([]),[n,s]=g.useState(!0),[a,l]=g.useState(!1),[i,o]=g.useState({request_date:new Date().toISOString().split("T")[0],from_time:"09:00",to_time:"10:00",reason:""}),[d,c]=g.useState(!1),[p,u]=g.useState(null);g.useEffect(()=>{x()},[]);const x=async()=>{try{s(!0);const y=await H.get("/overtime-requests");t(y.data)}catch(y){console.error("Error loading overtime requests:",y),u({type:"error",text:"Failed to load overtime requests"})}finally{s(!1)}},v=async y=>{var h,m;y.preventDefault();try{c(!0);const[b,w]=i.from_time.split(":").map(Number),[C,_]=i.to_time.split(":").map(Number),T=b*60+w;let E=C*60+_-T;E<0&&(E+=24*60);const W=E/60;if(W<=0){u({type:"error",text:"End time must be after start time"}),c(!1);return}await H.post("/overtime-requests",{request_date:i.request_date,from_time:i.from_time,to_time:i.to_time,request_hours:W,reason:i.reason}),u({type:"success",text:"Overtime request submitted successfully"}),o({request_date:new Date().toISOString().split("T")[0],from_time:"09:00",to_time:"10:00",reason:""}),l(!1),x()}catch(b){console.error("Error submitting request:",b);let w="Failed to submit request";const C=(m=(h=b.response)==null?void 0:h.data)==null?void 0:m.detail;typeof C=="string"?w=C:Array.isArray(C)&&(w=C.map(_=>typeof _=="string"?_:_.msg||JSON.stringify(_)).join(", ")),u({type:"error",text:w})}finally{c(!1)}},f=y=>{switch((y||"").toLowerCase()){case"approved":return"bg-green-50 border-green-200";case"rejected":return"bg-red-50 border-red-200";case"pending":return"bg-yellow-50 border-yellow-200";default:return"bg-gray-50 border-gray-200"}},j=y=>{switch((y||"").toLowerCase()){case"approved":return r.jsx(Re,{className:"w-5 h-5 text-green-600"});case"rejected":return r.jsx(Jn,{className:"w-5 h-5 text-red-600"});case"pending":return r.jsx(we,{className:"w-5 h-5 text-yellow-600"});default:return null}},S=y=>{switch((y||"").toLowerCase()){case"approved":return"Approved";case"rejected":return"Rejected";case"pending":return"Pending";default:return"Unknown"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Overtime Requests"}),r.jsx("button",{onClick:()=>l(!a),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a?"bg-gray-300 text-gray-700 hover:bg-gray-400":"bg-blue-600 text-white hover:bg-blue-700"}`,children:a?"Cancel":"+ New Request"})]}),p&&r.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-3 ${p.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[p.type==="success"?r.jsx(Re,{className:"w-5 h-5"}):r.jsx(we,{className:"w-5 h-5"}),r.jsx("span",{children:p.text}),r.jsx("button",{onClick:()=>u(null),className:"ml-auto text-sm font-medium hover:opacity-75",children:"Dismiss"})]}),a&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Submit Overtime Request"}),r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Request Date *"}),r.jsx("input",{type:"date",value:i.request_date,onChange:y=>o({...i,request_date:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Date for which you need overtime"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Time *"}),r.jsx("input",{type:"time",value:i.from_time,onChange:y=>o({...i,from_time:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overtime start time"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Time *"}),r.jsx("input",{type:"time",value:i.to_time,onChange:y=>o({...i,to_time:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overtime end time"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Duration:"})," ",(()=>{const[y,h]=i.from_time.split(":").map(Number),[m,b]=i.to_time.split(":").map(Number),w=y*60+h;let _=m*60+b-w;_<0&&(_+=24*60);const T=Math.floor(_/60),$=_%60;return`${T}h ${$}m`})()]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),r.jsx("textarea",{value:i.reason,onChange:y=>o({...i,reason:y.target.value}),placeholder:"Explain why you need overtime...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsxs("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[r.jsx(_o,{className:"w-4 h-4"}),d?"Submitting...":"Submit Request"]}),r.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Cancel"})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Requests"}),n?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.length===0?r.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-8 text-center",children:[r.jsx(we,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600",children:"No overtime requests yet"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Submit your first overtime request using the button above"})]}):r.jsx("div",{className:"grid gap-3",children:e.map(y=>r.jsx("div",{className:`border-l-4 rounded-lg p-4 flex justify-between items-start ${f(y.status)}`,children:r.jsxs("div",{className:"flex gap-3 flex-1",children:[j(y.status),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"font-semibold text-gray-900",children:[y.request_hours.toFixed(1)," hours"]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${y.status==="approved"?"bg-green-200 text-green-800":y.status==="rejected"?"bg-red-200 text-red-800":"bg-yellow-200 text-yellow-800"}`,children:S(y.status)})]}),r.jsx("p",{className:"text-sm text-gray-700 mt-1",children:y.reason}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Requested: ",new Date(y.request_date).toLocaleDateString()]}),y.manager_notes&&r.jsxs("div",{className:"mt-2 p-2 bg-white/50 rounded text-sm text-gray-700",children:[r.jsx("p",{className:"font-medium text-gray-800",children:"Manager Notes:"}),r.jsx("p",{children:y.manager_notes})]})]})]})},y.id))})]})]})},Wp=({currentUser:e,departmentId:t})=>{const[n,s]=g.useState([]),[a,l]=g.useState(null),[i,o]=g.useState([]),[d,c]=g.useState(!1),[p,u]=g.useState(!1),[x,v]=g.useState(!1),[f,j]=g.useState(""),[S,y]=g.useState([]),[h,m]=g.useState({employee_id:"",comp_off_date:"",reason:""});g.useEffect(()=>{b()},[]);const b=async()=>{v(!0),j("");try{const k=await jv();if(s(k.data),(e==null?void 0:e.user_type)==="employee")try{const P=await wv();l(P.data);const U=await Nv();o(U.data.monthly_breakdown||[])}catch(P){console.error("Error loading comp-off tracking:",P)}if((e==null?void 0:e.user_type)==="manager")try{const P=await H.get("/employees");y(P.data)}catch(P){console.error("Error loading employees:",P)}}catch(k){console.error("Error loading data:",k),j("Failed to load comp-off data")}finally{v(!1)}},w=async()=>{var k,P;if(!h.comp_off_date){j("Please select a date for comp-off");return}if((e==null?void 0:e.user_type)==="manager"&&!h.employee_id){j("Please select an employee");return}v(!0),j("");try{const U={comp_off_date:h.comp_off_date,reason:h.reason};(e==null?void 0:e.user_type)==="manager"&&(U.employee_id=parseInt(h.employee_id)),await bv(U),m({employee_id:"",comp_off_date:"",reason:""}),c(!1),await b()}catch(U){let N="Failed to create comp-off request";if((P=(k=U.response)==null?void 0:k.data)!=null&&P.detail){const A=U.response.data.detail;typeof A=="string"?N=A:typeof A=="object"&&(N=A.msg||JSON.stringify(A))}j(N),console.error("Error creating comp-off:",U)}finally{v(!1)}},C=async k=>{var P,U;v(!0),j("");try{await _v(k,"Approved"),await b()}catch(N){let A="Failed to approve comp-off";if((U=(P=N.response)==null?void 0:P.data)!=null&&U.detail){const R=N.response.data.detail;typeof R=="string"?A=R:typeof R=="object"&&(A=R.msg||JSON.stringify(R))}j(A),console.error("Error approving comp-off:",N)}finally{v(!1)}},_=async k=>{var U,N;const P=prompt("Enter rejection reason:");if(P!==null){v(!0),j("");try{await kv(k,P),await b()}catch(A){let R="Failed to reject comp-off";if((N=(U=A.response)==null?void 0:U.data)!=null&&N.detail){const I=A.response.data.detail;typeof I=="string"?R=I:typeof I=="object"&&(R=I.msg||JSON.stringify(I))}j(R),console.error("Error rejecting comp-off:",A)}finally{v(!1)}}},T=async()=>{var k,P;v(!0);try{const U=await Sv(),N=window.URL.createObjectURL(new Blob([U.data])),A=document.createElement("a");A.href=N,A.setAttribute("download",`comp_off_report_${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(A),A.click(),A.parentChild.removeChild(A)}catch(U){let N="Failed to download report";if((P=(k=U.response)==null?void 0:k.data)!=null&&P.detail){const A=U.response.data.detail;typeof A=="string"?N=A:typeof A=="object"&&(N=A.msg||JSON.stringify(A))}j(N),console.error("Error downloading report:",U)}finally{v(!1)}},$=k=>{const P={pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pending",icon:Oe},approved:{bg:"bg-green-100",text:"text-green-800",label:"Approved",icon:Re},rejected:{bg:"bg-red-100",text:"text-red-800",label:"Rejected",icon:we}},U=P[k]||P.pending,N=U.icon;return r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1 w-fit ${U.bg} ${U.text}`,children:[r.jsx(N,{className:"w-4 h-4"}),U.label]})},E=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),W=k=>{const P=new Date;return new Date(k).toDateString()===P.toDateString()},re=k=>{const P=new Date;return new Date(k)>P};return r.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.user_type)==="employee"&&a&&r.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-lg border-2 border-indigo-200",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-800 flex items-center gap-2",children:[r.jsx(Ol,{className:"w-5 h-5 text-indigo-600"}),"Your Comp-Off Balance"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-blue-500",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Earned Days"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:a.earned_days}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"from non-shift days worked"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-orange-500",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Used Days"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600",children:a.used_days}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"already taken"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-green-500",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Available Days"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:Math.max(0,a.available_days)}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ready to use"})]})]})]}),(e==null?void 0:e.user_type)==="employee"&&a&&a.available_days>0&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:" How to Use Your Available Comp-Off Days"}),r.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[r.jsxs("li",{children:["Go to ",r.jsx("strong",{children:"Leave Requests"})," tab"]}),r.jsxs("li",{children:["Click ",r.jsx("strong",{children:'"New Leave Request"'})," button"]}),r.jsxs("li",{children:["Select ",r.jsx("strong",{children:'Leave Type: "Comp-Off (Use Earned)"'})]}),r.jsx("li",{children:"Choose the date when you want to take off (must be a shift day)"}),r.jsx("li",{children:"Submit and wait for manager approval"}),r.jsx("li",{children:"Approved comp-off usage will deduct from your available balance"})]}),r.jsx("p",{className:"text-xs text-blue-700 mt-3 font-semibold",children:" Important: Comp-off must be used within the month it was earned. Unused comp-off expires at the end of the month."})]}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-yellow-900 font-semibold mb-2",children:" About Comp-Off Requests"}),r.jsxs("p",{className:"text-sm text-yellow-800 mb-2",children:["This page is for requesting to ",r.jsx("strong",{children:"EARN"})," comp-off days when you work on non-shift days (weekends, holidays)."]}),r.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1 list-disc list-inside",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"To EARN comp-off:"})," Submit a request here if you worked on a non-shift day"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"To USE comp-off:"}),' Go to "Leave Requests" page and select leave type "Comp-Off (Use Earned)"']})]})]}),(e==null?void 0:e.user_type)==="employee"&&i&&i.length>0&&r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(C0,{className:"w-5 h-5 text-indigo-600"}),"Monthly Comp-Off Breakdown"]}),r.jsxs("button",{onClick:()=>u(!p),className:"text-sm bg-indigo-100 text-indigo-700 px-3 py-1 rounded hover:bg-indigo-200 transition",children:[p?"Hide":"Show"," Details"]})]}),p&&r.jsx("div",{className:"space-y-4",children:i.map(k=>r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:new Date(k.month+"-01").toLocaleDateString("en-US",{month:"long",year:"numeric"})}),r.jsxs("span",{className:"text-xs bg-white px-2 py-1 rounded border border-gray-300",children:["Expires: ",new Date(k.expiry_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[r.jsxs("div",{className:"bg-white p-2 rounded border border-gray-300",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Earned"}),r.jsx("p",{className:"text-lg font-bold text-blue-600",children:k.earned})]}),r.jsxs("div",{className:"bg-white p-2 rounded border border-gray-300",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Used"}),r.jsx("p",{className:"text-lg font-bold text-orange-600",children:k.used})]}),r.jsxs("div",{className:"bg-white p-2 rounded border border-gray-300",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Available"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:k.available})]}),r.jsxs("div",{className:"bg-white p-2 rounded border border-gray-300",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Expired"}),r.jsx("p",{className:"text-lg font-bold text-red-600",children:k.expired})]})]}),k.details&&k.details.length>0&&r.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[r.jsx("p",{className:"font-semibold text-gray-700",children:"Transaction History:"}),k.details.slice(0,3).map((P,U)=>r.jsxs("p",{className:"text-gray-600",children:[" ",new Date(P.date).toLocaleDateString()," - ",P.type.toUpperCase(),": ",P.notes]},U)),k.details.length>3&&r.jsxs("p",{className:"text-gray-500 italic",children:["+ ",k.details.length-3," more transactions"]})]})]},k.month))})]}),f&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3 items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-red-800",children:"Error"}),r.jsx("p",{className:"text-red-700 text-sm",children:f})]})]}),(e==null?void 0:e.user_type)==="employee"&&r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Request to Earn Comp-Off"}),!d&&r.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:[r.jsx(Ut,{className:"w-4 h-4"}),"New Comp-Off Request"]})]}),d&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date You Worked (Non-Shift Day) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:h.comp_off_date,onChange:k=>m({...h,comp_off_date:k.target.value}),className:"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the date when you worked on a non-shift day (weekend/holiday) to earn comp-off."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (What work did you do?)"}),r.jsx("textarea",{value:h.reason,onChange:k=>m({...h,reason:k.target.value}),placeholder:"e.g., Worked on project deadline, attended emergency meeting, etc.",className:"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"3"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:w,disabled:x,className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50",children:x?"Submitting...":"Request to Earn Comp-Off"}),r.jsx("button",{onClick:()=>c(!1),className:"flex-1 bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 transition",children:"Cancel"})]})]})]}),(e==null?void 0:e.user_type)==="manager"&&r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Grant Comp-Off to Employee (For Non-Shift Work)"}),!d&&r.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:[r.jsx(Ut,{className:"w-4 h-4"}),"New Comp-Off Request"]})]}),d&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Employee ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:h.employee_id,onChange:k=>m({...h,employee_id:k.target.value}),className:"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"",children:"Select an employee..."}),S.map(k=>r.jsxs("option",{value:k.id,children:[k.first_name," ",k.last_name," (ID: ",k.employee_id,")"]},k.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date Employee Worked (Non-Shift Day) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:h.comp_off_date,onChange:k=>m({...h,comp_off_date:k.target.value}),className:"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the date when the employee worked on a non-shift day (weekend/holiday)."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (What work did they do?)"}),r.jsx("textarea",{value:h.reason,onChange:k=>m({...h,reason:k.target.value}),placeholder:"e.g., Worked on project deadline, attended emergency meeting, etc.",className:"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"3"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:w,disabled:x||!h.employee_id,className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50",children:x?"Creating...":"Grant Comp-Off Request"}),r.jsx("button",{onClick:()=>c(!1),className:"flex-1 bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 transition",children:"Cancel"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:(e==null?void 0:e.user_type)==="employee"?"Your Comp-Off Earning Requests":"Comp-Off Earning Requests"}),(e==null?void 0:e.user_type)==="employee"&&r.jsx("button",{onClick:T,disabled:x,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:" Download Report"})]}),x&&!n.length?r.jsx("div",{className:"p-6 text-center text-gray-500",children:r.jsx("p",{children:"Loading comp-off requests..."})}):n.length===0?r.jsx("div",{className:"p-6 text-center text-gray-500",children:r.jsx("p",{children:(e==null?void 0:e.user_type)==="employee"?"No comp-off requests yet. Apply for comp-off on a free day.":"No comp-off requests to review."})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[r.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Date"}),(e==null?void 0:e.user_type)!=="employee"&&r.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Employee"}),r.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Reason"}),r.jsx("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Status"}),(e==null?void 0:e.user_type)==="manager"&&r.jsx("th",{className:"px-6 py-3 text-center font-semibold text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{children:n.map(k=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:E(k.comp_off_date)}),W(k.comp_off_date)&&r.jsx("p",{className:"text-xs text-indigo-600 font-semibold",children:"Today"}),re(k.comp_off_date)&&r.jsx("p",{className:"text-xs text-gray-500",children:"Future"})]})}),(e==null?void 0:e.user_type)!=="employee"&&r.jsx("td",{className:"px-6 py-4 text-gray-700",children:k.employee?`${k.employee.first_name} ${k.employee.last_name} (${k.employee.employee_id})`:`Employee #${k.employee_id}`}),r.jsx("td",{className:"px-6 py-4 text-gray-700",children:k.reason||"-"}),r.jsx("td",{className:"px-6 py-4",children:$(k.status)}),(e==null?void 0:e.user_type)==="manager"&&k.status==="pending"&&r.jsxs("td",{className:"px-6 py-4 text-center space-x-2",children:[r.jsx("button",{onClick:()=>C(k.id),disabled:x,className:"inline-block bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 transition disabled:opacity-50",children:"Approve"}),r.jsx("button",{onClick:()=>_(k.id),disabled:x,className:"inline-block bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition disabled:opacity-50",children:"Reject"})]}),(e==null?void 0:e.user_type)==="manager"&&k.status!=="pending"&&r.jsx("td",{className:"px-6 py-4 text-center text-gray-500",children:k.review_notes&&r.jsxs("span",{title:k.review_notes,className:"text-xs",children:[k.review_notes.substring(0,20),"..."]})})]},k.id))})]})})]})]})},Nj=({user:e})=>{const t=Ed(),[n,s]=g.useState(null),[a,l]=g.useState(!0),[i,o]=g.useState(null);g.useEffect(()=>{d();const c=setInterval(d,3e4);return()=>clearInterval(c)},[]);const d=async()=>{try{const c=ce(new Date,"yyyy-MM-dd"),[p,u]=await Promise.all([Ul(c,c),Dp()]);s(p.data[0]||null),o(u.data)}catch(c){console.error("Failed to load dashboard data:",c)}finally{l(!1)}};return a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-xl text-gray-500",children:"Loading..."})}):r.jsxs("div",{children:[r.jsx(Ye,{title:"Employee Dashboard",subtitle:`Welcome back, ${e.full_name}`}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"mb-6 flex justify-end",children:r.jsxs(B,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-2",children:[r.jsx(Zf,{className:"w-4 h-4"}),"Refresh"]})}),i&&i.taken_paid_leave<=1&&r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-start gap-3",children:[r.jsx(we,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-blue-900",children:"Paid Leave Status"}),r.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["You have taken ",r.jsx("strong",{children:i.taken_paid_leave})," day",i.taken_paid_leave>1?"s":""," of paid leave. You have ",r.jsx("strong",{children:i.available_paid_leave})," day",i.available_paid_leave>1?"s":""," paid leave available."]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[r.jsx(K,{title:`Today's Schedule - ${ce(new Date,"MMM dd, yyyy")}`,children:n?r.jsxs("div",{className:"space-y-4",children:[n.status!=="comp_off"&&r.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Shift Time"}),r.jsxs("p",{className:"text-lg font-semibold text-blue-900",children:[n.start_time," - ",n.end_time]})]}),r.jsx(Oe,{className:"w-8 h-8 text-blue-600"})]}),n.status==="comp_off"&&r.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),r.jsx("p",{className:"text-lg font-semibold text-purple-900",children:"Full Day Comp-Off"})]}),r.jsx(Oe,{className:"w-8 h-8 text-purple-600"})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(As,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No shift scheduled for today"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Enjoy your day off!"})]})}),r.jsx(jj,{}),r.jsx(K,{title:"Quick Access",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs(B,{variant:"outline",fullWidth:!0,className:"justify-start",onClick:()=>t("/schedule"),children:[r.jsx(As,{className:"w-5 h-5 mr-3"}),"View My Schedule"]}),r.jsxs(B,{variant:"outline",fullWidth:!0,className:"justify-start",onClick:()=>t("/requests"),children:[r.jsx(Oe,{className:"w-5 h-5 mr-3"}),"Request Leave"]}),r.jsxs(B,{variant:"outline",fullWidth:!0,className:"justify-start",onClick:()=>t("/messages"),children:[r.jsx(No,{className:"w-5 h-5 mr-3"}),"Messages"]}),r.jsxs(B,{variant:"outline",fullWidth:!0,className:"justify-start",onClick:()=>t("/attendance"),children:[r.jsx($s,{className:"w-5 h-5 mr-3"}),"View Attendance History"]})]})})]}),r.jsx(K,{title:"Important Information",children:r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("p",{children:" Remember to check in when you arrive for your shift"}),r.jsx("p",{children:" Check your schedule regularly for any updates"}),r.jsx("p",{children:" Submit leave requests in advance"}),r.jsx("p",{children:" Contact your manager if you have any questions"})]})})]})]})},_j=({user:e})=>{const[t,n]=g.useState(null),[s,a]=g.useState(!1),[l,i]=g.useState(null),[o,d]=g.useState("Office"),[c,p]=g.useState(""),[u,x]=g.useState({type:"",text:""}),[v,f]=g.useState(!0);g.useEffect(()=>{j();const h=setInterval(j,3e4);return()=>clearInterval(h)},[]);const j=async()=>{try{const h=ce(new Date,"yyyy-MM-dd"),m=await Ul(h,h);n(m.data[0]||null)}catch(h){console.error("Failed to load schedule:",h)}finally{f(!1)}},S=async()=>{var h,m;x({type:"",text:""});try{await Sp(o),a(!0),i(new Date),x({type:"success",text:"Successfully checked in!"})}catch(b){x({type:"error",text:((m=(h=b.response)==null?void 0:h.data)==null?void 0:m.detail)||"Failed to check in. Please try again."})}},y=async()=>{var h,m;x({type:"",text:""});try{await Cp(c),a(!1),x({type:"success",text:"Successfully checked out!"}),setTimeout(()=>{i(null),p("")},2e3)}catch(b){x({type:"error",text:((m=(h=b.response)==null?void 0:h.data)==null?void 0:m.detail)||"Failed to check out. Please try again."})}};return v?r.jsx("div",{className:"p-6",children:"Loading..."}):t?r.jsxs("div",{children:[r.jsx(Ye,{title:"Check In/Out",subtitle:"Record your attendance"}),r.jsxs("div",{className:"p-6",children:[u.text&&r.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start ${u.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[u.type==="success"?r.jsx(Re,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}):r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:`text-sm ${u.type==="success"?"text-green-700":"text-red-700"}`,children:u.text})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(K,{title:`Today's Shift - ${ce(new Date,"MMMM dd, yyyy")}`,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Scheduled Time"}),r.jsxs("p",{className:"text-lg font-semibold text-blue-900",children:[t.start_time," - ",t.end_time]})]}),r.jsx(Oe,{className:"w-8 h-8 text-blue-600"})]}),s&&l&&r.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Checked In At"}),r.jsx("p",{className:"text-lg font-semibold text-green-900",children:ce(l,"HH:mm:ss")})]}),r.jsx(Re,{className:"w-8 h-8 text-green-600"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Current Time"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ce(new Date,"HH:mm:ss")})]}),r.jsx(Oe,{className:"w-8 h-8 text-gray-600"})]})]})}),r.jsx(K,{title:s?"Check Out":"Check In",children:s?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg text-center",children:[r.jsx(Re,{className:"w-12 h-12 mx-auto text-green-600 mb-2"}),r.jsx("p",{className:"text-green-800 font-semibold",children:"You are checked in"}),r.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Since ",l&&ce(l,"HH:mm:ss")]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),r.jsx("textarea",{value:c,onChange:h=>p(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"3",placeholder:"Add any notes about your shift..."})]}),r.jsxs(B,{variant:"danger",fullWidth:!0,className:"h-14 text-lg",onClick:y,children:[r.jsx(ol,{className:"w-6 h-6 mr-2 inline"}),"Check Out Now"]}),r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Click the button above when you're leaving"})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),r.jsxs("select",{value:o,onChange:h=>d(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[r.jsx("option",{value:"Office",children:"Office"}),r.jsx("option",{value:"Remote",children:"Remote"}),r.jsx("option",{value:"Client Site",children:"Client Site"})]})]}),r.jsxs(B,{variant:"success",fullWidth:!0,className:"h-14 text-lg",onClick:S,children:[r.jsx($s,{className:"w-6 h-6 mr-2 inline"}),"Check In Now"]}),r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Click the button above when you arrive at your shift location"})]})})]}),r.jsx(K,{title:"Tips",className:"mt-6",children:r.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("li",{children:" Check in when you arrive at your scheduled shift"}),r.jsx("li",{children:" Make sure to check out when you leave"}),r.jsx("li",{children:" Late check-ins may be flagged for review"}),r.jsx("li",{children:" Contact your manager if you have any issues"})]})})]})]}):r.jsxs("div",{children:[r.jsx(Ye,{title:"Check In/Out",subtitle:"Record your attendance"}),r.jsx("div",{className:"p-6",children:r.jsx(K,{children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Oe,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 text-lg",children:"No shift scheduled for today"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"You don't need to check in today"})]})})})]})},kj=()=>{const[e,t]=g.useState([]),[n,s]=g.useState(new Date),[a,l]=g.useState(!0);g.useEffect(()=>{i();const o=setInterval(i,3e4);return()=>clearInterval(o)},[n]);const i=async()=>{try{const o=ce(Pp(n),"yyyy-MM-dd"),d=ce(Id(n),"yyyy-MM-dd"),c=await Ul(o,d);t(c.data)}catch(o){console.error("Failed to load schedules:",o)}finally{l(!1)}};return a?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{children:[r.jsx(Ye,{title:"My Schedule",subtitle:"View your upcoming shifts"}),r.jsxs("div",{className:"p-6",children:[r.jsxs(K,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>s(zp(n,1)),children:r.jsx(Dd,{className:"w-4 h-4"})}),r.jsx("h2",{className:"text-xl font-semibold",children:ce(n,"MMMM yyyy")}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>s($d(n,1)),children:r.jsx(Md,{className:"w-4 h-4"})})]}),r.jsxs(B,{variant:"outline",size:"sm",onClick:i,className:"flex items-center gap-2",children:[r.jsx(Zf,{className:"w-4 h-4"}),"Refresh"]})]}),e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ol,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No shifts scheduled for this month"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Check back later for updates"})]}):r.jsx("div",{className:"space-y-4",children:e.map(o=>{const d=u=>{switch(u){case"scheduled":return"bg-blue-100 text-blue-800";case"leave":return"bg-orange-100 text-orange-800";case"leave_half_morning":return"bg-yellow-100 text-yellow-800";case"leave_half_afternoon":return"bg-amber-100 text-amber-800";case"comp_off_earned":return"bg-green-100 text-green-800";case"comp_off_taken":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},c=u=>{switch(u){case"scheduled":return"Scheduled";case"leave":return"Leave (Full Day)";case"leave_half_morning":return"Leave (Half - Morning)";case"leave_half_afternoon":return"Leave (Half - Afternoon)";case"comp_off_earned":return"Comp-Off Earned";case"comp_off_taken":return"Comp-Off Taken";default:return u}},p=u=>u.status==="leave"||u.status==="leave_half_morning"||u.status==="leave_half_afternoon"||u.status==="comp_off_taken"||!u.start_time||!u.end_time?"-":`${u.start_time} - ${u.end_time}`;return r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:ce(new Date(o.date+"T00:00:00"),"EEEE, MMMM dd, yyyy")}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p(o)})]}),r.jsx("div",{className:"text-right",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(o.status)}`,children:c(o.status)})})]})},o.id)})})]}),r.jsx(K,{title:"Schedule Information",className:"mt-6",children:r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("p",{children:" Your schedule is updated regularly by your manager"}),r.jsx("p",{children:" Make sure to check in on time for your shifts"}),r.jsx("p",{children:" If you can't make a shift, request leave in advance"}),r.jsx("p",{children:" Contact your manager if you have questions about your schedule"})]})})]})]})},Sj=({user:e})=>{const[t,n]=g.useState([]),[s,a]=g.useState(null),[l,i]=g.useState(!1),[o,d]=g.useState(!0),[c,p]=g.useState(""),[u,x]=g.useState(null),[v,f]=g.useState({leave_type:"paid",duration_type:"full_day",start_date:"",end_date:"",reason:""});g.useEffect(()=>{j()},[]);const j=async()=>{try{const C=(await Ks()).data.find(T=>T.user_id===e.id);C&&x(C.id);const _=await Il();n(_.data);try{const T=await Dp();a(T.data);const $=T.data;$.available_paid_leave>0?f(E=>({...E,leave_type:"paid"})):$.comp_off_available>0?f(E=>({...E,leave_type:"comp_off"})):f(E=>({...E,leave_type:"unpaid"}))}catch(T){console.error("Failed to load leave statistics:",T)}}catch(b){console.error("Failed to load leave requests:",b)}finally{d(!1)}},S=async b=>{var w,C;if(b.preventDefault(),p(""),!u){p("Unable to find your employee record. Please refresh the page.");return}try{const _={...v,employee_id:u};_.duration_type.startsWith("half_day")&&(_.end_date=_.start_date),await Ep(_),i(!1),(s==null?void 0:s.available_paid_leave)>0?f({leave_type:"paid",duration_type:"full_day",start_date:"",end_date:"",reason:""}):(s==null?void 0:s.comp_off_available)>0?f({leave_type:"comp_off",duration_type:"full_day",start_date:"",end_date:"",reason:""}):f({leave_type:"unpaid",duration_type:"full_day",start_date:"",end_date:"",reason:""}),j()}catch(_){let T="Failed to create leave request";if((C=(w=_.response)==null?void 0:w.data)!=null&&C.detail){const $=_.response.data.detail;Array.isArray($)?T=$.map(E=>{var W;return typeof E=="object"&&E.msg?`${((W=E.loc)==null?void 0:W[1])||"field"}: ${E.msg}`:String(E)}).join("; "):typeof $=="object"&&$.msg?T=$.msg:typeof $=="string"&&(T=$)}p(T)}},y=b=>{const w={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Oe},approved:{bg:"bg-green-100",text:"text-green-800",icon:Re},rejected:{bg:"bg-red-100",text:"text-red-800",icon:Jn}},C=w[b]||w.pending,_=C.icon;return r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${C.bg} ${C.text} flex items-center`,children:[r.jsx(_,{className:"w-3 h-3 mr-1"}),b.charAt(0).toUpperCase()+b.slice(1)]})};if(o)return r.jsx("div",{className:"p-6",children:"Loading..."});const h=t.filter(b=>b.status==="pending").length,m=t.filter(b=>b.status==="approved").length;return r.jsxs("div",{children:[r.jsx(Ye,{title:"Leave Requests",subtitle:"Request and manage your time off"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pending"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:h})]}),r.jsx(Oe,{className:"w-8 h-8 text-yellow-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Approved"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:m})]}),r.jsx(Re,{className:"w-8 h-8 text-green-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Requests"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),r.jsx(we,{className:"w-8 h-8 text-blue-600"})]})})})]}),s&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Paid Leave"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:s.total_paid_leave||0})]}),r.jsx(Ol,{className:"w-8 h-8 text-purple-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Taken Paid Leave"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600",children:s.taken_paid_leave||0})]}),r.jsx(Re,{className:"w-8 h-8 text-orange-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Available Paid Leave"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:s.available_paid_leave||0})]}),r.jsx(Re,{className:"w-8 h-8 text-green-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Usage %"}),r.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[s.total_paid_leave>0?Math.round(s.taken_paid_leave/s.total_paid_leave*100):0,"%"]})]}),r.jsx(we,{className:"w-8 h-8 text-blue-600"})]})})})]}),r.jsx(K,{title:"My Leave Requests",subtitle:`${t.length} total requests`,headerAction:r.jsxs(B,{onClick:()=>i(!0),children:[r.jsx(Ut,{className:"w-4 h-4 mr-2 inline"}),"New Request"]}),children:t.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Oe,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No leave requests yet"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Create your first request to get started"})]}):r.jsx("div",{className:"space-y-4",children:t.map(b=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:b.leave_type.replace("_"," ")}),y(b.status)]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[ce(new Date(b.start_date),"MMM dd, yyyy")," -"," ",ce(new Date(b.end_date),"MMM dd, yyyy")]}),r.jsx("p",{className:"text-sm text-gray-700",children:b.reason}),b.review_notes&&r.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Manager's Note:"}),r.jsx("p",{className:"text-sm text-gray-700",children:b.review_notes})]})]})})},b.id))})}),r.jsxs(ze,{isOpen:l,onClose:()=>i(!1),title:"Request Leave",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),r.jsx(B,{onClick:S,children:"Submit Request"})]}),children:[c&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:c})]}),r.jsxs("form",{onSubmit:S,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-4 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Leave Type"}),r.jsxs("select",{value:v.leave_type,onChange:b=>f({...v,leave_type:b.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",required:!0,children:[(s==null?void 0:s.available_paid_leave)>0&&r.jsxs("option",{value:"paid",children:[" Paid Leave (",s.available_paid_leave," days)"]}),r.jsx("option",{value:"unpaid",children:" Unpaid Leave"}),(s==null?void 0:s.comp_off_available)>0&&r.jsxs("option",{value:"comp_off",children:[" Comp-off (Available: ",s.comp_off_available,")"]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the type of leave you are requesting"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Duration Type"}),r.jsxs("select",{value:v.duration_type,onChange:b=>f({...v,duration_type:b.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",required:!0,children:[r.jsx("option",{value:"full_day",children:"Full Day (Entire Day)"}),r.jsx("option",{value:"half_day_morning",children:"Half Day - Morning Only"}),r.jsx("option",{value:"half_day_afternoon",children:"Half Day - Afternoon Only"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose if this is a full or half day"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-4 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Start Date"}),r.jsx("input",{type:"date",value:v.start_date,onChange:b=>f({...v,start_date:b.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" End Date"}),r.jsx("input",{type:"date",value:v.end_date,onChange:b=>f({...v,end_date:b.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",required:!0,disabled:v.duration_type.startsWith("half_day")}),v.duration_type.startsWith("half_day")&&r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Auto-set to start date for half-day leaves"})]})]}),r.jsxs("div",{className:"pb-4",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Reason"}),r.jsx("textarea",{value:v.reason,onChange:b=>f({...v,reason:b.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"3",placeholder:"Provide a reason for your request (optional)..."})]}),v.leave_type&&v.duration_type&&v.start_date&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Request Summary:"})," ",v.duration_type.startsWith("half_day")?"Half Day":"Full Day"," ",v.leave_type," leave on ",new Date(v.start_date).toLocaleDateString(),v.duration_type==="half_day_morning"&&" (Morning)",v.duration_type==="half_day_afternoon"&&" (Afternoon)"]})})]})]})]})]})},Cj=()=>{const[e,t]=g.useState([]),[n,s]=g.useState(new Date),[a,l]=g.useState(!0),[i,o]=g.useState({present:0,late:0,absent:0}),[d,c]=g.useState(!1);g.useEffect(()=>{p()},[n]);const p=async()=>{try{const x=ce(Pp(n),"yyyy-MM-dd"),v=ce(Id(n),"yyyy-MM-dd"),f=await zl(x,v);t(f.data);let j=0,S=0,y=0;f.data.forEach(h=>{h.in_time?h.status==="onTime"?j++:S++:y++}),o({present:j,late:S,absent:y})}catch(x){console.error("Failed to load attendance:",x)}finally{l(!1)}},u=async()=>{try{c(!0);const x=n.getFullYear(),v=n.getMonth()+1,f=localStorage.getItem("token"),j=await fetch(`http://localhost:8000/attendance/export/employee-monthly?year=${x}&month=${v}`,{method:"GET",headers:{Authorization:`Bearer ${f}`}});if(!j.ok)throw new Error("Download failed");const S=await j.blob(),y=window.URL.createObjectURL(S),h=document.createElement("a");h.href=y,h.download=`attendance_${ce(n,"MMMM_yyyy")}.xlsx`,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(y)}catch(x){console.error("Download failed:",x),alert("Failed to download report")}finally{c(!1)}};return a?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{children:[r.jsx(Ye,{title:"My Attendance",subtitle:"View your attendance history"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"On Time"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:i.present})]}),r.jsx(Re,{className:"w-8 h-8 text-green-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Late"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:i.late})]}),r.jsx(Oe,{className:"w-8 h-8 text-yellow-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Absent"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:i.absent})]}),r.jsx(Jn,{className:"w-8 h-8 text-red-600"})]})})})]}),r.jsxs(K,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:()=>s(zp(n,1)),children:r.jsx(Dd,{className:"w-4 h-4"})}),r.jsx("h2",{className:"text-xl font-semibold",children:ce(n,"MMMM yyyy")}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>s($d(n,1)),children:r.jsx(Md,{className:"w-4 h-4"})})]}),r.jsxs(B,{onClick:u,disabled:d,size:"sm",className:"flex items-center space-x-2",children:[r.jsx(k0,{className:"w-4 h-4"}),r.jsx("span",{children:d?"Downloading...":"Download Report"})]})]}),e.length>0&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Hours"}),r.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[e.reduce((x,v)=>x+(v.worked_hours||0),0).toFixed(2),"h"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Night Hours (22:00+)"}),r.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[e.reduce((x,v)=>x+(v.night_hours||0),0).toFixed(2),"h"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Overtime Hours"}),r.jsxs("p",{className:"text-lg font-bold text-orange-600",children:[e.reduce((x,v)=>x+(v.overtime_hours||0),0).toFixed(2),"h"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Days Worked"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:e.filter(x=>x.in_time).length})]})]}),e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Oe,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No attendance records for this month"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scheduled Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Check-In"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Check-Out"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hours Worked"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Night Hours"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Break (min)"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"OT Hours"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(x=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:ce(new Date(x.date+"T00:00:00"),"MMM dd, yyyy")}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.schedule?`${x.schedule.start_time} - ${x.schedule.end_time}`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:x.in_time?x.in_time:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:x.out_time?x.out_time:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-medium",children:x.worked_hours?`${x.worked_hours.toFixed(2)}h`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-600 font-medium",children:x.night_hours?`${x.night_hours.toFixed(2)}h`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.break_minutes?`${x.break_minutes}m`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-600 font-medium",children:x.overtime_hours?`${x.overtime_hours.toFixed(2)}h`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.status==="onTime"?"bg-green-100 text-green-800":x.status==="slightlyLate"?"bg-yellow-100 text-yellow-800":x.status==="late"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:x.status||"Scheduled"})})]},x.id))})]})})]}),r.jsx(K,{title:"Attendance Tips",className:"mt-6",children:r.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("li",{children:" Always check in on time to maintain a good attendance record"}),r.jsx("li",{children:" Late arrivals may impact your performance reviews"}),r.jsx("li",{children:" If you'll be late or absent, notify your manager in advance"}),r.jsx("li",{children:" Your attendance history is visible to management"})]})})]})]})},Ej=()=>{const[e,t]=g.useState([]),[n,s]=g.useState(!0);g.useEffect(()=>{a()},[]);const a=async()=>{try{const d=await Mp();t(d.data)}catch(d){console.error("Failed to load messages:",d)}finally{s(!1)}},l=async d=>{if(window.confirm("Are you sure you want to delete this message?"))try{await Tp(d),a()}catch{alert("Failed to delete message")}},i=async(d,c)=>{try{c||await Mv(d),a()}catch{alert("Failed to update message status")}};if(n)return r.jsx("div",{className:"p-6",children:"Loading..."});const o=e.filter(d=>!d.is_read).length;return r.jsxs("div",{children:[r.jsx(Ye,{title:"Messages",subtitle:"Messages from your manager"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Unread Messages"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:o})]}),r.jsx(xi,{className:"w-8 h-8 text-blue-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Messages"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),r.jsx(S0,{className:"w-8 h-8 text-gray-600"})]})})})]}),r.jsx(K,{title:"All Messages",subtitle:`${e.length} total messages`,children:e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(xi,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No messages yet"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Messages from your manager will appear here"})]}):r.jsx("div",{className:"space-y-4",children:e.map(d=>r.jsxs("div",{className:`border rounded-lg p-4 transition-colors ${d.is_read?"border-gray-200 bg-white hover:border-gray-300":"border-blue-200 bg-blue-50 hover:border-blue-300"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[!d.is_read&&r.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-yellow-200 text-yellow-800",children:"Unread"}),r.jsx("h4",{className:"font-semibold text-gray-900",children:d.subject})]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["From: ",d.department_id?"Department Manager":"Manager"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx("span",{className:"text-xs text-gray-500",children:ce(new Date(d.created_at),"MMM dd, HH:mm")}),r.jsx("button",{onClick:()=>i(d.id,d.is_read),className:`p-1 rounded ${d.is_read?"text-gray-400 hover:text-blue-600 hover:bg-blue-50":"text-blue-600 hover:text-blue-700 hover:bg-blue-50"}`,title:d.is_read?"Mark as unread":"Mark as read",children:r.jsx(xi,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>l(d.id),className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50",title:"Delete message",children:r.jsx(Gn,{className:"w-4 h-4"})})]})]}),r.jsx("p",{className:"text-gray-700 mt-3 pl-2 border-l-2 border-gray-300 whitespace-pre-wrap",children:d.message})]},d.id))})})]})]})},Dj=({user:e})=>{const[t,n]=g.useState([]),[s,a]=g.useState(!1),[l,i]=g.useState(!0),[o,d]=g.useState(""),[c,p]=g.useState(""),[u,x]=g.useState({leave_type:"paid",duration_type:"full_day",start_date:"",end_date:"",reason:""}),[v,f]=g.useState(0);g.useEffect(()=>{S(),j()},[]);const j=async()=>{try{const _=await H.get("/comp-off/balance");_.data&&_.data.balance&&f(_.data.balance)}catch(_){console.error("Failed to load comp-off balance:",_)}},S=async()=>{try{const _=await Il();n(_.data||[])}catch(_){console.error("Failed to load requests:",_)}finally{i(!1)}},y=async _=>{var T,$;_.preventDefault(),d(""),p("");try{const E={...u};E.duration_type&&E.duration_type.startsWith("half_day")&&(E.end_date=E.start_date),await Ep(E),p(" Leave request submitted successfully! Your manager will review it."),x({leave_type:"paid",duration_type:"full_day",start_date:"",end_date:"",reason:""}),a(!1),S(),setTimeout(()=>p(""),3e3)}catch(E){d((($=(T=E.response)==null?void 0:T.data)==null?void 0:$.detail)||"Failed to submit request")}},h=_=>{switch(_){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},m=_=>{switch(_){case"approved":return r.jsx(Re,{className:"w-5 h-5 inline mr-2 text-green-600"});case"rejected":return r.jsx(Zn,{className:"w-5 h-5 inline mr-2 text-red-600"});case"pending":return r.jsx(Oe,{className:"w-5 h-5 inline mr-2 text-yellow-600"});default:return null}},b=t.filter(_=>_.status==="pending"),w=t.filter(_=>_.status==="approved"),C=t.filter(_=>_.status==="rejected");return l?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{className:"min-h-screen bg-gray-100",children:[r.jsx(Ye,{title:"Requests & Approvals",subtitle:"Manage your leave and overtime requests"}),r.jsxs("div",{className:"p-6",children:[c&&r.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start",children:[r.jsx(Re,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-green-800",children:c})]}),o&&r.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-red-800",children:o})]}),r.jsx(K,{title:"Pending Requests",subtitle:b.length===0?"No pending requests":"",action:r.jsxs(B,{onClick:()=>a(!0),size:"sm",children:[r.jsx(Ut,{className:"w-4 h-4 mr-2"}),"New Request"]}),children:b.length>0&&r.jsx("div",{className:"space-y-3",children:b.map(_=>r.jsx("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:r.jsx("div",{className:"flex justify-between items-start",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[m(_.status),r.jsx("span",{className:"font-semibold capitalize",children:_.leave_type}),_.duration_type&&_.duration_type!=="full_day"&&r.jsx("span",{className:"text-xs ml-2 px-2 py-1 bg-yellow-100 rounded capitalize",children:_.duration_type.replace(/_/g," ")}),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${h(_.status)}`,children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})]}),r.jsxs("p",{className:"text-sm text-gray-700",children:[_.start_date," to ",_.end_date]}),_.reason&&r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[r.jsx("strong",{children:"Reason:"})," ",_.reason]})]})})},_.id))})}),w.length>0&&r.jsx(K,{title:"Approved Requests",className:"mt-6",children:r.jsx("div",{className:"space-y-3",children:w.map(_=>r.jsx("div",{className:"p-4 border border-green-200 bg-green-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Re,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-semibold capitalize",children:_.leave_type}),_.duration_type&&_.duration_type!=="full_day"&&r.jsx("span",{className:"text-xs ml-2 px-2 py-1 bg-green-100 rounded capitalize",children:_.duration_type.replace(/_/g," ")})]}),r.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[_.start_date," to ",_.end_date]}),_.reason&&r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[r.jsx("strong",{children:"Reason:"})," ",_.reason]}),_.reviewed_by&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Approved by manager on ",_.reviewed_at]})]})]})},_.id))})}),C.length>0&&r.jsx(K,{title:"Rejected Requests",className:"mt-6",children:r.jsx("div",{className:"space-y-3",children:C.map(_=>r.jsx("div",{className:"p-4 border border-red-200 bg-red-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Zn,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-semibold capitalize",children:_.leave_type}),_.duration_type&&_.duration_type!=="full_day"&&r.jsx("span",{className:"text-xs ml-2 px-2 py-1 bg-red-100 rounded capitalize",children:_.duration_type.replace(/_/g," ")})]}),r.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[_.start_date," to ",_.end_date]}),_.reason&&r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[r.jsx("strong",{children:"Reason:"})," ",_.reason]}),_.reviewed_by&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Rejected by manager on ",_.reviewed_at]})]})]})},_.id))})}),r.jsx(ze,{isOpen:s,onClose:()=>a(!1),title:"Submit Leave Request",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),r.jsx(B,{onClick:y,children:"Submit Request"})]}),children:r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-4 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Leave Type"}),r.jsxs("select",{value:u.leave_type,onChange:_=>x({...u,leave_type:_.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",children:[r.jsx("option",{value:"paid",children:" Paid Leave"}),r.jsx("option",{value:"unpaid",children:" Unpaid Leave"}),v>0&&r.jsxs("option",{value:"comp_off",children:[" Comp-off (Available: ",v,")"]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the type of leave you are requesting"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Duration Type"}),r.jsxs("select",{value:u.duration_type,onChange:_=>x({...u,duration_type:_.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",children:[r.jsx("option",{value:"full_day",children:"Full Day (Entire Day)"}),r.jsx("option",{value:"half_day_morning",children:"Half Day - Morning Only"}),r.jsx("option",{value:"half_day_afternoon",children:"Half Day - Afternoon Only"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose if this is a full or half day"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-4 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Start Date"}),r.jsx("input",{type:"date",value:u.start_date,onChange:_=>x({...u,start_date:_.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" End Date"}),r.jsx("input",{type:"date",value:u.end_date,onChange:_=>x({...u,end_date:_.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",required:!0,disabled:u.duration_type.startsWith("half_day")}),u.duration_type.startsWith("half_day")&&r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Auto-set to start date for half-day leaves"})]})]}),r.jsxs("div",{className:"pb-4",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" Reason"}),r.jsx("textarea",{value:u.reason,onChange:_=>x({...u,reason:_.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"3",placeholder:"Provide a reason for your request (optional)..."})]}),u.leave_type&&u.duration_type&&u.start_date&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Request Summary:"})," ",u.duration_type.startsWith("half_day")?"Half Day":"Full Day"," ",u.leave_type," leave on ",new Date(u.start_date).toLocaleDateString(),u.duration_type==="half_day_morning"&&" (Morning)",u.duration_type==="half_day_afternoon"&&" (Afternoon)"]})})]})})]})]})},Mj=({user:e})=>r.jsxs("div",{children:[r.jsx(Ye,{title:"Comp-Off Management",subtitle:"Apply and manage your comp-off balance"}),r.jsx("div",{className:"p-6",children:r.jsx(Wp,{currentUser:e,departmentId:null})})]}),Tj=({user:e,onLogout:t})=>r.jsxs("div",{className:"flex h-screen bg-gray-100",children:[r.jsx(Ud,{user:e,onLogout:t}),r.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs(Rl,{children:[r.jsx(je,{path:"/dashboard",element:r.jsx(Nj,{user:e})}),r.jsx(je,{path:"/check-in",element:r.jsx(_j,{user:e})}),r.jsx(je,{path:"/schedule",element:r.jsx(kj,{})}),r.jsx(je,{path:"/leaves",element:r.jsx(Sj,{user:e})}),r.jsx(je,{path:"/requests",element:r.jsx(Dj,{user:e})}),r.jsx(je,{path:"/overtime-requests",element:r.jsx(wj,{})}),r.jsx(je,{path:"/comp-off",element:r.jsx(Mj,{user:e})}),r.jsx(je,{path:"/attendance",element:r.jsx(Cj,{})}),r.jsx(je,{path:"/messages",element:r.jsx(Ej,{})}),r.jsx(je,{path:"/",element:r.jsx(Ls,{to:"/dashboard",replace:!0})})]})})})]}),zd=({columns:e,data:t,onRowClick:n,emptyMessage:s="No data available"})=>r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsx("tr",{children:e.map((a,l)=>r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a.header},l))})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:e.length,className:"px-6 py-12 text-center text-gray-500",children:s})}):t.map((a,l)=>r.jsx("tr",{onClick:()=>n&&n(a),className:n?"hover:bg-gray-50 cursor-pointer":"",children:e.map((i,o)=>r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.render?i.render(a):a[i.accessor]},o))},l))})]})}),Rj=({departmentId:e,employees:t=[],roles:n=[]})=>{var cn,Br;const[s,a]=g.useState("view"),[l,i]=g.useState([]),[o,d]=g.useState(!1),[c,p]=g.useState(te(new Date)),[u,x]=g.useState({}),[v,f]=g.useState({}),[j,S]=g.useState(!1),[y,h]=g.useState(!1),[m,b]=g.useState(null),[w,C]=g.useState(null),[_,T]=g.useState(te(new Date)),[$,E]=g.useState([]),[W,re]=g.useState(null),[k,P]=g.useState(null),[U,N]=g.useState(null),[A,R]=g.useState(""),[I,X]=g.useState(""),[q,G]=g.useState(!1),[ke,fe]=g.useState(""),[Qe,L]=g.useState(null);function te(M){const z=new Date(M),ne=z.getDay(),se=z.getDate()-ne+(ne===0?-6:1);return new Date(z.setDate(se)).toISOString().split("T")[0]}function Y(M){const z=[],ne=new Date(M);for(let se=0;se<7;se++){const Q=new Date(ne);Q.setDate(Q.getDate()+se),z.push(Q.toISOString().split("T")[0])}return z}g.useEffect(()=>{J(),le()},[c,s]);const le=async()=>{var M;try{const z=Y(c),ne=new Date(z[0]),se=new Date(z[6]),Q=new Set;Q.add(`${ne.getFullYear()}-${ne.getMonth()+1}`),Q.add(`${se.getFullYear()}-${se.getMonth()+1}`);const oe={};for(const Z of Q){const[ie,$e]=Z.split("-").map(Number);try{const Ue=await Pv(ie,$e);Object.assign(oe,((M=Ue.data)==null?void 0:M.holidays)||{})}catch(Ue){console.error(`Failed to load holidays for ${Z}:`,Ue)}}f(oe)}catch(z){console.error("Failed to load holidays:",z)}},J=async()=>{d(!0);try{const M=Y(c),z=M[0],ne=M[6],se=await Ul(z,ne);i(se.data||[]),E(JSON.parse(JSON.stringify(se.data||[])));const Q=await H.get("/leave-requests");if(Q.data){const oe={};console.log("All leave requests:",Q.data),Q.data.forEach(Z=>{if(console.log(`Processing leave: emp=${Z.employee_id}, status=${Z.status}, start=${Z.start_date}, end=${Z.end_date}`),Z.status==="approved"){let ie=typeof Z.start_date=="string"?Z.start_date:new Date(Z.start_date).toISOString().split("T")[0],$e=typeof Z.end_date=="string"?Z.end_date:new Date(Z.end_date).toISOString().split("T")[0];console.log(`   Approved leave: emp=${Z.employee_id}, ${ie} to ${$e}`);const Ue=xa(ie),ee=xa($e);let Me=Ue;for(;ce(Me,"yyyy-MM-dd")<=ce(ee,"yyyy-MM-dd");){const Ne=ce(Me,"yyyy-MM-dd");oe[`${Z.employee_id}-${Ne}`]=Z,console.log(`     Added leave key: ${Z.employee_id}-${Ne}`),Me=Uv(Me,1)}}}),console.log("Final leave map:",oe),x(oe)}}catch(M){console.error("Failed to load schedules:",M),R("Failed to load schedules")}finally{d(!1)}},Fe=async()=>{var M,z,ne,se,Q,oe,Z;d(!0);try{const ie=Y(_),$e=ie[0],Ue=ie[6];console.log("Generating schedules for",$e,"to",Ue);const ee=await Nu($e,Ue);if(console.log("Generation response:",ee),(M=ee.data)!=null&&M.requires_confirmation){if(window.confirm(ee.data.feedback.join(`
`)+`

Click OK to regenerate and replace existing schedules.`)){d(!0);const Hr=await Nu($e,Ue,!0),Rt=((z=Hr.data)==null?void 0:z.schedules_created)||0,Gs=((ne=Hr.data)==null?void 0:ne.feedback)||[];Rt>0?X(` Regenerated ${Rt} schedules!
${Gs.join(`
`)}`):R(` No schedules generated.
${Gs.join(`
`)}`)}else R("Schedule generation cancelled.");setTimeout(()=>{X(""),R("")},5e3),S(!1),p(_),setTimeout(()=>J(),500),d(!1);return}const Me=((se=ee.data)==null?void 0:se.schedules_created)||0,Ne=((Q=ee.data)==null?void 0:Q.feedback)||[];Me>0?X(` Generated ${Me} schedules!
${Ne.join(`
`)}`):R(` No schedules generated.
${Ne.join(`
`)}`),setTimeout(()=>{X(""),R("")},5e3),S(!1),p(_),setTimeout(()=>J(),500)}catch(ie){console.error("Generation error:",ie);let $e=ie.message;const Ue=(Z=(oe=ie.response)==null?void 0:oe.data)==null?void 0:Z.detail;typeof Ue=="string"?$e=Ue:Array.isArray(Ue)&&($e=Ue.map(ee=>typeof ee=="string"?ee:ee.msg||JSON.stringify(ee)).join(", ")),R("Failed to generate schedule: "+$e),setTimeout(()=>R(""),3e3)}finally{d(!1)}},O=()=>{var z,ne;const M={id:`new-${Date.now()}`,employee_id:((z=t[0])==null?void 0:z.id)||"",role_id:((ne=n[0])==null?void 0:ne.id)||"",date:Y(c)[0],start_time:"09:00",end_time:"17:00",shift_id:null,status:"scheduled",isNew:!0};E([...$,M])},xe=M=>{E($.filter(z=>z.id!==M))},be=(M,z,ne)=>{const se=Y(c),Q=ne.filter(ie=>ie.employee_id===M&&se.includes(ie.date)),oe=new Set(Q.map(ie=>ie.date)).size;if(oe>=5&&!Q.find(ie=>ie.date===z))return{isValid:!1,message:"5-Day Limit Exceeded",details:`Employee is already scheduled for ${oe} days this week. Maximum is 5 days per week.`};const Z=Q.filter(ie=>ie.date===z);return Z.length>0?{isValid:!1,message:"Already Scheduled",details:`Employee is already scheduled for ${Z[0].date}. Remove existing schedule first.`}:{isValid:!0}},pe=M=>{P(M.id),N({...M})},Ee=()=>{U&&E($.map(M=>M.id===U.id?{...M,start_time:U.start_time,end_time:U.end_time}:M)),P(null),N(null)},at=async()=>{var M,z,ne;d(!0);try{const se=Y(c),Q={};$.forEach(ee=>{Q[ee.employee_id]||(Q[ee.employee_id]=[]),se.includes(ee.date)&&Q[ee.employee_id].push(ee)});for(const[ee,Me]of Object.entries(Q)){const Ne=new Set(Me.map(_t=>_t.date));if(Ne.size>5){const _t=t.find(Hr=>Hr.id===parseInt(ee));fe("5-Day Limit Exceeded"),L(`${_t==null?void 0:_t.first_name} ${_t==null?void 0:_t.last_name} is assigned ${Ne.size} days in this week. Maximum is 5 days.`),G(!0),d(!1);return}Me.forEach(_t=>{if(Me.filter(Rt=>Rt.date===_t.date).length>1){const Rt=t.find(Gs=>Gs.id===parseInt(ee));fe("Duplicate Schedule"),L(`${Rt==null?void 0:Rt.first_name} ${Rt==null?void 0:Rt.last_name} has multiple shifts on ${_t.date}.`),G(!0),d(!1);return}})}const oe=l.filter(ee=>!$.find(Me=>Me.id===ee.id)).map(ee=>Ov(ee.id)),Z=$.filter(ee=>ee.isNew).map(ee=>Tv({employee_id:ee.employee_id,role_id:ee.role_id,date:ee.date,start_time:ee.start_time,end_time:ee.end_time,shift_id:ee.shift_id})),ie=$.filter(ee=>!ee.isNew&&l.find(Me=>Me.id===ee.id)).map(ee=>Rv(ee.id,{employee_id:ee.employee_id,role_id:ee.role_id,date:ee.date,start_time:ee.start_time,end_time:ee.end_time,shift_id:ee.shift_id})),Ue=(await Promise.all([...oe,...Z,...ie])).filter(ee=>(ee==null?void 0:ee.status)==="requires_overtime_approval");if(Ue.length>0){const ee=Ue.map(Ne=>`${Ne.employee_name} (${Ne.date}): ${Ne.message}
Shift Hours: ${Ne.shift_hours}h, Total Daily: ${Ne.total_daily_hours}h, Total Weekly: ${Ne.total_weekly_hours}h`).join(`

`);if(!window.confirm(`Overtime Alert!

`+ee+`

OT Available: `+(((M=Ue[0])==null?void 0:M.remaining_ot_hours)||0)+`h

Do you want to proceed with these assignments?`)){R("Schedule changes cancelled"),d(!1);return}}X(" Schedule changes saved!"),setTimeout(()=>X(""),3e3),a("view"),await J()}catch(se){console.error("Save error:",se);let Q=se.message;const oe=(ne=(z=se.response)==null?void 0:z.data)==null?void 0:ne.detail;typeof oe=="string"?Q=oe:Array.isArray(oe)&&(Q=oe.map(Z=>typeof Z=="string"?Z:Z.msg||JSON.stringify(Z)).join(", ")),R("Failed to save schedule: "+Q),setTimeout(()=>R(""),5e3)}finally{d(!1)}},lt=M=>{const z=t.find(ne=>ne.id===M);return z?`${z.first_name} ${z.last_name}`:"Unknown"},Tt=M=>{const z=n.find(ne=>ne.id===M);return(z==null?void 0:z.name)||"Unknown"},rr=M=>{const z=["bg-blue-100 text-blue-900","bg-purple-100 text-purple-900","bg-pink-100 text-pink-900","bg-green-100 text-green-900","bg-yellow-100 text-yellow-900","bg-indigo-100 text-indigo-900"];return z[M%z.length]},zr=(M,z)=>{const ne=`${M}-${z}`,se=!!u[ne];return se&&console.log(` Leave found for ${ne}`),se},Bt=Y(c),on=s==="edit"?$:l,dn=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Wr=()=>{p(te(new Date(c).getTime()-7*24*60*60*1e3))},Ln=()=>{p(te(new Date(c).getTime()+7*24*60*60*1e3))};return r.jsxs("div",{children:[A&&r.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700 whitespace-pre-wrap",children:A})]}),I&&r.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start",children:[r.jsx(il,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-green-700 whitespace-pre-wrap",children:I})]}),r.jsx(K,{title:"Schedule Management",subtitle:`Week of ${Bt[0]} to ${Bt[6]}`,headerAction:s==="view"?r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("button",{onClick:Wr,className:"p-2 hover:bg-gray-100 rounded",children:r.jsx(Dd,{className:"w-5 h-5"})}),r.jsxs("span",{className:"text-sm font-medium min-w-[200px] text-center",children:[Bt[0]," to ",Bt[6]]}),r.jsx("button",{onClick:Ln,className:"p-2 hover:bg-gray-100 rounded",children:r.jsx(Md,{className:"w-5 h-5"})}),r.jsxs("div",{className:"border-l pl-2 ml-2 flex gap-2",children:[r.jsxs(B,{onClick:()=>S(!0),variant:"primary",children:[r.jsx(Ol,{className:"w-4 h-4 mr-2 inline"}),"Generate"]}),r.jsxs(B,{onClick:()=>a("edit"),variant:"secondary",children:[r.jsx(Fs,{className:"w-4 h-4 mr-2 inline"}),"Edit"]})]})]}):r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(B,{onClick:O,variant:"secondary",children:[r.jsx(Ut,{className:"w-4 h-4 mr-2 inline"}),"Add Shift"]}),r.jsxs(B,{onClick:at,variant:"primary",children:[r.jsx(il,{className:"w-4 h-4 mr-2 inline"}),"Confirm & Save"]}),r.jsxs(B,{onClick:()=>{a("view"),E(JSON.parse(JSON.stringify(l)))},variant:"ghost",children:[r.jsx(Zn,{className:"w-4 h-4 mr-2 inline"}),"Cancel"]})]}),children:o?r.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading schedules..."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsx("div",{className:"min-w-max",children:r.jsxs("div",{className:"grid gap-0 border border-gray-300 rounded-lg overflow-hidden",style:{gridTemplateColumns:"250px repeat(7, 1fr)"},children:[r.jsx("div",{className:"bg-gray-900 text-white p-4 font-bold",children:"Employee / Role"}),Bt.map((M,z)=>{const se=new Date(M).getDate(),Q=v[M],oe=(Q==null?void 0:Q.holiday_name)||null,Z=z>=5,ie=Z||Q;return r.jsxs("div",{className:`p-3 border-l border-gray-300 font-bold text-sm text-center ${ie?"bg-gray-300 text-gray-700":"bg-gray-100 text-gray-600"}`,title:oe||(Z?"Weekend":""),children:[r.jsx("div",{className:"text-gray-700",children:dn[z]}),r.jsx("div",{className:"text-lg font-bold",children:se}),oe&&r.jsx("div",{className:"text-xs mt-1 text-gray-600 truncate",children:oe.substring(0,8)})]},M)}),t.map(M=>r.jsxs(Po.Fragment,{children:[r.jsxs("div",{className:"bg-white border-b border-t border-gray-300 p-3 font-semibold text-sm flex flex-col justify-center sticky left-0 z-10 bg-gray-50",children:[r.jsxs("div",{className:"text-gray-900",children:[M.first_name," ",M.last_name]}),M.role_id&&r.jsx("div",{className:`text-xs mt-1 px-2 py-1 rounded w-fit ${rr(M.role_id)}`,children:Tt(M.role_id)})]}),Bt.map(z=>{const ne=on.filter(Z=>Z.employee_id===M.id&&Z.date===z),se=zr(M.id,z),Q=u[`${M.id}-${z}`],oe=(Q==null?void 0:Q.leave_type)==="comp_off";return r.jsxs("div",{onClick:()=>{se&&Q&&C({...Q,employee:M,leaveDate:z})},className:`border-b border-l border-gray-300 p-2 min-h-[120px] relative transition cursor-pointer ${se?oe?"bg-purple-50 hover:bg-purple-100":"bg-red-50 hover:bg-red-100":"bg-white hover:bg-gray-50"}`,onDragOver:Z=>s==="edit"&&!se&&Z.preventDefault(),onDrop:Z=>{if(s==="edit"&&W&&!se){const ie=be(M.id,z,$.filter($e=>$e.id!==W.id));if(!ie.isValid){fe(ie.message),L(ie.details),G(!0),re(null);return}E($.map($e=>$e.id===W.id?{...$e,employee_id:M.id,date:z}:$e)),re(null)}},children:[se&&r.jsxs("div",{className:"text-center py-6",children:[r.jsx("div",{className:`font-bold text-sm ${oe?"text-purple-700":"text-red-700"}`,children:oe?" COMP-OFF":"LEAVE"}),r.jsx("div",{className:`text-xs mt-1 ${oe?"text-purple-600":"text-red-600"}`,children:(Q==null?void 0:Q.duration_type)==="half_day_morning"?" Half Day (AM)":(Q==null?void 0:Q.duration_type)==="half_day_afternoon"?" Half Day (PM)":oe?"Comp-Off Usage":"Approved Time Off"})]}),!se&&ne.map(Z=>r.jsx("div",{draggable:s==="edit",onDragStart:()=>s==="edit"&&re(Z),onDragEnd:()=>re(null),onClick:()=>s==="view"&&(b(Z),h(!0)),className:`
                                p-2 rounded mb-1 text-xs font-semibold cursor-pointer
                                transition-all border-l-4
                                ${rr(Z.role_id)}
                                ${s==="edit"?"cursor-move hover:shadow-lg":"hover:shadow-md"}
                              `,style:{borderLeftColor:"#1e40af"},children:k===Z.id?r.jsxs("div",{className:"space-y-1",children:[r.jsx("input",{type:"time",value:U.start_time,onChange:ie=>N({...U,start_time:ie.target.value}),className:"w-full px-1 py-0.5 border rounded text-xs"}),r.jsx("input",{type:"time",value:U.end_time,onChange:ie=>N({...U,end_time:ie.target.value}),className:"w-full px-1 py-0.5 border rounded text-xs"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:Ee,className:"flex-1 bg-green-500 text-white px-1 py-0.5 rounded text-xs hover:bg-green-600",children:"Save"}),r.jsx("button",{onClick:()=>{P(null),N(null)},className:"flex-1 bg-gray-400 text-white px-1 py-0.5 rounded text-xs hover:bg-gray-500",children:"Cancel"})]})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"font-bold",children:[Z.start_time," - ",Z.end_time]}),r.jsx("div",{className:"text-xs opacity-75 mt-0.5",children:Tt(Z.role_id)}),s==="edit"&&r.jsxs("div",{className:"flex gap-1 mt-1",children:[r.jsx("button",{onClick:ie=>{ie.stopPropagation(),pe(Z)},className:"text-blue-600 hover:text-blue-800",title:"Edit times",children:r.jsx(Oe,{className:"w-3 h-3"})}),r.jsx("button",{onClick:ie=>{ie.stopPropagation(),xe(Z.id)},className:"text-red-600 hover:text-red-800",title:"Delete shift",children:r.jsx(Gn,{className:"w-3 h-3"})})]})]})},Z.id))]},`${M.id}-${z}`)})]},M.id))]})})})}),r.jsxs("div",{className:"mt-6 flex flex-wrap gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 border-l-4 border-blue-600 rounded"}),r.jsx("span",{children:"Scheduled Shift"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-red-50 border border-gray-300 rounded"}),r.jsx("span",{children:"Leave (Paid/Unpaid)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-50 border border-gray-300 rounded"}),r.jsx("span",{children:"Comp-Off Usage"})]})]}),r.jsx(ze,{isOpen:j,onClose:()=>S(!1),title:"Generate Schedule",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Week to Generate"}),r.jsx("input",{type:"date",value:_,onChange:M=>T(te(new Date(M.target.value))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Week: ",Y(_)[0]," to ",Y(_)[6]]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(B,{onClick:()=>S(!1),variant:"ghost",children:"Cancel"}),r.jsx(B,{onClick:Fe,variant:"primary",disabled:o,children:o?"Generating...":"Generate"})]})]})}),r.jsx(ze,{isOpen:y,onClose:()=>h(!1),title:"Schedule Details",children:m&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Employee"}),r.jsx("p",{className:"font-semibold",children:lt(m.employee_id)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Role"}),r.jsx("p",{className:"font-semibold",children:Tt(m.role_id)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Date"}),r.jsx("p",{className:"font-semibold",children:m.date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Time"}),r.jsxs("p",{className:"font-semibold",children:[m.start_time," - ",m.end_time]})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Status"}),r.jsx("p",{className:"font-semibold capitalize",children:m.status})]})]}),r.jsx("div",{className:"flex gap-2 justify-end",children:r.jsx(B,{onClick:()=>h(!1),variant:"primary",children:"Close"})})]})}),w&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>C(null),children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-2xl",onClick:M=>M.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Leave Details"}),r.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Zn,{size:24})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Employee"}),r.jsxs("p",{className:"text-lg text-gray-900 font-bold",children:[(cn=w.employee)==null?void 0:cn.first_name," ",(Br=w.employee)==null?void 0:Br.last_name]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Leave Type"}),r.jsx("div",{className:"flex items-center gap-2 mt-2",children:r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-white font-bold text-sm ${w.leave_type==="paid"?"bg-blue-600":w.leave_type==="unpaid"?"bg-orange-600":"bg-purple-600"}`,children:w.leave_type==="paid"?" PAID LEAVE":w.leave_type==="unpaid"?" UNPAID LEAVE":(w.leave_type==="comp_off"," COMP-OFF USAGE")})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Duration"}),r.jsx("p",{className:"text-lg text-gray-900 font-bold",children:w.duration_type==="half_day_morning"?" Half Day (Morning)":w.duration_type==="half_day_afternoon"?" Half Day (Afternoon)":" Full Day"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Date Range"}),r.jsxs("p",{className:"text-lg text-gray-900 font-bold",children:[w.start_date?ce(xa(w.start_date),"MMM dd, yyyy"):"N/A"," to ",w.end_date?ce(xa(w.end_date),"MMM dd, yyyy"):"N/A"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Status"}),r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-white font-bold text-sm mt-2 ${w.status==="approved"?"bg-green-600":w.status==="rejected"?"bg-red-600":"bg-yellow-600"}`,children:w.status&&w.status.charAt(0).toUpperCase()+w.status.slice(1)})]}),w.reason&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Reason"}),r.jsx("p",{className:"text-gray-900",children:w.reason})]}),w.review_notes&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Manager Notes"}),r.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded border border-gray-200",children:w.review_notes})]})]}),r.jsx("button",{onClick:()=>C(null),className:"w-full mt-6 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-bold",children:"Close"})]})}),r.jsxs(ze,{isOpen:q,onClose:()=>G(!1),title:" Schedule Constraint Violation",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[r.jsx("h3",{className:"font-bold text-red-800 text-lg mb-2",children:ke}),r.jsx("p",{className:"text-red-700",children:Qe})]}),r.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:[r.jsx("p",{className:"text-sm text-blue-700",children:r.jsx("strong",{children:"Scheduling Constraints:"})}),r.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1 ml-4",children:[r.jsx("li",{children:" Maximum 5 days per week"}),r.jsx("li",{children:" No duplicate schedules on same day"}),r.jsx("li",{children:" Respects approved leaves and comp-off"})]})]})]}),r.jsx("div",{className:"flex justify-end gap-2 mt-6",children:r.jsx("button",{onClick:()=>G(!1),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-bold",children:"Understood"})})]})]})},Oj=()=>{const[e,t]=g.useState([]),[n,s]=g.useState(!0),[a,l]=g.useState(null),[i,o]=g.useState(null),[d,c]=g.useState(""),[p,u]=g.useState(null),[x,v]=g.useState("PENDING");g.useEffect(()=>{f()},[x]);const f=async()=>{try{s(!0);const m=await H.get(`/overtime-requests?status=${x}`);t(m.data)}catch(m){console.error("Error loading overtime requests:",m),u({type:"error",text:"Failed to load overtime requests"})}finally{s(!1)}},j=async m=>{var b,w;try{l(m),await H.put(`/overtime-requests/${m}/approve`,{approval_notes:d}),u({type:"success",text:"Overtime request approved"}),o(null),c(""),f()}catch(C){console.error("Error approving request:",C),u({type:"error",text:((w=(b=C.response)==null?void 0:b.data)==null?void 0:w.detail)||"Failed to approve request"})}finally{l(null)}},S=async m=>{var b,w;try{l(m),await H.put(`/overtime-requests/${m}/reject`,{approval_notes:d}),u({type:"success",text:"Overtime request rejected"}),o(null),c(""),f()}catch(C){console.error("Error rejecting request:",C),u({type:"error",text:((w=(b=C.response)==null?void 0:b.data)==null?void 0:w.detail)||"Failed to reject request"})}finally{l(null)}},y=m=>`Employee ID: ${m.employee_id}`,h=m=>(m||"").toLowerCase()==="pending";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Overtime Approvals"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve employee overtime requests"})]}),r.jsx("div",{className:"flex gap-2",children:["PENDING","APPROVED","REJECTED"].map(m=>r.jsx("button",{onClick:()=>v(m),className:`px-4 py-2 rounded-lg font-medium transition-colors ${x===m?m==="PENDING"?"bg-yellow-600 text-white":m==="APPROVED"?"bg-green-600 text-white":"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:m},m))}),p&&r.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-3 ${p.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[p.type==="success"?r.jsx(Re,{className:"w-5 h-5"}):r.jsx(we,{className:"w-5 h-5"}),r.jsx("span",{children:p.text}),r.jsx("button",{onClick:()=>u(null),className:"ml-auto text-sm font-medium hover:opacity-75",children:"Dismiss"})]}),n?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.length===0?r.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-8 text-center",children:[r.jsx(Re,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-semibold",children:"All Caught Up!"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"No pending overtime requests at the moment"})]}):r.jsx("div",{className:"grid gap-4",children:e.map(m=>{var b;return r.jsx("div",{className:"bg-white border-l-4 border-yellow-400 rounded-lg p-6 shadow-sm",children:r.jsx("div",{className:"flex justify-between items-start gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(we,{className:"w-5 h-5 text-yellow-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:y(m)}),r.jsxs("span",{className:"ml-auto flex items-center gap-2",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${h(m.status)?"bg-yellow-100 text-yellow-800":(m.status||"").toLowerCase()==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(m.status||"").toUpperCase()}),r.jsx("span",{className:"text-sm font-medium text-gray-500",children:new Date(m.request_date).toLocaleDateString()})]})]}),r.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-gray-700 font-medium mb-1",children:[r.jsx("strong",{children:"Date:"})," ",new Date(m.request_date).toLocaleDateString()]}),r.jsxs("p",{className:"text-sm text-gray-700 font-medium mb-1",children:[r.jsx("strong",{children:"Time:"})," ",r.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[m.from_time||"N/A"," - ",m.to_time||"N/A"]})]}),r.jsxs("p",{className:"text-sm text-gray-700 font-medium mb-2",children:[r.jsx("strong",{children:"Hours:"})," ",r.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[((b=m.request_hours)==null?void 0:b.toFixed(1))||"N/A"," hours"]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("strong",{children:"Reason:"})," ",m.reason]})]}),(i==null?void 0:i.id)===m.id&&h(m.status)?r.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-200",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approval Notes"}),r.jsx("textarea",{value:d,onChange:w=>c(w.target.value),placeholder:"Add notes about this decision...",rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>j(m.id),disabled:a===m.id,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(il,{className:"w-4 h-4"}),a===m.id?"Processing...":"Approve"]}),r.jsxs("button",{onClick:()=>S(m.id),disabled:a===m.id,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(Zn,{className:"w-4 h-4"}),a===m.id?"Processing...":"Reject"]}),r.jsx("button",{onClick:()=>{o(null),c("")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Cancel"})]})]}):(i==null?void 0:i.id)===m.id?r.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-700 font-medium mb-2",children:"Manager Notes:"}),r.jsx("p",{className:"text-sm text-gray-600 p-3 bg-gray-50 rounded-lg",children:m.manager_notes||"No notes provided"})]}),r.jsx("button",{onClick:()=>{o(null),c("")},className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"Close"})]}):r.jsx("button",{onClick:()=>o(m),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700",children:h(m.status)?"Review Request":"View Details"})]})})},m.id)})})]})},Pj=({user:e})=>{const[t,n]=g.useState({totalEmployees:0,pendingLeaves:0,todayScheduled:0,activeEmployees:0}),[s,a]=g.useState(!0);g.useEffect(()=>{l()},[]);const l=async()=>{try{const[o,d]=await Promise.all([Ks(),Il()]),c=o.data,p=d.data;n({totalEmployees:c.length,pendingLeaves:p.filter(u=>u.status==="pending").length,todayScheduled:0,activeEmployees:c.filter(u=>u.is_active).length})}catch(o){console.error("Failed to load dashboard data:",o)}finally{a(!1)}},i=[{title:"Total Employees",value:t.totalEmployees,icon:Is,color:"blue"},{title:"Pending Leaves",value:t.pendingLeaves,icon:wo,color:"yellow"},{title:"Active Employees",value:t.activeEmployees,icon:$s,color:"green"},{title:"Today's Schedule",value:t.todayScheduled,icon:As,color:"purple"}];return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-xl text-gray-500",children:"Loading..."})}):r.jsxs("div",{children:[r.jsx(Ye,{title:"Manager Dashboard",subtitle:`Welcome back, ${e.full_name}`}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:i.map((o,d)=>r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:o.title}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:o.value})]}),r.jsx("div",{className:`p-3 bg-${o.color}-100 rounded-lg`,children:r.jsx(o.icon,{className:`w-8 h-8 text-${o.color}-600`})})]})})},d))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(K,{title:"Department Overview",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-gray-600",children:["You are managing ",t.totalEmployees," employees in your department."]}),r.jsx("p",{className:"text-gray-600",children:t.pendingLeaves>0?r.jsxs("span",{className:"text-yellow-600 font-semibold",children:[t.pendingLeaves," leave request",t.pendingLeaves>1?"s":""," pending review."]}):"No pending leave requests."})]})}),r.jsx(K,{title:"Quick Tips",children:r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("p",{children:" Review and approve leave requests regularly"}),r.jsx("p",{children:" Check daily attendance for your team"}),r.jsx("p",{children:" Create schedules in advance"}),r.jsx("p",{children:" Keep employee information up to date"})]})})]})]})]})},Lj=({user:e})=>{const[t,n]=g.useState([]),[s,a]=g.useState([]),[l,i]=g.useState(!1),[o,d]=g.useState(null),[c,p]=g.useState(!0),[u,x]=g.useState(""),[v,f]=g.useState(""),[j,S]=g.useState(!1),[y,h]=g.useState("all"),[m,b]=g.useState({first_name:"",last_name:"",email:"",phone:"",address:"",password:"",role_id:null,employment_type:"full_time",hire_date:"",weekly_hours:40,daily_max_hours:8,shifts_per_week:5,paid_leave_per_year:10,skills:[]});g.useEffect(()=>{w()},[j]);const w=async()=>{try{p(!0);const[E,W]=await Promise.all([H.get("/employees",{params:{show_inactive:j}}),Fd()]);n(E.data),a(W.data)}catch(E){console.error("Failed to load data:",E)}finally{p(!1)}},C=async E=>{var W,re;E.preventDefault(),x(""),f("");try{const k=e==null?void 0:e.manager_department_id;console.log("=== Employee Form Submit ==="),console.log("User:",e),console.log("Department ID:",k),console.log("Form Data:",m);const P={...m,department_id:k};if(!P.department_id){x("Department information is missing. Please ensure you are logged in as a manager.");return}console.log("Employee Data to Submit:",P);let U;o?(console.log("Updating employee..."),U=await pv(o.id,P),f(" Employee updated successfully!")):(console.log("Creating new employee..."),U=await fv(P),console.log("Response:",U),f(" Employee created successfully!")),U&&(console.log("Success! Clearing form..."),i(!1),d(null),b({first_name:"",last_name:"",email:"",phone:"",address:"",password:"",role_id:null,employment_type:"full_time",hire_date:"",weekly_hours:40,daily_max_hours:8,shifts_per_week:5,paid_leave_per_year:10,skills:[]}),w(),setTimeout(()=>f(""),3e3))}catch(k){console.error("Error in handleSubmit:",k);let P="Failed to save employee";if((re=(W=k.response)==null?void 0:W.data)!=null&&re.detail){const U=k.response.data.detail;Array.isArray(U)?P=U.map(N=>{var A;return`${(A=N.loc)==null?void 0:A.join(".")}: ${N.msg}`}).join("; "):typeof U=="string"&&(P=U)}console.error("Final error message:",P),x(P)}},_=E=>{d(E),b({first_name:E.first_name,last_name:E.last_name,email:E.email,phone:E.phone||"",address:E.address||"",password:"",role_id:E.role_id||null,employment_type:E.employment_type||"full_time",hire_date:E.hire_date||"",weekly_hours:E.weekly_hours||40,daily_max_hours:E.daily_max_hours||8,shifts_per_week:E.shifts_per_week||5,paid_leave_per_year:E.paid_leave_per_year||10,skills:E.skills||[]}),i(!0)},T=async(E,W=!1)=>{if(!t.find(P=>P.id===E))return;let k=W?"Are you sure you want to PERMANENTLY DELETE this inactive employee? This cannot be undone.":"Are you sure you want to delete this employee?";if(window.confirm(k))try{await hv(E,W),f(W?" Employee permanently deleted!":" Employee deleted successfully!"),setTimeout(()=>f(""),3e3),w()}catch{x("Failed to delete employee"),setTimeout(()=>x(""),3e3)}},$=[{header:"Employee ID",accessor:"employee_id"},{header:"Name",render:E=>`${E.first_name} ${E.last_name}`},{header:"Email",accessor:"email"},{header:"Phone",accessor:"phone"},{header:"Status",render:E=>r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${E.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.is_active?"Active":"Inactive"})},{header:"Actions",render:E=>r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>_(E),className:"text-blue-600 hover:text-blue-800",children:r.jsx(Fs,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>T(E.id,!E.is_active),className:`${E.is_active?"text-red-600 hover:text-red-800":"text-red-700 hover:text-red-900"}`,title:E.is_active?"Soft delete (mark inactive)":"Permanently delete (hard delete)",children:r.jsx(Gn,{className:"w-4 h-4"})})]})}];return c?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{children:[r.jsx(Ye,{title:"Employees",subtitle:"Manage your team members"}),r.jsxs("div",{className:"p-6",children:[v&&r.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-start",children:[r.jsx(Re,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-green-700",children:v})]}),r.jsx(K,{title:"All Employees",subtitle:`${t.length} total employees`,headerAction:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:y,onChange:E=>h(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"full_time",children:"Full-Time"}),r.jsx("option",{value:"part_time",children:"Part-Time"})]}),r.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",checked:j,onChange:E=>S(E.target.checked),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Inactive"})]}),r.jsxs(B,{onClick:()=>{d(null),i(!0)},children:[r.jsx(Ut,{className:"w-4 h-4 mr-2 inline"}),"Add Employee"]})]}),children:r.jsx(zd,{columns:$,data:t.filter(E=>y==="all"||E.employment_type===y)})}),r.jsxs(ze,{isOpen:l,onClose:()=>{i(!1),d(null)},title:o?"Edit Employee":"Add New Employee",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{i(!1),d(null)},children:"Cancel"}),r.jsxs(B,{type:"submit",form:"employee-form",children:[o?"Update":"Create"," Employee"]})]}),children:[u&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:u})]}),r.jsxs("form",{id:"employee-form",onSubmit:C,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),r.jsx("input",{type:"text",value:m.first_name,onChange:E=>b({...m,first_name:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),r.jsx("input",{type:"text",value:m.last_name,onChange:E=>b({...m,last_name:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:m.email,onChange:E=>b({...m,email:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),m.email&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Login Username:"})," ",r.jsx("code",{className:"font-mono",children:m.email.split("@")[0]})]}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee will use this username to login along with their password"})]}),o&&o.employee_id&&r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-green-800",children:[r.jsx("strong",{children:"Employee ID:"})," ",r.jsx("code",{className:"font-mono",children:o.employee_id})]}),r.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Unique 5-digit employee identifier"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",!o&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"password",value:m.password,onChange:E=>b({...m,password:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:o?"Leave blank to keep current password":"Enter initial password",required:!o}),o&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to keep the current password"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role (Optional)"}),r.jsxs("select",{value:m.role_id||"",onChange:E=>b({...m,role_id:E.target.value?parseInt(E.target.value):null}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[r.jsx("option",{value:"",children:"Select a role"}),s.map(E=>r.jsx("option",{value:E.id,children:E.name},E.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hire Date (Optional)"}),r.jsx("input",{type:"date",value:m.hire_date,onChange:E=>b({...m,hire_date:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employment Type"}),r.jsxs("select",{value:m.employment_type,onChange:E=>b({...m,employment_type:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[r.jsx("option",{value:"full_time",children:"Full-Time (Monthly Cycle: 1-30)"}),r.jsx("option",{value:"part_time",children:"Part-Time (Cycle: 15th to 15th)"})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Full-time: Attendance and leave on monthly cycle (1st - 30th)",r.jsx("br",{}),"Part-time: Attendance and leave cycle is 15th of current month to 15th of next month"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",value:m.phone,onChange:E=>b({...m,phone:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("textarea",{value:m.address,onChange:E=>b({...m,address:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"3"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weekly Hours"}),r.jsx("input",{type:"number",step:"0.5",min:"0",value:m.weekly_hours,onChange:E=>b({...m,weekly_hours:parseFloat(E.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daily Max Hours"}),r.jsx("input",{type:"number",step:"0.5",min:"0",value:m.daily_max_hours,onChange:E=>b({...m,daily_max_hours:parseFloat(E.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shifts Per Week"}),r.jsx("input",{type:"number",min:"1",value:m.shifts_per_week,onChange:E=>b({...m,shifts_per_week:parseInt(E.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annual Paid Leave Days"}),r.jsx("input",{type:"number",min:"0",value:m.paid_leave_per_year,onChange:E=>b({...m,paid_leave_per_year:parseInt(E.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total paid leave days employee can use per year (carries over to next year)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skills (comma-separated)"}),r.jsx("input",{type:"text",value:Array.isArray(m.skills)?m.skills.join(", "):m.skills,onChange:E=>b({...m,skills:E.target.value.split(",").map(W=>W.trim()).filter(W=>W)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., machine operation, quality control"})]})]})]})]})]})},Aj=({user:e})=>{const[t,n]=g.useState([]),[s,a]=g.useState(!1),[l,i]=g.useState(!1),[o,d]=g.useState(null),[c,p]=g.useState(null),[u,x]=g.useState(null),[v,f]=g.useState(null),[j,S]=g.useState(null),[y,h]=g.useState(!0),[m,b]=g.useState(""),[w,C]=g.useState(""),[_,T]=g.useState(!1),[$,E]=g.useState([]),[W,re]=g.useState(!1),[k,P]=g.useState({name:"",description:"",priority:50,priority_percentage:50,break_minutes:60,weekend_required:!1,required_skills:[],schedule_config:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1}}),U=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],[N,A]=g.useState({name:"",start_time:"09:00",end_time:"17:00",min_emp:1,max_emp:5,priority:50,schedule_config:{}});g.useEffect(()=>{R()},[]),g.useEffect(()=>{_&&(u!=null&&u.id)?I(u.id):(E([]),C(""))},[_,u]);const R=async()=>{try{h(!0);const L=await Fd();if(console.log("Loaded roles:",L.data),n(L.data),u&&u.id)try{const te=await H.get(`/roles/${u.id}`);console.log("Loaded role details:",te.data),x(te.data);const Y=L.data.map(le=>le.id===u.id?te.data:le);n(Y)}catch(te){console.error("Failed to load role details:",te)}}catch(L){console.error("Failed to load roles:",L)}finally{h(!1)}},I=async L=>{var te,Y;if(L)try{re(!0),C("");const J=((await Cv(L,!0)).data||[]).filter(Fe=>!Fe.is_active);E(J)}catch(le){console.error("Failed to load archived shifts:",le),C(((Y=(te=le.response)==null?void 0:te.data)==null?void 0:Y.detail)||"Failed to load archived shifts")}finally{re(!1)}},X=async L=>{f(L.id),P({name:L.name,description:L.description||"",priority:L.priority||50,priority_percentage:L.priority_percentage||50,break_minutes:L.break_minutes||60,weekend_required:L.weekend_required||!1,required_skills:L.required_skills||[],schedule_config:L.schedule_config||{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1}}),a(!0)},q=async L=>{S(L.id),A({name:L.name,start_time:L.start_time,end_time:L.end_time,min_emp:L.min_emp||1,max_emp:L.max_emp||5,priority:L.priority||50,schedule_config:L.schedule_config||{}}),i(!0)},G=async L=>{var te,Y;L.preventDefault(),b("");try{const le=e==null?void 0:e.manager_department_id;v?(await H.put(`/roles/${v}`,k),f(null)):await xv({...k,department_id:le}),a(!1),P({name:"",description:"",priority:50,priority_percentage:50,break_minutes:60,weekend_required:!1,required_skills:[],schedule_config:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1}}),R()}catch(le){b(((Y=(te=le.response)==null?void 0:te.data)==null?void 0:Y.detail)||"Failed to save role")}},ke=async L=>{var te,Y;if(L.preventDefault(),b(""),!N.name||!N.name.trim()){b("Shift name is required");return}if(!N.start_time||!N.end_time){b("Start time and end time are required");return}if(!j&&(!u||!u.id)){b("Please select a role first");return}try{const le={name:N.name,start_time:N.start_time,end_time:N.end_time,min_emp:parseInt(N.min_emp)||1,max_emp:parseInt(N.max_emp)||5,priority:parseInt(N.priority)||50,schedule_config:N.schedule_config||{}};if(console.log("Submitting shift:",le,"Role ID:",u==null?void 0:u.id),j)console.log("Updating shift:",j),await H.put(`/shifts/${j}`,le),S(null);else{const J={...le,role_id:u.id};console.log("Creating shift with:",J);const Fe=await H.post("/shifts",J);console.log("Shift created:",Fe.data)}i(!1),A({name:"",start_time:"09:00",end_time:"17:00",min_emp:1,max_emp:5,priority:50,schedule_config:{}}),await R()}catch(le){console.error("Shift error:",le);const J=((Y=(te=le.response)==null?void 0:te.data)==null?void 0:Y.detail)||le.message||"Failed to save shift";b(J)}},fe=async L=>{var te,Y;b("");try{await H.delete(`/roles/${L}`),d(null),p(null),(u==null?void 0:u.id)===L&&(x(null),T(!1),E([]),C("")),R()}catch(le){b(((Y=(te=le.response)==null?void 0:te.data)==null?void 0:Y.detail)||"Failed to delete role")}},Qe=async(L,te=!1)=>{var Y,le;te?C(""):b("");try{await Ev(L,te),d(null),p(null),await R(),te&&(u!=null&&u.id)&&await I(u.id)}catch(J){const Fe=((le=(Y=J.response)==null?void 0:Y.data)==null?void 0:le.detail)||"Failed to delete shift";te?C(Fe):b(Fe)}};return y?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{children:[r.jsx(Ye,{title:"Roles & Shifts Management",subtitle:"Configure job roles and their shift schedules"}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(K,{title:"Job Roles",subtitle:`${t.length} roles configured`,headerAction:r.jsxs(B,{onClick:()=>{x(null),a(!0)},children:[r.jsx(Ut,{className:"w-4 h-4 mr-2 inline"}),"Add Role"]}),children:r.jsx("div",{className:"space-y-3",children:t.length===0?r.jsx("p",{className:"text-center text-gray-500 py-4",children:"No roles created yet. Create one to get started!"}):t.map(L=>{var te,Y,le;return r.jsxs("div",{onClick:async()=>{T(!1),E([]),C("");try{console.log("Loading role details for:",L.id);const J=await H.get(`/roles/${L.id}`);console.log("Role details loaded:",J.data),x(J.data)}catch(J){console.error("Failed to load role details:",J),x(L)}},className:`p-4 rounded-lg border cursor-pointer transition-all ${(u==null?void 0:u.id)===L.id?"border-blue-500 bg-blue-50":"border-gray-200 bg-gray-50 hover:border-blue-300"}`,children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:L.name}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:L.description}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[r.jsxs("span",{children:["Skills: ",((te=L.required_skills)==null?void 0:te.length)||0]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${L.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:L.is_active?"Active":"Inactive"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs font-medium text-blue-600 bg-blue-100 px-3 py-1 rounded",children:[((Y=L.shifts)==null?void 0:Y.length)||0," Shifts"]}),r.jsx("button",{onClick:J=>{J.stopPropagation(),X(L)},className:"p-2 text-blue-600 hover:bg-blue-100 rounded",title:"Edit role",children:r.jsx(Fs,{className:"w-4 h-4"})}),r.jsx("button",{onClick:J=>{J.stopPropagation(),p({type:"role",id:L.id,name:L.name}),d("role")},className:"p-2 text-red-600 hover:bg-red-100 rounded",title:"Delete role",children:r.jsx(Gn,{className:"w-4 h-4"})})]})]}),(u==null?void 0:u.id)===L.id&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Shifts (",((le=L.shifts)==null?void 0:le.length)||0,"):"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:J=>{J.stopPropagation(),T(Fe=>!Fe)},className:`text-xs px-3 py-1 rounded border ${_?"border-blue-500 text-blue-600 bg-blue-50":"border-gray-300 text-gray-600 bg-white"}`,children:_?"Hide Archived":"View Archived"}),r.jsxs(B,{onClick:J=>{J.stopPropagation(),i(!0)},className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 text-sm",children:[r.jsx(Ut,{className:"w-3 h-3 mr-1 inline"}),"Add Shift"]})]})]}),L.shifts&&L.shifts.length>0?r.jsx("div",{className:"space-y-2",children:L.shifts.map(J=>r.jsx("div",{className:"ml-4 p-3 bg-white rounded border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-800",children:J.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[J.start_time," - ",J.end_time]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Capacity: ",J.min_emp,"-",J.max_emp," employees"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["Priority: ",J.priority]}),r.jsx("button",{onClick:Fe=>{Fe.stopPropagation(),q(J)},className:"p-2 text-blue-600 hover:bg-blue-100 rounded",title:"Edit shift",children:r.jsx(Fs,{className:"w-4 h-4"})}),r.jsx("button",{onClick:Fe=>{Fe.stopPropagation(),p({type:"shift",id:J.id,name:J.name,hardDelete:!1}),d("shift")},className:"p-2 text-red-600 hover:bg-red-100 rounded",title:"Delete shift",children:r.jsx(Gn,{className:"w-4 h-4"})})]})]})},J.id))}):r.jsx("p",{className:"text-sm text-gray-500 ml-4 italic",children:'No shifts yet. Click "Add Shift" to create one.'}),_&&r.jsxs("div",{className:"mt-4 p-3 border border-dashed border-gray-300 rounded bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Archived Shifts (",$.length,")"]}),W&&r.jsx("span",{className:"text-xs text-gray-500",children:"Loading..."})]}),w&&r.jsx("div",{className:"mb-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-600",children:w}),!W&&$.length===0&&r.jsx("p",{className:"text-sm text-gray-500 italic",children:"No archived shifts for this role."}),!W&&$.length>0&&r.jsx("div",{className:"space-y-2",children:$.map(J=>r.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:J.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[J.start_time," - ",J.end_time]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Capacity: ",J.min_emp,"-",J.max_emp," employees"]})]}),r.jsx("button",{onClick:Fe=>{Fe.stopPropagation(),p({type:"shift",id:J.id,name:J.name,hardDelete:!0}),d("shift")},className:"text-sm text-red-600 hover:bg-red-50 px-3 py-1 rounded border border-red-200",children:"Delete Permanently"})]},J.id))})]})]})]},L.id)})})}),r.jsxs(ze,{isOpen:s,onClose:()=>{a(!1),f(null),P({name:"",description:"",priority:50,priority_percentage:50,break_minutes:60,weekend_required:!1,required_skills:[],schedule_config:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1}})},title:v?`Edit Role: ${k.name}`:"Create New Job Role",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{a(!1),f(null),P({name:"",description:"",priority:50,priority_percentage:50,break_minutes:60,weekend_required:!1,required_skills:[],schedule_config:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1}})},children:"Cancel"}),r.jsx(B,{type:"submit",form:"role-form",children:v?"Update Role":"Create Role"})]}),children:[m&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:m})]}),r.jsxs("form",{id:"role-form",onSubmit:G,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name *"}),r.jsx("input",{type:"text",value:k.name,onChange:L=>P({...k,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., Engineer, Manager, Assembly Line Worker",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:k.description,onChange:L=>P({...k,description:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"3",placeholder:"Describe this job role..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (1-100)"}),r.jsx("input",{type:"number",min:"1",max:"100",value:k.priority,onChange:L=>P({...k,priority:parseInt(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority % (1-100)"}),r.jsx("input",{type:"number",min:"1",max:"100",value:k.priority_percentage,onChange:L=>P({...k,priority_percentage:parseInt(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Break Minutes"}),r.jsx("input",{type:"number",min:"0",step:"5",value:k.break_minutes,onChange:L=>P({...k,break_minutes:parseInt(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:k.weekend_required,onChange:L=>P({...k,weekend_required:L.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Weekend Required"})]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Required Skills (comma-separated)"}),r.jsx("input",{type:"text",value:k.required_skills.join(", "),onChange:L=>P({...k,required_skills:L.target.value.split(",").map(te=>te.trim()).filter(te=>te)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., Java, Python, SQL"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Operating Days"}),r.jsx("div",{className:"grid grid-cols-4 gap-3",children:U.map(L=>r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:k.schedule_config[L]||!1,onChange:te=>P({...k,schedule_config:{...k.schedule_config,[L]:te.target.checked}}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:L})]},L))})]})]})]}),r.jsxs(ze,{isOpen:l,onClose:()=>{i(!1),S(null),A({name:"",start_time:"09:00",end_time:"17:00",min_emp:1,max_emp:5,priority:50,schedule_config:{}})},title:j?`Edit Shift: ${N.name}`:`Create Shift for ${(u==null?void 0:u.name)||"Role"}`,footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{i(!1),S(null),A({name:"",start_time:"09:00",end_time:"17:00",min_emp:1,max_emp:5,priority:50,schedule_config:{}})},children:"Cancel"}),r.jsx(B,{type:"submit",form:"shift-form",children:j?"Update Shift":"Create Shift"})]}),children:[m&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:m})]}),r.jsxs("form",{id:"shift-form",onSubmit:ke,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift Name *"}),r.jsx("input",{type:"text",value:N.name,onChange:L=>A({...N,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., Morning 5AM, Evening 2PM, Night 11PM",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time *"}),r.jsx("input",{type:"time",value:N.start_time,onChange:L=>A({...N,start_time:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time *"}),r.jsx("input",{type:"time",value:N.end_time,onChange:L=>A({...N,end_time:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Employees"}),r.jsx("input",{type:"number",value:N.min_emp,onChange:L=>A({...N,min_emp:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",min:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Employees"}),r.jsx("input",{type:"number",value:N.max_emp,onChange:L=>A({...N,max_emp:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",min:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsx("input",{type:"number",value:N.priority,onChange:L=>A({...N,priority:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",min:"0",max:"100"})]})]})]})]}),r.jsx(ze,{isOpen:!!o,onClose:()=>{d(null),p(null)},title:"Confirm Delete",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{d(null),p(null)},children:"Cancel"}),r.jsx(B,{onClick:()=>{c&&(c.type==="role"?fe(c.id):c.type==="shift"&&Qe(c.id,c.hardDelete))},className:"bg-red-600 hover:bg-red-700",children:"Delete"})]}),children:r.jsxs("div",{className:"space-y-4",children:[((c==null?void 0:c.type)==="shift"&&(c!=null&&c.hardDelete)?w:m)&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:(c==null?void 0:c.type)==="shift"&&(c!=null&&c.hardDelete)?w:m})]}),r.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete the ",c==null?void 0:c.type," ",r.jsx("strong",{children:c==null?void 0:c.name}),"?"]}),r.jsx("p",{className:"text-sm text-gray-600",children:(c==null?void 0:c.type)==="role"?"All shifts under this role will be marked as inactive.":c!=null&&c.hardDelete?"This archived shift will be permanently removed from the system.":"This shift will be marked as inactive."})]})})]})]})},Fj=({user:e})=>{const[t,n]=g.useState([]),[s,a]=g.useState([]),[l,i]=g.useState(!0);g.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const[d,c]=await Promise.all([Ks(),Fd()]);n((d==null?void 0:d.data)||[]),a((c==null?void 0:c.data)||[])}catch(d){console.error("Failed to load data:",d)}finally{i(!1)}};return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-xl text-gray-500",children:"Loading..."})}):r.jsxs("div",{children:[r.jsx(Ye,{title:"Schedule Management",subtitle:"View, create, and manage employee schedules"}),r.jsx("div",{className:"p-6",children:r.jsx(Rj,{employees:t,roles:s})})]})},$j=()=>{const[e,t]=g.useState([]),[n,s]=g.useState(null),[a,l]=g.useState(!1),[i,o]=g.useState(""),[d,c]=g.useState(""),[p,u]=g.useState(!0),[x,v]=g.useState(""),[f,j]=g.useState(null),[S,y]=g.useState(!1),[h,m]=g.useState("all");g.useEffect(()=>{b()},[]);const b=async()=>{try{const N=await Il();t(N.data)}catch(N){console.error("Failed to load leave requests:",N)}finally{u(!1)}},w=async()=>{if(!x.trim()){alert("Please enter an employee ID");return}try{const N=await vv(x.trim());j(N.data),y(!0)}catch(N){console.error("Failed to load employee leave statistics:",N),alert("Employee not found or error loading data")}},C=(N,A)=>{s(N),c(A),l(!0)},_=async()=>{try{d==="approve"?await gv(n.id,i||void 0):await yv(n.id,i||void 0),l(!1),o(""),s(null),b()}catch{alert("Failed to process leave request")}},T=N=>{const A=`
    <table border="1" cellspacing="0" cellpadding="8">
      <!-- ========== HEADER ========== -->
      <tr style="background-color: #1e40af; color: white; font-weight: bold; height: 30px;">
        <td colspan="5" style="font-size: 18px; text-align: center; padding: 15px;">
          EMPLOYEE LEAVE STATISTICS REPORT
        </td>
      </tr>
      
      <!-- Employee Info -->
      <tr style="background-color: #e0e7ff;">
        <td style="font-weight: bold;">Employee Name:</td>
        <td>${N.employee_name}</td>
        <td style="font-weight: bold;">Employee ID:</td>
        <td colspan="2">${N.employee_id}</td>
      </tr>
      <tr style="background-color: #e0e7ff;">
        <td style="font-weight: bold;">Report Generated:</td>
        <td colspan="4">${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}</td>
      </tr>
      
      <!-- Spacing -->
      <tr style="height: 15px;"><td colspan="5"></td></tr>
      
      <!-- ========== OVERALL SUMMARY ========== -->
      <tr style="background-color: #fbbf24; color: #1f2937; font-weight: bold; height: 25px;">
        <td colspan="5" style="font-size: 14px;">OVERALL YEARLY SUMMARY</td>
      </tr>
      
      <tr style="background-color: #fef3c7;">
        <td style="font-weight: bold; width: 25%;">Metric</td>
        <td style="font-weight: bold; text-align: center; width: 18%;">Paid Days</td>
        <td style="font-weight: bold; text-align: center; width: 18%;">Unpaid Days</td>
        <td style="font-weight: bold; text-align: center; width: 18%;">Total Days</td>
        <td style="font-weight: bold; text-align: center; width: 21%;">Usage %</td>
      </tr>
      
      <tr style="background-color: #fffbeb;">
        <td style="font-weight: bold;">Total Taken</td>
        <td style="text-align: center;">${N.taken_paid_leave}</td>
        <td style="text-align: center;">${N.taken_unpaid_leave}</td>
        <td style="text-align: center; font-weight: bold;">${N.total_leaves_taken}</td>
        <td style="text-align: center;">${N.total_paid_leave>0?Math.round(N.taken_paid_leave/N.total_paid_leave*100):0}%</td>
      </tr>
      
      <tr style="background-color: #fffbeb;">
        <td style="font-weight: bold;">Entitlement</td>
        <td style="text-align: center;">${N.total_paid_leave}</td>
        <td style="text-align: center;">-</td>
        <td style="text-align: center; font-weight: bold;">-</td>
        <td style="text-align: center;">-</td>
      </tr>
      
      <tr style="background-color: #fffbeb;">
        <td style="font-weight: bold;">Available/Remaining</td>
        <td style="text-align: center;">${N.available_paid_leave}</td>
        <td style="text-align: center;">-</td>
        <td style="text-align: center; font-weight: bold;">-</td>
        <td style="text-align: center;">-</td>
      </tr>
      
      <!-- Spacing -->
      <tr style="height: 15px;"><td colspan="5"></td></tr>
      
      <!-- ========== MONTHLY BREAKDOWN ========== -->
      <tr style="background-color: #3b82f6; color: white; font-weight: bold; height: 25px;">
        <td colspan="5" style="font-size: 14px;">MONTH-WISE BREAKDOWN</td>
      </tr>
      
      <tr style="background-color: #dbeafe; font-weight: bold;">
        <td style="width: 25%; text-align: center;">Month</td>
        <td style="width: 18%; text-align: center; background-color: #ede9fe;">Paid Days</td>
        <td style="width: 18%; text-align: center; background-color: #fee2e2;">Unpaid Days</td>
        <td style="width: 18%; text-align: center; background-color: #ccfbf1;">Total Days</td>
        <td style="width: 21%; text-align: center;">Daily Avg</td>
      </tr>
      
      ${N.monthly_breakdown&&N.monthly_breakdown.length>0?N.monthly_breakdown.map((q,G)=>{const ke=new Date(new Date(q.month+" 1").getFullYear(),new Date(q.month+" 1").getMonth()+1,0).getDate(),fe=(q.total/ke).toFixed(2);return`
        <tr style="background-color: ${G%2===0?"#ffffff":"#f9fafb"};">
          <td style="text-align: center; font-weight: 500;">${q.month}</td>
          <td style="text-align: center; background-color: ${G%2===0?"#f3e8ff":"#faf5ff"};">${q.paid}</td>
          <td style="text-align: center; background-color: ${G%2===0?"#fef2f2":"#fdf8f8"};">${q.unpaid}</td>
          <td style="text-align: center; background-color: ${G%2===0?"#ccfbf1":"#e5fdf9"}; font-weight: bold;">${q.total}</td>
          <td style="text-align: center;">${fe} days/day</td>
        </tr>
                `}).join(""):'<tr><td colspan="5" style="text-align: center; padding: 20px;">No monthly data available</td></tr>'}
      
      <!-- Monthly Summary Row -->
      <tr style="background-color: #e5e7eb; font-weight: bold; height: 25px;">
        <td style="text-align: center;">TOTAL</td>
        <td style="text-align: center; background-color: #ede9fe;">
          ${N.monthly_breakdown&&N.monthly_breakdown.length>0?N.monthly_breakdown.reduce((q,G)=>q+G.paid,0):N.taken_paid_leave}
        </td>
        <td style="text-align: center; background-color: #fee2e2;">
          ${N.monthly_breakdown&&N.monthly_breakdown.length>0?N.monthly_breakdown.reduce((q,G)=>q+G.unpaid,0):N.taken_unpaid_leave}
        </td>
        <td style="text-align: center; background-color: #ccfbf1;">
          ${N.total_leaves_taken}
        </td>
        <td style="text-align: center;">
          ${N.monthly_breakdown&&N.monthly_breakdown.length>0?(N.total_leaves_taken/N.monthly_breakdown.length).toFixed(2):N.total_leaves_taken} days/month
        </td>
      </tr>
      
      <!-- Spacing -->
      <tr style="height: 15px;"><td colspan="5"></td></tr>
      
      <!-- ========== DETAILED BREAKUP ========== -->
      <tr style="background-color: #10b981; color: white; font-weight: bold; height: 25px;">
        <td colspan="5" style="font-size: 14px;">DETAILED STATISTICS</td>
      </tr>
      
      <tr style="background-color: #d1fae5;">
        <td style="font-weight: bold; width: 40%;">Category</td>
        <td colspan="4" style="font-weight: bold; text-align: center;">Value</td>
      </tr>
      
      <tr style="background-color: #f0fdf4;">
        <td style="font-weight: bold;">Total Paid Leave Entitlement (Annual)</td>
        <td colspan="4" style="text-align: center;">${N.total_paid_leave} days</td>
      </tr>
      
      <tr style="background-color: #f0fdf4;">
        <td style="font-weight: bold;">Paid Leave Taken</td>
        <td colspan="4" style="text-align: center;">${N.taken_paid_leave} days</td>
      </tr>
      
      <tr style="background-color: #f0fdf4;">
        <td style="font-weight: bold;">Paid Leave Available/Remaining</td>
        <td colspan="4" style="text-align: center;">${N.available_paid_leave} days</td>
      </tr>
      
      <tr style="background-color: #f0fdf4;">
        <td style="font-weight: bold;">Unpaid Leave Taken</td>
        <td colspan="4" style="text-align: center;">${N.taken_unpaid_leave} days</td>
      </tr>
      
      <tr style="background-color: #f0fdf4;">
        <td style="font-weight: bold;">Paid Leave Usage Percentage</td>
        <td colspan="4" style="text-align: center;">${N.total_paid_leave>0?Math.round(N.taken_paid_leave/N.total_paid_leave*100):0}%</td>
      </tr>
      
      <tr style="background-color: #f0fdf4;">
        <td style="font-weight: bold;">Average Days per Month</td>
        <td colspan="4" style="text-align: center;">
          ${N.monthly_breakdown&&N.monthly_breakdown.length>0?(N.total_leaves_taken/N.monthly_breakdown.length).toFixed(2):0} days
        </td>
      </tr>

      <!-- Spacing -->
      <tr style="height: 15px;"><td colspan="5"></td></tr>

      <!-- ========== COMP-OFF SUMMARY ========== -->
      <tr style="background-color: #0891b2; color: white; font-weight: bold; height: 25px;">
        <td colspan="5" style="font-size: 14px;">COMP-OFF SUMMARY</td>
      </tr>

      <tr style="background-color: #cffafe;">
        <td style="font-weight: bold; width: 40%;">Metric</td>
        <td colspan="4" style="font-weight: bold; text-align: center;">Value</td>
      </tr>

      <tr style="background-color: #ecfeff;">
        <td style="font-weight: bold;">Comp-Off Earned</td>
        <td colspan="4" style="text-align: center;">${N.comp_off_earned||0} days</td>
      </tr>

      <tr style="background-color: #ecfeff;">
        <td style="font-weight: bold;">Comp-Off Used</td>
        <td colspan="4" style="text-align: center;">${N.comp_off_used||0} days</td>
      </tr>

      <tr style="background-color: #ecfeff;">
        <td style="font-weight: bold;">Comp-Off Available</td>
        <td colspan="4" style="text-align: center; font-weight: bold;">${N.comp_off_available||0} days</td>
      </tr>

      <tr style="background-color: #ecfeff;">
        <td style="font-weight: bold;">Comp-Off Usage Percentage</td>
        <td colspan="4" style="text-align: center;">
          ${N.comp_off_earned>0?Math.round(N.comp_off_used/N.comp_off_earned*100):0}%
        </td>
      </tr>

      <!-- Spacing -->
      <tr style="height: 15px;"><td colspan="5"></td></tr>

      <!-- ========== COMP-OFF MONTHLY BREAKDOWN ========== -->
      ${N.comp_off_monthly_breakdown&&N.comp_off_monthly_breakdown.length>0?`
      <tr style="background-color: #0891b2; color: white; font-weight: bold; height: 25px;">
        <td colspan="5" style="font-size: 14px;">COMP-OFF MONTH-WISE BREAKDOWN</td>
      </tr>

      <tr style="background-color: #cffafe; font-weight: bold;">
        <td style="text-align: center;">Month</td>
        <td style="text-align: center; background-color: #a5f3fc;">Earned</td>
        <td style="text-align: center; background-color: #fed7aa;">Used</td>
        <td style="text-align: center; background-color: #e5e7eb;">Expired</td>
        <td style="text-align: center; background-color: #a7f3d0;">Available</td>
      </tr>

      ${N.comp_off_monthly_breakdown.map((q,G)=>`
        <tr style="background-color: ${G%2===0?"#ffffff":"#f9fafb"};">
          <td style="text-align: center; font-weight: 500;">${q.month}</td>
          <td style="text-align: center; background-color: ${G%2===0?"#cffafe":"#ecfeff"};">${q.earned}</td>
          <td style="text-align: center; background-color: ${G%2===0?"#ffedd5":"#fed7aa"};">${q.used}</td>
          <td style="text-align: center; background-color: ${G%2===0?"#f3f4f6":"#e5e7eb"};">${q.expired}</td>
          <td style="text-align: center; background-color: ${G%2===0?"#d1fae5":"#a7f3d0"}; font-weight: bold;">${q.available}</td>
        </tr>
        `).join("")}

      <!-- Spacing -->
      <tr style="height: 15px;"><td colspan="5"></td></tr>
      `:""}

      <!-- ========== COMP-OFF TRANSACTIONS ========== -->
      ${N.comp_off_details&&N.comp_off_details.length>0?`
      <tr style="background-color: #0891b2; color: white; font-weight: bold; height: 25px;">
        <td colspan="5" style="font-size: 14px;">RECENT COMP-OFF TRANSACTIONS (LAST 10)</td>
      </tr>

      <tr style="background-color: #cffafe; font-weight: bold;">
        <td style="text-align: center;">Date</td>
        <td style="text-align: center;">Type</td>
        <td style="text-align: center;">Month</td>
        <td colspan="2" style="text-align: center;">Notes</td>
      </tr>

      ${N.comp_off_details.map((q,G)=>`
        <tr style="background-color: ${G%2===0?"#ffffff":"#f9fafb"};">
          <td style="text-align: center;">${new Date(q.date).toLocaleDateString()}</td>
          <td style="text-align: center; font-weight: 500; ${q.type==="earned"?"background-color: #cffafe;":q.type==="used"?"background-color: #fed7aa;":"background-color: #e5e7eb;"}">
            ${q.type.toUpperCase()}
          </td>
          <td style="text-align: center;">${q.month||"-"}</td>
          <td colspan="2" style="padding: 5px;">${q.notes||"-"}</td>
        </tr>
        `).join("")}
      `:""}

    </table>
    `,R=new Blob([A],{type:"application/vnd.ms-excel;charset=utf-8;"}),I=document.createElement("a"),X=URL.createObjectURL(R);I.setAttribute("href",X),I.setAttribute("download",`${N.employee_name}_leave_compoff_report_${new Date().toISOString().split("T")[0]}.xls`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I)},$=N=>{const A={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"};return r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${A[N]||"bg-gray-100 text-gray-800"}`,children:N.charAt(0).toUpperCase()+N.slice(1)})},E=[{header:"Employee",render:N=>N.employee?`${N.employee.first_name} ${N.employee.last_name} (${N.employee.employee_id})`:`Employee #${N.employee_id}`},{header:"Leave Type",render:N=>{let A="Full Day";N.duration_type==="half_day_morning"?A="Half Day (AM)":N.duration_type==="half_day_afternoon"&&(A="Half Day (PM)");const R=N.leave_type==="comp_off",I=N.leave_type==="comp_off"?"Comp-Off Usage":N.leave_type.charAt(0).toUpperCase()+N.leave_type.slice(1);return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{children:[I," - ",A]}),R&&r.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-800 text-xs font-semibold rounded",children:"USES EARNED"})]})}},{header:"Start Date",render:N=>ce(new Date(N.start_date),"MMM dd, yyyy")},{header:"End Date",render:N=>ce(new Date(N.end_date),"MMM dd, yyyy")},{header:"Reason",accessor:"reason"},{header:"Status",render:N=>$(N.status)},{header:"Actions",render:N=>N.status==="pending"?r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>C(N,"approve"),className:"text-green-600 hover:text-green-800",title:"Approve",children:r.jsx(Re,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>C(N,"reject"),className:"text-red-600 hover:text-red-800",title:"Reject",children:r.jsx(Jn,{className:"w-5 h-5"})})]}):r.jsx("span",{className:"text-gray-400 text-sm",children:"Reviewed"})}];if(p)return r.jsx("div",{className:"p-6",children:"Loading..."});const W=h==="all"?e:e.filter(N=>N.leave_type===h),re=e.filter(N=>N.status==="pending").length,k=e.filter(N=>N.leave_type==="paid").length,P=e.filter(N=>N.leave_type==="unpaid").length,U=e.filter(N=>N.leave_type==="comp_off").length;return r.jsxs("div",{children:[r.jsx(Ye,{title:"Leave Requests",subtitle:"Review and manage leave requests"}),r.jsxs("div",{className:"p-6",children:[r.jsx(K,{title:"Search Employee Leave Details",className:"mb-6",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"text",placeholder:"Enter Employee ID",value:x,onChange:N=>v(N.target.value),onKeyPress:N=>N.key==="Enter"&&w(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),r.jsx(B,{onClick:w,children:"Search"})]})}),S&&f&&r.jsxs("div",{className:"mb-6",children:[r.jsx(K,{className:"mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.employee_name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Employee ID: ",f.employee_id]})]}),r.jsx(B,{onClick:()=>y(!0),children:"View Full Details"})]})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:" Leave Summary"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Paid Leave"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:f.total_paid_leave})]}),r.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Taken (Paid)"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:f.taken_paid_leave})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Available (Paid)"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.available_paid_leave})]}),r.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Taken (Unpaid)"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:f.taken_unpaid_leave})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:" Comp-Off Summary"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 bg-cyan-50 rounded-lg border border-cyan-200 border-l-4",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Comp-Off Earned"}),r.jsx("p",{className:"text-2xl font-bold text-cyan-600",children:f.comp_off_earned||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"total days"})]}),r.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200 border-l-4",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Comp-Off Used"}),r.jsx("p",{className:"text-2xl font-bold text-amber-600",children:f.comp_off_used||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days taken"})]}),r.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg border border-emerald-200 border-l-4",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Comp-Off Available"}),r.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:f.comp_off_available||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days remaining"})]})]})]}),S&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-auto",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-5xl w-full shadow-2xl",children:[r.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 flex justify-between items-center rounded-t-lg",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:f.employee_name}),r.jsxs("p",{className:"text-sm text-blue-100",children:["Employee ID: ",f.employee_id]}),r.jsxs("p",{className:"text-xs text-blue-200 mt-1",children:["Generated on ",new Date().toLocaleDateString()]})]}),r.jsx("button",{onClick:()=>y(!1),className:"text-3xl font-bold hover:text-blue-200 transition",children:""})]}),r.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-purple-500",children:" Paid Leave Statistics"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border-l-4 border-purple-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Total Annual Entitlement"}),r.jsx("p",{className:"text-4xl font-bold text-purple-600",children:f.total_paid_leave}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days per year"})]}),r.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border-l-4 border-orange-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Days Taken"}),r.jsx("p",{className:"text-4xl font-bold text-orange-600",children:f.taken_paid_leave}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days utilized"})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Days Available"}),r.jsx("p",{className:"text-4xl font-bold text-green-600",children:f.available_paid_leave}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days remaining"})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Usage Progress"}),r.jsxs("p",{className:"text-sm font-bold text-purple-600",children:[f.total_paid_leave>0?Math.round(f.taken_paid_leave/f.total_paid_leave*100):0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-300 rounded-full h-3",children:r.jsx("div",{className:"bg-purple-600 h-3 rounded-full transition-all",style:{width:`${f.total_paid_leave>0?Math.min(f.taken_paid_leave/f.total_paid_leave*100,100):0}%`}})}),r.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:[f.taken_paid_leave," / ",f.total_paid_leave," days used"]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-red-500",children:" Unpaid Leave Statistics"}),r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Total Unpaid Days Taken"}),r.jsx("p",{className:"text-4xl font-bold text-red-600",children:f.taken_unpaid_leave}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This includes all approved unpaid leave"})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-cyan-500",children:" Comp-Off Statistics"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 bg-cyan-50 rounded-lg border-l-4 border-cyan-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Comp-Off Earned"}),r.jsx("p",{className:"text-4xl font-bold text-cyan-600",children:f.comp_off_earned||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"total days earned"})]}),r.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border-l-4 border-amber-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Comp-Off Used"}),r.jsx("p",{className:"text-4xl font-bold text-amber-600",children:f.comp_off_used||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days utilized"})]}),r.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg border-l-4 border-emerald-500",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide mb-2",children:"Comp-Off Available"}),r.jsx("p",{className:"text-4xl font-bold text-emerald-600",children:f.comp_off_available||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"days remaining"})]})]}),f.comp_off_earned>0&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Usage Progress"}),r.jsxs("p",{className:"text-sm font-bold text-cyan-600",children:[f.comp_off_earned>0?Math.round(f.comp_off_used/f.comp_off_earned*100):0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-300 rounded-full h-3",children:r.jsx("div",{className:"bg-cyan-600 h-3 rounded-full transition-all",style:{width:`${f.comp_off_earned>0?Math.min(f.comp_off_used/f.comp_off_earned*100,100):0}%`}})}),r.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:[f.comp_off_used," / ",f.comp_off_earned," days used"]})]})]}),f.monthly_breakdown&&f.monthly_breakdown.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-blue-500",children:" Monthly Breakdown"}),r.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-300",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b-2 border-gray-300",children:[r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Month"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-purple-700 bg-purple-50",children:"Paid Days"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-red-700 bg-red-50",children:"Unpaid Days"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-blue-700 bg-blue-50",children:"Total Days"})]})}),r.jsx("tbody",{children:f.monthly_breakdown.map((N,A)=>r.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 transition",children:[r.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:N.month}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full font-semibold text-sm",children:N.paid})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:`px-3 py-1 rounded-full font-semibold text-sm ${N.unpaid>0?"bg-red-100 text-red-700":"bg-gray-100 text-gray-500"}`,children:N.unpaid})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full font-bold text-sm",children:N.total})})]},A))})]})})]}),f.comp_off_monthly_breakdown&&f.comp_off_monthly_breakdown.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-cyan-500",children:" Comp-Off Monthly Breakdown"}),r.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-300",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b-2 border-gray-300",children:[r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Month"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-cyan-700 bg-cyan-50",children:"Earned"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-amber-700 bg-amber-50",children:"Used"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 bg-gray-50",children:"Expired"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-emerald-700 bg-emerald-50",children:"Available"})]})}),r.jsx("tbody",{children:f.comp_off_monthly_breakdown.map((N,A)=>r.jsxs("tr",{className:"border-b border-gray-200 hover:bg-cyan-50 transition",children:[r.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:N.month}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"px-3 py-1 bg-cyan-100 text-cyan-700 rounded-full font-semibold text-sm",children:N.earned})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-full font-semibold text-sm",children:N.used})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:`px-3 py-1 rounded-full font-semibold text-sm ${N.expired>0?"bg-gray-200 text-gray-700":"bg-gray-100 text-gray-500"}`,children:N.expired})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full font-bold text-sm",children:N.available})})]},A))})]})})]}),f.comp_off_details&&f.comp_off_details.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-cyan-500",children:" Recent Comp-Off Transactions (Last 10)"}),r.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-300",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 border-b-2 border-gray-300",children:[r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Month"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Notes"})]})}),r.jsx("tbody",{children:f.comp_off_details.map((N,A)=>r.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[r.jsx("td",{className:"px-4 py-3 text-gray-900",children:new Date(N.date).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:`px-3 py-1 rounded-full font-semibold text-sm ${N.type==="earned"?"bg-cyan-100 text-cyan-700":N.type==="used"?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:N.type})}),r.jsx("td",{className:"px-4 py-3 text-gray-700",children:N.month||"-"}),r.jsx("td",{className:"px-4 py-3 text-gray-600 text-xs",children:N.notes||"-"})]},A))})]})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b-2 border-green-500",children:" Annual Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Paid Days (Year)"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-2",children:f.taken_paid_leave})]}),r.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Unpaid Days (Year)"}),r.jsx("p",{className:"text-2xl font-bold text-red-600 mt-2",children:f.taken_unpaid_leave})]}),r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Total Days (Year)"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:f.total_leaves_taken})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Usage Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-2",children:[f.total_paid_leave>0?Math.round(f.taken_paid_leave/f.total_paid_leave*100):0,"%"]})]})]})]}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border-l-4 border-indigo-500",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Key Metrics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Monthly Average (Paid):"}),r.jsxs("span",{className:"font-bold text-gray-900",children:[f.monthly_breakdown&&f.monthly_breakdown.length>0?(f.taken_paid_leave/f.monthly_breakdown.length).toFixed(2):0," days"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Days Per Month (Entitlement):"}),r.jsxs("span",{className:"font-bold text-gray-900",children:[(f.total_paid_leave/12).toFixed(2)," days"]})]})]})]})]}),r.jsxs("div",{className:"flex gap-3 p-6 bg-gray-50 border-t border-gray-200 rounded-b-lg",children:[r.jsx(B,{onClick:()=>T(f),className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-2",children:" Download as Excel"}),r.jsx(B,{onClick:()=>y(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2",children:"Close"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pending"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:re})]}),r.jsx(Oe,{className:"w-8 h-8 text-yellow-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Approved"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(N=>N.status==="approved").length})]}),r.jsx(Re,{className:"w-8 h-8 text-green-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Rejected"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:e.filter(N=>N.status==="rejected").length})]}),r.jsx(Jn,{className:"w-8 h-8 text-red-600"})]})})})]}),r.jsxs("div",{className:"mb-6 flex gap-3 flex-wrap",children:[r.jsxs("button",{onClick:()=>m("all"),className:`px-6 py-2 rounded-lg font-medium transition ${h==="all"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Requests (",e.length,")"]}),r.jsxs("button",{onClick:()=>m("paid"),className:`px-6 py-2 rounded-lg font-medium transition ${h==="paid"?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Paid Leave (",k,")"]}),r.jsxs("button",{onClick:()=>m("unpaid"),className:`px-6 py-2 rounded-lg font-medium transition ${h==="unpaid"?"bg-orange-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Unpaid Leave (",P,")"]}),r.jsxs("button",{onClick:()=>m("comp_off"),className:`px-6 py-2 rounded-lg font-medium transition ${h==="comp_off"?"bg-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Comp-Off Usage (",U,")"]})]}),r.jsx(K,{title:h==="all"?"All Leave Requests":h==="paid"?"Paid Leave Requests":h==="unpaid"?"Unpaid Leave Requests":"Comp-Off Usage Requests",subtitle:`${W.length} ${h==="all"?"total":h==="comp_off"?"comp-off usage":h} requests`,children:r.jsx(zd,{columns:E,data:W})}),r.jsx(ze,{isOpen:a,onClose:()=>l(!1),title:`${d==="approve"?"Approve":"Reject"} ${(n==null?void 0:n.leave_type)==="comp_off"?"Comp-Off Usage":"Leave"} Request`,footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),r.jsx(B,{variant:d==="approve"?"success":"danger",onClick:_,children:d==="approve"?"Approve":"Reject"})]}),children:n&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Employee"}),r.jsx("p",{className:"font-medium",children:n.employee?`${n.employee.first_name} ${n.employee.last_name} (${n.employee.employee_id})`:`Employee #${n.employee_id}`})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Leave Type"}),r.jsxs("p",{className:"font-medium",children:[n.leave_type==="comp_off"?"Comp-Off Usage":n.leave_type.charAt(0).toUpperCase()+n.leave_type.slice(1),n.duration_type&&r.jsxs("span",{className:"ml-2",children:["(",n.duration_type==="half_day_morning"?"Half Day - Morning":n.duration_type==="half_day_afternoon"?"Half Day - Afternoon":"Full Day",")"]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Leave Period"}),r.jsxs("p",{className:"font-medium",children:[ce(new Date(n.start_date),"MMM dd, yyyy")," -"," ",ce(new Date(n.end_date),"MMM dd, yyyy")]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Reason"}),r.jsx("p",{className:"font-medium",children:n.reason})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Review Notes (Optional)"}),r.jsx("textarea",{value:i,onChange:N=>o(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"3",placeholder:"Add any notes about this decision..."})]})]})})]})]})},Ij=({user:e})=>{const[t,n]=g.useState([]),[s,a]=g.useState(!0),[l,i]=g.useState({present:0,late:0,absent:0}),[o,d]=g.useState(new Date().getMonth()+1),[c,p]=g.useState(new Date().getFullYear()),[u,x]=g.useState(""),[v,f]=g.useState(new Date().getMonth()+1),[j,S]=g.useState(new Date().getFullYear()),[y,h]=g.useState(!1),[m,b]=g.useState(!1),[w,C]=g.useState(!1),[_,T]=g.useState("");g.useEffect(()=>{$()},[]);const $=async()=>{try{const k=ce(new Date,"yyyy-MM-dd"),P=await zl(k,k);n(P.data);let U=0,N=0,A=0;P.data.forEach(R=>{R.in_time?R.status==="onTime"?U++:N++:A++}),i({present:U,late:N,absent:A})}catch(k){console.error("Failed to load attendance:",k)}finally{a(!1)}},E=async(k="")=>{try{const P=new URLSearchParams({department_id:e.manager_department_id,year:c,month:o});k&&P.append("employment_type",k);const U=await H.get(`/attendance/export/monthly?${P.toString()}`,{responseType:"blob"}),N=window.URL.createObjectURL(new Blob([U.data])),A=document.createElement("a");A.href=N;const R=k?`_${k}`:"";A.setAttribute("download",`attendance_${c}-${String(o).padStart(2,"0")}${R}.xlsx`),document.body.appendChild(A),A.click(),A.remove()}catch(P){console.error("Failed to download monthly report",P)}},W=async(k="")=>{try{const P=new Date,U=P.getDay(),N=new Date(P);N.setDate(P.getDate()-U);const A=new Date(N);A.setDate(N.getDate()+6);const R=new URLSearchParams({department_id:e.manager_department_id,start_date:N.toISOString().split("T")[0],end_date:A.toISOString().split("T")[0]});k&&R.append("employment_type",k);const I=await H.get(`/attendance/export/weekly?${R.toString()}`,{responseType:"blob"}),X=window.URL.createObjectURL(new Blob([I.data])),q=document.createElement("a");q.href=X;const G=k?`_${k}`:"";q.setAttribute("download",`attendance_weekly_${N.toISOString().split("T")[0]}${G}.xlsx`),document.body.appendChild(q),q.click(),q.remove()}catch(P){console.error("Failed to download weekly report",P)}},re=async()=>{if(!u){alert("Please enter an Employee ID");return}try{h(!0);const k=localStorage.getItem("token"),P=await fetch(`http://localhost:8000/attendance/export/employee-monthly?year=${j}&month=${v}&employee_id=${u}`,{method:"GET",headers:{Authorization:`Bearer ${k}`}});if(!P.ok)throw new Error("Download failed");const U=await P.blob(),N=window.URL.createObjectURL(U),A=document.createElement("a");A.href=N,A.download=`employee_${u}_attendance_${j}-${String(v).padStart(2,"0")}.xlsx`,document.body.appendChild(A),A.click(),document.body.removeChild(A),window.URL.revokeObjectURL(N)}catch(k){console.error("Download failed:",k),alert("Failed to download employee report")}finally{h(!1)}};return s?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{children:[r.jsx(Ye,{title:"Attendance",subtitle:"Track daily employee attendance"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Present"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:l.present})]}),r.jsx(Re,{className:"w-8 h-8 text-green-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Late"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:l.late})]}),r.jsx(we,{className:"w-8 h-8 text-yellow-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Absent"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:l.absent})]}),r.jsx(Jn,{className:"w-8 h-8 text-red-600"})]})})})]}),r.jsxs(K,{title:`Today's Attendance - ${ce(new Date,"MMMM dd, yyyy")}`,children:[r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Month & Year"}),r.jsx("select",{value:o,onChange:k=>d(parseInt(k.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(k,P)=>P+1).map(k=>r.jsx("option",{value:k,children:new Date(2024,k-1).toLocaleString("default",{month:"long"})},k))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),r.jsx("select",{value:c,onChange:k=>p(parseInt(k.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:5},(k,P)=>new Date().getFullYear()-2+P).map(k=>r.jsx("option",{value:k,children:k},k))})]}),r.jsx("div",{className:"flex items-end gap-2",children:r.jsx("button",{onClick:()=>{T(""),b(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium text-sm",children:"Download Monthly"})}),r.jsx("div",{className:"flex items-end gap-2",children:r.jsx("button",{onClick:()=>{T(""),C(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium text-sm",children:"Download Weekly"})})]})}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6 border border-blue-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:" Download Individual Employee Monthly Report"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Includes: Daily attendance details with night hours (after 22:00), overtime, leave info, and summary statistics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee ID"}),r.jsx("input",{type:"text",placeholder:"e.g., EMP001",value:u,onChange:k=>x(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),r.jsx("select",{value:v,onChange:k=>f(parseInt(k.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(k,P)=>P+1).map(k=>r.jsx("option",{value:k,children:new Date(2024,k-1).toLocaleString("default",{month:"long"})},k))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),r.jsx("select",{value:j,onChange:k=>S(parseInt(k.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:5},(k,P)=>new Date().getFullYear()-2+P).map(k=>r.jsx("option",{value:k,children:k},k))})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:re,disabled:y,className:"w-full px-4 py-2 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded-lg font-medium transition",children:y?" Downloading...":" Download"})})]})]}),t.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Oe,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No scheduled shifts for today"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned Shift Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Hrs Assigned"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Check-In"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Check-Out"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Hrs Worked"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Break Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Overtime Hours"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(k=>{var U,N,A,R;const P=()=>{var L,te;if(!((L=k.schedule)!=null&&L.start_time)||!((te=k.schedule)!=null&&te.end_time))return"-";const[I,X]=k.schedule.start_time.split(":").map(Number),[q,G]=k.schedule.end_time.split(":").map(Number),ke=I+X/60,fe=q+G/60;return(fe>ke?fe-ke:24-ke+fe).toFixed(2)};return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(U=k.employee)==null?void 0:U.first_name," ",(N=k.employee)==null?void 0:N.last_name]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:((R=(A=k.schedule)==null?void 0:A.role)==null?void 0:R.name)||"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:k.schedule?`${k.schedule.start_time} - ${k.schedule.end_time}`:"-"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[P()," hrs"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:k.in_time?k.in_time:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:k.out_time?k.out_time:"-"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:[k.worked_hours!==null&&k.worked_hours!==void 0?k.worked_hours.toFixed(2):"-"," hrs"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[k.break_minutes," min"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-orange-600",children:[k.overtime_hours?k.overtime_hours.toFixed(2):"-"," hrs"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${k.status==="onTime"?"bg-green-100 text-green-800":k.status==="slightlyLate"?"bg-yellow-100 text-yellow-800":k.status==="late"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:k.status||"Scheduled"})})]},k.id)})})]})})]}),r.jsx(ze,{isOpen:m,onClose:()=>b(!1),title:"Download Monthly Report",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Employee Type"}),r.jsxs("select",{value:_,onChange:k=>T(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Employees"}),r.jsx("option",{value:"full_time",children:"Full-Time Only"}),r.jsx("option",{value:"part_time",children:"Part-Time Only"})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{onClick:()=>{E(_),b(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Download"})]})]})}),r.jsx(ze,{isOpen:w,onClose:()=>C(!1),title:"Download Weekly Report",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Employee Type"}),r.jsxs("select",{value:_,onChange:k=>T(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Employees"}),r.jsx("option",{value:"full_time",children:"Full-Time Only"}),r.jsx("option",{value:"part_time",children:"Part-Time Only"})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{onClick:()=>{W(_),C(!1)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"Download"})]})]})})]})]})},Uj=({user:e})=>{const[t,n]=g.useState([]),[s,a]=g.useState([]),[l,i]=g.useState(!1),[o,d]=g.useState(!0),[c,p]=g.useState(""),[u,x]=g.useState("all"),[v,f]=g.useState({recipient_id:"",subject:"",message:"",sendToAll:!1});g.useEffect(()=>{j()},[]);const j=async()=>{try{const[w,C]=await Promise.all([Mp(),Ks()]);n(w.data),a(C.data)}catch(w){console.error("Failed to load messages:",w)}finally{d(!1)}},S=async w=>{var C,_;w.preventDefault(),p("");try{const T=v.sendToAll?null:v.recipient_id?parseInt(v.recipient_id):null;if(!v.sendToAll&&!T){p('Please select an employee or check "Send to all department employees"');return}await Dv({recipient_id:T,department_id:v.sendToAll?e.manager_department_id:null,subject:v.subject,message:v.message}),i(!1),f({recipient_id:"",subject:"",message:"",sendToAll:!1}),j()}catch(T){p(((_=(C=T.response)==null?void 0:C.data)==null?void 0:_.detail)||"Failed to send message")}},y=async w=>{if(window.confirm("Are you sure you want to delete this message?"))try{await Tp(w),j()}catch{alert("Failed to delete message")}},h=w=>{const C=s.find(_=>_.user_id===w);return C?`${C.first_name} ${C.last_name}`:`Employee #${w}`},b=u==="sent"?t.filter(w=>w.sender_id===e.id):u==="received"?t.filter(w=>w.recipient_id===e.id||w.department_id===e.manager_department_id):t;return o?r.jsx("div",{className:"p-6",children:"Loading..."}):r.jsxs("div",{children:[r.jsx(Ye,{title:"Messages",subtitle:"Communicate with your team"}),r.jsxs("div",{className:"p-6",children:[r.jsxs(K,{title:"Messages",subtitle:`${b.length} of ${t.length} messages`,headerAction:r.jsxs(B,{onClick:()=>i(!0),children:[r.jsx(Ut,{className:"w-4 h-4 mr-2 inline"}),"New Message"]}),children:[r.jsxs("div",{className:"flex space-x-2 mb-4 border-b border-gray-200",children:[r.jsxs("button",{onClick:()=>x("all"),className:`px-4 py-2 font-medium text-sm transition-colors border-b-2 ${u==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["All (",t.length,")"]}),r.jsxs("button",{onClick:()=>x("sent"),className:`px-4 py-2 font-medium text-sm transition-colors border-b-2 ${u==="sent"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["Sent (",t.filter(w=>w.sender_id===e.id).length,")"]}),r.jsxs("button",{onClick:()=>x("received"),className:`px-4 py-2 font-medium text-sm transition-colors border-b-2 ${u==="received"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["Received (",t.filter(w=>w.recipient_id===e.id||w.department_id===e.manager_department_id).length,")"]})]}),b.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_o,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No messages yet"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Send your first message to get started"})]}):r.jsx("div",{className:"space-y-4",children:b.map(w=>{const C=w.sender_id===e.id;return r.jsxs("div",{className:`border rounded-lg p-4 transition-all hover:shadow-md ${C?"border-blue-200 bg-blue-50":"border-gray-200 bg-white"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${C?"bg-blue-200 text-blue-800":"bg-green-200 text-green-800"}`,children:C?"Sent":"Received"}),!w.is_read&&!C&&r.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-yellow-200 text-yellow-800",children:"Unread"})]}),r.jsx("h4",{className:"font-semibold text-gray-900",children:w.subject}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:C?w.recipient_id?r.jsxs(r.Fragment,{children:["To: ",h(w.recipient_id)]}):"To: All Department":w.sender_id?r.jsxs(r.Fragment,{children:["From: ",h(w.sender_id)]}):"From: System"})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx("span",{className:"text-xs text-gray-500",children:ce(new Date(w.created_at),"MMM dd, HH:mm")}),r.jsx("button",{onClick:()=>y(w.id),className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50",title:"Delete message",children:r.jsx(Gn,{className:"w-4 h-4"})})]})]}),r.jsx("p",{className:"text-gray-700 mt-3 pl-2 border-l-2 border-gray-300",children:w.message})]},w.id)})})]}),r.jsxs(ze,{isOpen:l,onClose:()=>i(!1),title:"Send New Message",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),r.jsxs(B,{type:"submit",form:"message-form",children:[r.jsx(_o,{className:"w-4 h-4 mr-2 inline"}),"Send Message"]})]}),children:[c&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:c})]}),r.jsxs("form",{id:"message-form",onSubmit:S,className:"space-y-4",children:[r.jsx("div",{children:r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:v.sendToAll,onChange:w=>f({...v,sendToAll:w.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Send to all department employees"})]})}),!v.sendToAll&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient"}),r.jsxs("select",{value:v.recipient_id,onChange:w=>f({...v,recipient_id:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!v.sendToAll,children:[r.jsx("option",{value:"",children:"Select employee"}),s.map(w=>r.jsxs("option",{value:w.user_id,children:[w.first_name," ",w.last_name," (",w.email,")"]},w.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),r.jsx("input",{type:"text",value:v.subject,onChange:w=>f({...v,subject:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Message subject",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),r.jsx("textarea",{value:v.message,onChange:w=>f({...v,message:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:"5",placeholder:"Type your message here...",required:!0})]})]})]})]})]})},zj=({user:e})=>r.jsxs("div",{children:[r.jsx(Ye,{title:"Comp-Off Management",subtitle:"Manage and approve employee comp-off requests"}),r.jsx("div",{className:"p-6",children:r.jsx(Wp,{currentUser:e,departmentId:e.manager_department_id})})]}),Wj=({user:e,onLogout:t})=>r.jsxs("div",{className:"flex h-screen bg-gray-100",children:[r.jsx(Ud,{user:e,onLogout:t}),r.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs(Rl,{children:[r.jsx(je,{path:"/dashboard",element:r.jsx(Pj,{user:e})}),r.jsx(je,{path:"/employees",element:r.jsx(Lj,{user:e})}),r.jsx(je,{path:"/roles",element:r.jsx(Aj,{user:e})}),r.jsx(je,{path:"/schedules",element:r.jsx(Fj,{user:e})}),r.jsx(je,{path:"/leaves",element:r.jsx($j,{})}),r.jsx(je,{path:"/comp-off",element:r.jsx(zj,{user:e})}),r.jsx(je,{path:"/overtime-approvals",element:r.jsx(Oj,{})}),r.jsx(je,{path:"/attendance",element:r.jsx(Ij,{user:e})}),r.jsx(je,{path:"/messages",element:r.jsx(Uj,{user:e})}),r.jsx(je,{path:"/",element:r.jsx(Ls,{to:"/dashboard",replace:!0})})]})})})]}),Bj=()=>{const[e,t]=g.useState({totalUsers:0,totalDepartments:0,totalManagers:0,totalEmployees:0}),[n,s]=g.useState(!0);g.useEffect(()=>{a();const i=setInterval(a,3e4);return()=>clearInterval(i)},[]);const a=async()=>{try{s(!0);const[i,o,d]=await Promise.all([Ld(),Ad(),Ks(!1)]),c=i.data,p=c.filter(x=>x.user_type==="manager"&&x.is_active===!0),u=d.data;t({totalUsers:c.filter(x=>x.is_active===!0).length,totalDepartments:o.data.length,totalManagers:p.length,totalEmployees:u.length})}catch(i){console.error("Failed to load dashboard data:",i)}finally{s(!1)}},l=[{title:"Total Users",value:e.totalUsers,icon:Is,color:"blue"},{title:"Departments",value:e.totalDepartments,icon:Jf,color:"green"},{title:"Managers",value:e.totalManagers,icon:tp,color:"purple"},{title:"Employees",value:e.totalEmployees,icon:ep,color:"orange"}];return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-xl text-gray-500",children:"Loading..."})}):r.jsxs("div",{children:[r.jsx(Ye,{title:"Admin Dashboard",subtitle:"Manage your organization"}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:l.map((i,o)=>r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:i.title}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.value})]}),r.jsx("div",{className:`p-3 bg-${i.color}-100 rounded-lg`,children:r.jsx(i.icon,{className:`w-8 h-8 text-${i.color}-600`})})]})})},o))}),r.jsx(K,{title:"System Overview",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Recent Activity"}),r.jsx("p",{className:"text-gray-600",children:"System is running smoothly. All services operational."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Quick Stats"}),r.jsxs("p",{className:"text-gray-600",children:["Managing ",e.totalDepartments," departments with ",e.totalManagers," managers overseeing ",e.totalEmployees," employees."]})]})]})})]})]})},Hj=()=>{var on,dn,Wr,Ln,cn,Br;const[e,t]=g.useState([]),[n,s]=g.useState([]),[a,l]=g.useState(!1),[i,o]=g.useState(!1),[d,c]=g.useState(null),[p,u]=g.useState(!0),[x,v]=g.useState(!1),[f,j]=g.useState(""),[S,y]=g.useState(""),[h,m]=g.useState(""),[b,w]=g.useState([]),[C,_]=g.useState(!1),[T,$]=g.useState(null),[E,W]=g.useState(!1),[re,k]=g.useState(null),[P,U]=g.useState(!1),[N,A]=g.useState(!1),[R,I]=g.useState(!1),[X,q]=g.useState(null),[G,ke]=g.useState(!1),[fe,Qe]=g.useState(null),[L,te]=g.useState(null),[Y,le]=g.useState({username:"",password:"",email:"",full_name:"",department_id:""}),[J,Fe]=g.useState({department_id:""});g.useEffect(()=>{O()},[]);const O=async()=>{try{u(!0);const[M,z]=await Promise.all([iv(),Ad()]),ne=await Ld(),se={};ne.data.forEach(oe=>{se[oe.id]=oe});const Q=M.data.map(oe=>({...oe,...se[oe.user_id]}));t(Q),s(z.data)}catch(M){console.error("Failed to load managers:",M),j("Failed to load data")}finally{u(!1)}},xe=async M=>{if(m(M),!M.trim()){w([]),_(!1);return}try{const z=await mv(M),ne=Array.isArray(z.data)?z.data:[z.data];w(ne),_(!0)}catch(z){console.error("Failed to search departments:",z),w([])}},be=M=>{$(M),le({...Y,department_id:M.id.toString()}),m(M.name),_(!1)},pe=async M=>{var z,ne,se,Q,oe,Z,ie,$e,Ue,ee;if(M&&M.preventDefault(),j(""),!P){if(!((z=Y.username)!=null&&z.trim())||!((ne=Y.email)!=null&&ne.trim())||!((se=Y.password)!=null&&se.trim())||!((Q=Y.full_name)!=null&&Q.trim())||!T){j("Please fill in all required fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Y.email.trim())){j("Please enter a valid email address");return}v(!0);try{if(!await lv(Y.username.trim())){j(`Username "${Y.username.trim()}" already exists. Please choose a different username.`),v(!1);return}U(!0)}catch{j("Failed to validate username availability")}finally{v(!1)}return}v(!0),U(!1);try{const Me=await av({username:Y.username.trim(),email:Y.email.trim(),password:Y.password.trim(),full_name:Y.full_name.trim(),user_type:"manager"});try{const Ne=await wu({user_id:Me.data.id,department_id:T.id});if(((oe=Ne.data)==null?void 0:oe.status)==="conflict"){Qe(Ne.data),te({user_id:Me.data.id,department_id:T.id}),ke(!0),v(!1);return}((Z=Ne.data)==null?void 0:Z.status)==="success"?(l(!1),le({username:"",password:"",email:"",full_name:"",department_id:""}),$(null),m(""),v(!1),O()):(j("Unexpected response from server"),v(!1))}catch(Ne){j((($e=(ie=Ne.response)==null?void 0:ie.data)==null?void 0:$e.detail)||"Failed to create manager"),v(!1)}}catch(Me){const Ne=((ee=(Ue=Me.response)==null?void 0:Ue.data)==null?void 0:ee.detail)||Me.message||"Failed to create user";j(Ne),console.error("Create user error:",Ne),v(!1)}},Ee=async()=>{var M,z,ne,se;v(!0),j("");try{const Q=await wu(L,!0);console.log("Reassign response:",Q),console.log("Response status:",(M=Q.data)==null?void 0:M.status),((z=Q.data)==null?void 0:z.status)==="success"?(ke(!1),l(!1),le({username:"",password:"",email:"",full_name:"",department_id:""}),$(null),m(""),Qe(null),te(null),v(!1),O()):(j("Unexpected response from server: "+JSON.stringify(Q.data)),v(!1))}catch(Q){console.error("Reassign error:",Q),j(((se=(ne=Q.response)==null?void 0:ne.data)==null?void 0:se.detail)||Q.message||"Failed to reassign manager"),v(!1)}},at=async M=>{var z,ne,se;if(M.preventDefault(),y(""),!N){A(!0);return}v(!0);try{await ov(d.id,{department_id:J.department_id?parseInt(J.department_id):null}),o(!1),A(!1),c(null),O()}catch(Q){((z=Q.response)==null?void 0:z.status)===409?I(!0):y(((se=(ne=Q.response)==null?void 0:ne.data)==null?void 0:se.detail)||Q.message||"Failed to reassign manager")}finally{v(!1)}},lt=async()=>{var M,z;y(""),v(!0);try{await dv(d.id,{department_id:J.department_id?parseInt(J.department_id):null}),o(!1),I(!1),A(!1),c(null),O()}catch(ne){y(((z=(M=ne.response)==null?void 0:M.data)==null?void 0:z.detail)||ne.message||"Failed to reassign manager")}finally{v(!1)}},Tt=M=>{c(M),Fe({department_id:M.department_id||""}),o(!0)},rr=M=>{k(M),W(!0)},zr=async()=>{var M,z;v(!0);try{await cv(re.id),W(!1),k(null),O()}catch(ne){alert("Failed to delete manager: "+(((z=(M=ne.response)==null?void 0:M.data)==null?void 0:z.detail)||ne.message)),W(!1)}finally{v(!1)}},Bt=[{header:"Manager ID",accessor:"manager_id",width:"100px"},{header:"Username",accessor:"username",width:"120px"},{header:"Full Name",accessor:"full_name",width:"180px"},{header:"Email",accessor:"email",width:"180px"},{header:"Department",width:"150px",render:M=>{const z=n.find(ne=>ne.id===M.department_id);return r.jsx("span",{className:"font-medium",children:z?z.name:r.jsx("span",{className:"text-gray-400",children:"Unassigned"})})}},{header:"Status",width:"100px",render:M=>r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:M.is_active?"Active":"Inactive"})},{header:"Actions",width:"100px",render:M=>r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>Tt(M),className:"flex items-center gap-1",children:[r.jsx(Fs,{className:"w-4 h-4"}),"Reassign"]}),r.jsxs(B,{variant:"outline",size:"sm",onClick:()=>rr(M),className:"flex items-center gap-1 text-red-600 hover:bg-red-50",children:[r.jsx(Gn,{className:"w-4 h-4"}),"Delete"]})]})}];return p?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-xl text-gray-500",children:"Loading managers..."})})}):r.jsxs("div",{children:[r.jsx(Ye,{title:"Managers",subtitle:"Create and manage department managers"}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(K,{title:"All Managers",subtitle:`${e.length} total managers`,headerAction:r.jsxs(B,{onClick:()=>l(!0),children:[r.jsx(Ut,{className:"w-4 h-4 mr-2 inline"}),"Add Manager"]}),children:e.length===0?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"No managers yet. Create one to get started."})}):r.jsx(zd,{columns:Bt,data:e})}),r.jsxs(ze,{isOpen:a,onClose:()=>{l(!1),j(""),m(""),w([]),_(!1),$(null)},title:"Create New Manager",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{l(!1),j(""),m(""),w([]),_(!1),$(null)},children:"Cancel"}),r.jsx(B,{onClick:pe,disabled:x||!((on=Y.username)!=null&&on.trim())||!((dn=Y.password)!=null&&dn.trim())||!((Wr=Y.email)!=null&&Wr.trim())||!((Ln=Y.full_name)!=null&&Ln.trim())||!T,children:x?"Creating...":"Create Manager"})]}),children:[f&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:f})]}),r.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),r.jsx("input",{type:"text",value:Y.username,onChange:M=>le({...Y,username:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,disabled:x})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsx("input",{type:"password",value:Y.password,onChange:M=>le({...Y,password:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,disabled:x})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),r.jsx("input",{type:"text",value:Y.full_name,onChange:M=>le({...Y,full_name:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,disabled:x})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:Y.email,onChange:M=>le({...Y,email:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,disabled:x})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department (Search by ID or Name)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:h,onChange:M=>xe(M.target.value),onFocus:()=>h&&_(!0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Search by department name, code, or ID (e.g., 'Assembly', '001', or '1')",disabled:x}),T&&r.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Selected: ",T.name," (Dept ID: ",T.dept_id,")"]})}),C&&b.length>0&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:b.map(M=>r.jsxs("button",{type:"button",onClick:()=>be(M),className:"w-full text-left px-3 py-2 hover:bg-blue-50 border-b border-gray-100 last:border-b-0",children:[r.jsx("p",{className:"font-medium text-gray-900",children:M.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Dept ID: ",M.dept_id," | ID: ",M.id," ",M.description?"- "+M.description:""]})]},M.id))})]})]})]})]}),r.jsxs(ze,{isOpen:i,onClose:()=>{o(!1),y(""),c(null)},title:`Reassign ${(d==null?void 0:d.full_name)||"Manager"}`,footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{o(!1),y(""),c(null)},children:"Cancel"}),r.jsx(B,{onClick:at,disabled:x,children:x?"Reassigning...":"Reassign Manager"})]}),children:[S&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:S})]}),d&&r.jsxs("form",{onSubmit:at,className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 p-3 rounded-lg mb-4",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Manager:"})," ",d.full_name]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Department"}),r.jsxs("select",{value:J.department_id,onChange:M=>Fe({department_id:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",disabled:x,children:[r.jsx("option",{value:"",children:"Unassign from department"}),n.map(M=>r.jsx("option",{value:M.id,children:M.name},M.id))]})]})]})]}),r.jsx(ze,{isOpen:P,onClose:()=>{U(!1)},title:"Confirm Create Manager",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{U(!1)},children:"Cancel"}),r.jsx(B,{onClick:pe,disabled:x,className:"bg-green-600 hover:bg-green-700",children:x?"Creating...":"Confirm Create"})]}),children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsx("p",{className:"text-green-900 font-medium",children:"Create new manager?"})}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Username:"})," ",Y.username]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Full Name:"})," ",Y.full_name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",Y.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Department:"})," ",T==null?void 0:T.name]})]})]})}),r.jsx(ze,{isOpen:N,onClose:()=>{A(!1)},title:"Confirm Reassign Manager",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{A(!1)},children:"Cancel"}),r.jsx(B,{onClick:at,disabled:x,className:"bg-blue-600 hover:bg-blue-700",children:x?"Reassigning...":"Confirm Reassign"})]}),children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsx("p",{className:"text-blue-900 font-medium",children:"Reassign manager to different department?"})}),d&&r.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Manager:"})," ",d.full_name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Current Department:"})," ",(cn=n.find(M=>M.id===d.department_id))==null?void 0:cn.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"New Department:"})," ",J.department_id?(Br=n.find(M=>M.id===parseInt(J.department_id)))==null?void 0:Br.name:"Unassigned"]})]})]})}),r.jsx(ze,{isOpen:R,onClose:()=>{I(!1)},title:"Manager Already Assigned",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{I(!1)},children:"Cancel"}),r.jsx(B,{onClick:lt,disabled:x,className:"bg-orange-600 hover:bg-orange-700",children:x?"Reassigning...":"Yes, Reassign"})]}),children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:r.jsx("p",{className:"text-orange-900 font-medium",children:"Manager already assigned to this department. Do you want to reassign?"})}),r.jsx("p",{className:"text-sm text-gray-600",children:"The current manager will be deactivated and this manager will be assigned to the department."})]})}),r.jsxs(ze,{isOpen:G,onClose:()=>{ke(!1),Qe(null),te(null),j("")},title:"Manager Already Assigned",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{ke(!1),Qe(null),te(null),j("")},children:"Cancel"}),r.jsx(B,{onClick:Ee,disabled:x,className:"bg-orange-600 hover:bg-orange-700",children:x?"Reassigning...":"Yes, Reassign"})]}),children:[f&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:f})]}),fe&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:r.jsx("p",{className:"text-orange-900 font-medium text-lg",children:" Manager Already Assigned to This Department"})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Current Manager:"}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-1",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Name:"})," ",fe.existing_manager.full_name]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Email:"})," ",fe.existing_manager.email]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Username:"})," ",fe.existing_manager.username]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"New Manager:"}),r.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg space-y-1",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Name:"})," ",Y.full_name]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Email:"})," ",Y.email]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Username:"})," ",Y.username]})]})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-blue-900",children:" If you proceed, the current manager will be unassigned from this department and the new manager will be assigned."})})]})]}),r.jsx(ze,{isOpen:E,onClose:()=>{W(!1),k(null)},title:"Confirm Delete Manager",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{W(!1),k(null)},children:"Cancel"}),r.jsx(B,{onClick:zr,disabled:x,className:"bg-red-600 hover:bg-red-700",children:x?"Deleting...":"Delete Manager"})]}),children:re&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-red-900 font-medium",children:"Are you sure you want to delete this manager?"})}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Username:"})," ",re.username]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Name:"})," ",re.full_name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",re.email]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-yellow-900",children:" This action will remove the manager from all assigned departments but will not delete the departments themselves."})})]})})]})]})},qj=()=>{var Y,le,J,Fe;const[e,t]=g.useState([]),[n,s]=g.useState(null),[a,l]=g.useState(null),[i,o]=g.useState([]),[d,c]=g.useState(!1),[p,u]=g.useState(""),[x,v]=g.useState(new Date().getMonth()+1),[f,j]=g.useState(new Date().getFullYear()),[S,y]=g.useState(!1),[h,m]=g.useState(!1),[b,w]=g.useState(""),[C,_]=g.useState({present:0,late:0,absent:0}),[T,$]=g.useState(""),[E,W]=g.useState(new Date().getMonth()+1),[re,k]=g.useState(new Date().getFullYear()),[P,U]=g.useState(!1),[N,A]=g.useState({dept_id:"",name:"",description:""}),[R,I]=g.useState("all"),[X,q]=g.useState("all");g.useEffect(()=>{G()},[]);const G=async()=>{try{c(!0);const O=await Ad();t(O.data),u("")}catch(O){u("Failed to load departments"),console.error(O)}finally{c(!1)}},ke=async O=>{try{c(!0);const xe=await H.get(`/departments/${O}/details`);l(xe.data),s(O),I("all");const be=ce(new Date,"yyyy-MM-dd"),pe=await zl(be,be);o(pe.data);let Ee=0,at=0,lt=0;pe.data.forEach(Tt=>{Tt.in_time?Tt.status==="on-time"||Tt.status==="onTime"?Ee++:at++:lt++}),_({present:Ee,late:at,absent:lt}),u("")}catch(xe){u("Failed to load department details"),console.error(xe)}finally{c(!1)}},fe=async()=>{if(!n){u("Please select a department first");return}try{const O=await H.get(`/attendance/export/monthly?department_id=${n}&year=${f}&month=${x}`,{responseType:"blob"}),xe=window.URL.createObjectURL(new Blob([O.data])),be=document.createElement("a");be.href=xe,be.setAttribute("download",`attendance_${f}-${String(x).padStart(2,"0")}.xlsx`),document.body.appendChild(be),be.click(),be.remove()}catch(O){u("Failed to download monthly report"),console.error(O)}},Qe=async()=>{if(!n){u("Please select a department first");return}try{const O=new Date,xe=O.getDay(),be=new Date(O);be.setDate(O.getDate()-xe);const pe=new Date(be);pe.setDate(be.getDate()+6);const Ee=await H.get(`/attendance/export/weekly?department_id=${n}&start_date=${be.toISOString().split("T")[0]}&end_date=${pe.toISOString().split("T")[0]}`,{responseType:"blob"}),at=window.URL.createObjectURL(new Blob([Ee.data])),lt=document.createElement("a");lt.href=at,lt.setAttribute("download",`attendance_weekly_${be.toISOString().split("T")[0]}.xlsx`),document.body.appendChild(lt),lt.click(),lt.remove()}catch(O){u("Failed to download weekly report"),console.error(O)}},L=async()=>{if(!T){alert("Please enter an Employee ID");return}try{U(!0);const O=localStorage.getItem("token"),xe=await fetch(`http://localhost:8000/attendance/export/employee-monthly?year=${re}&month=${E}&employee_id=${T}`,{method:"GET",headers:{Authorization:`Bearer ${O}`}});if(!xe.ok)throw new Error("Download failed");const be=await xe.blob(),pe=window.URL.createObjectURL(be),Ee=document.createElement("a");Ee.href=pe,Ee.download=`employee_${T}_attendance_${re}-${String(E).padStart(2,"0")}.xlsx`,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),window.URL.revokeObjectURL(pe)}catch(O){console.error("Download failed:",O),alert("Failed to download employee report")}finally{U(!1)}},te=async O=>{var xe,be,pe,Ee;if(O.preventDefault(),w(""),!((xe=N.dept_id)!=null&&xe.trim())||!((be=N.name)!=null&&be.trim())){w("Department ID and Name are required");return}m(!0);try{await uv({dept_id:N.dept_id.trim(),name:N.name.trim(),description:N.description.trim()}),y(!1),A({dept_id:"",name:"",description:""}),G()}catch(at){w(((Ee=(pe=at.response)==null?void 0:pe.data)==null?void 0:Ee.detail)||"Failed to create department")}finally{m(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Department Management"}),r.jsxs(B,{onClick:()=>y(!0),children:[r.jsx(Ut,{className:"w-4 h-4 mr-2 inline"}),"Add Department"]})]}),p&&r.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:p}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(K,{className:"sticky top-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Departments"}),d&&!e.length?r.jsx("p",{className:"text-gray-600 text-center py-4",children:"Loading..."}):r.jsx("div",{className:"space-y-2",children:e.map(O=>r.jsxs("button",{onClick:()=>ke(O.id),className:`w-full text-left px-4 py-3 rounded-lg transition ${n===O.id?"bg-blue-500 text-white font-semibold":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:[r.jsx("div",{className:"font-medium",children:O.name}),r.jsx("div",{className:"text-xs opacity-75",children:O.dept_id})]},O.id))})]})}),r.jsxs("div",{className:"lg:col-span-2",children:[d&&r.jsx(K,{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-600",children:"Loading..."})}),a&&r.jsxs(r.Fragment,{children:[r.jsx(K,{className:"mb-8 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.name}),r.jsxs("p",{className:"text-gray-600 mb-1",children:[r.jsx("span",{className:"font-semibold",children:"Department ID:"})," ",a.dept_id]}),a.description&&r.jsxs("p",{className:"text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:"Description:"})," ",a.description]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Department Manager"}),a.manager?r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-700 font-medium",children:a.manager.full_name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:"Username:"})," ",a.manager.username]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:"Email:"})," ",a.manager.email]})]}):r.jsx("p",{className:"text-gray-500 italic",children:"No manager assigned"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Employees"}),r.jsx("p",{className:"text-4xl font-bold text-blue-600",children:((Y=a.employees)==null?void 0:Y.length)||0})]}),r.jsx(Is,{className:"w-10 h-10 text-blue-500"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Present Today"}),r.jsx("p",{className:"text-4xl font-bold text-green-600",children:C.present})]}),r.jsx(Re,{className:"w-10 h-10 text-green-500"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Attendance Rate"}),r.jsxs("p",{className:"text-4xl font-bold text-purple-600",children:[((le=a.employees)==null?void 0:le.length)>0?Math.round(C.present/a.employees.length*100):0,"%"]})]}),r.jsx(ep,{className:"w-10 h-10 text-purple-500"})]})})})]}),r.jsxs(K,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Employees (",R==="all"?a.employees.length:C.present,")"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>I("all"),className:`px-4 py-2 rounded-lg font-medium transition ${R==="all"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"All Employees"}),r.jsx("button",{onClick:()=>I("today"),className:`px-4 py-2 rounded-lg font-medium transition ${R==="today"?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Today's Attendance"}),r.jsxs("select",{value:X,onChange:O=>q(O.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-medium hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"full_time",children:"Full-Time"}),r.jsx("option",{value:"part_time",children:"Part-Time"})]})]})]}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Month & Year"}),r.jsx("select",{value:x,onChange:O=>v(parseInt(O.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(O,xe)=>xe+1).map(O=>r.jsx("option",{value:O,children:new Date(2024,O-1).toLocaleString("default",{month:"long"})},O))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),r.jsx("select",{value:f,onChange:O=>j(parseInt(O.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:5},(O,xe)=>new Date().getFullYear()-2+xe).map(O=>r.jsx("option",{value:O,children:O},O))})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:fe,className:"w-full px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition",children:" Download Monthly"})}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:Qe,className:"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition",children:" Download Weekly"})})]})})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6 border border-blue-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:" Download Individual Employee Monthly Report"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee ID"}),r.jsx("input",{type:"text",placeholder:"e.g., EMP001",value:T,onChange:O=>$(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),r.jsx("select",{value:E,onChange:O=>W(parseInt(O.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(O,xe)=>xe+1).map(O=>r.jsx("option",{value:O,children:new Date(2024,O-1).toLocaleString("default",{month:"long"})},O))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),r.jsx("select",{value:re,onChange:O=>k(parseInt(O.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:5},(O,xe)=>new Date().getFullYear()-2+xe).map(O=>r.jsx("option",{value:O,children:O},O))})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:L,disabled:P,className:"w-full px-4 py-2 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded-lg font-medium transition",children:P?" Downloading...":" Download"})})]})]}),R==="today"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Present"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:C.present})]}),r.jsx(Re,{className:"w-8 h-8 text-green-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Late"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:C.late})]}),r.jsx(we,{className:"w-8 h-8 text-yellow-600"})]})})}),r.jsx(K,{padding:!1,children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Absent"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:C.absent})]}),r.jsx(Jn,{className:"w-8 h-8 text-red-600"})]})})})]}),R==="all"?r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Employees in Department"})}),a.employees.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Is,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No employees in this department"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:a.employees.filter(O=>X==="all"?!0:O.employment_type===X).map((O,xe)=>{const be=i.some(Ee=>Ee.employee_id===O.id),pe=i.find(Ee=>Ee.employee_id===O.id);return r.jsxs("tr",{className:xe%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:O.employee_id}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[O.first_name," ",O.last_name]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:O.email}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:be?r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(pe==null?void 0:pe.status)==="on-time"||(pe==null?void 0:pe.status)==="onTime"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:pe!=null&&pe.in_time?"Present":"Scheduled"}):r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Not Scheduled"})})]},O.id)})})]})})]}):r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Today's Attendance - ",ce(new Date,"MMMM dd, yyyy")]})}),i.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Oe,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No scheduled shifts for today"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned Shift"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Hrs Assigned"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Check-In"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Check-Out"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Hrs Worked"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Break Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Overtime Hours"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(O=>{var be,pe,Ee,at,lt;const xe=()=>{var Ln,cn;if(!((Ln=O.schedule)!=null&&Ln.start_time)||!((cn=O.schedule)!=null&&cn.end_time))return"-";const[Tt,rr]=O.schedule.start_time.split(":").map(Number),[zr,Bt]=O.schedule.end_time.split(":").map(Number),on=Tt+rr/60,dn=zr+Bt/60;return(dn>on?dn-on:24-on+dn).toFixed(2)};return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:((be=O.employee)==null?void 0:be.employee_id)||"-"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(pe=O.employee)==null?void 0:pe.first_name," ",(Ee=O.employee)==null?void 0:Ee.last_name]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:((lt=(at=O.schedule)==null?void 0:at.role)==null?void 0:lt.name)||"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:O.schedule?`${O.schedule.start_time} - ${O.schedule.end_time}`:"-"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[xe()," hrs"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:O.in_time?O.in_time:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:O.out_time?O.out_time:"-"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:[O.worked_hours!==null&&O.worked_hours!==void 0?O.worked_hours.toFixed(2):"-"," hrs"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[O.break_minutes," min"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-orange-600",children:[O.overtime_hours?O.overtime_hours.toFixed(2):"-"," hrs"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${O.status==="onTime"?"bg-green-100 text-green-800":O.status==="slightlyLate"?"bg-yellow-100 text-yellow-800":O.status==="late"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:O.status||"Scheduled"})})]},O.id)})})]})})]})]})]}),!a&&!d&&r.jsx(K,{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:"Select a department from the list to view details"})})]})]}),r.jsxs(ze,{isOpen:S,onClose:()=>{y(!1),w(""),A({dept_id:"",name:"",description:""})},title:"Add New Department",footer:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(B,{variant:"outline",onClick:()=>{y(!1),w(""),A({dept_id:"",name:"",description:""})},children:"Cancel"}),r.jsx(B,{onClick:te,disabled:h||!((J=N.dept_id)!=null&&J.trim())||!((Fe=N.name)!=null&&Fe.trim()),children:h?"Creating...":"Create Department"})]}),children:[b&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[r.jsx(we,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-red-700",children:b})]}),r.jsxs("form",{onSubmit:te,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department ID"}),r.jsx("input",{type:"text",value:N.dept_id,onChange:O=>A({...N,dept_id:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., 001, 002, 003",disabled:h}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3-digit department identifier (e.g., 001)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Name"}),r.jsx("input",{type:"text",value:N.name,onChange:O=>A({...N,name:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., Engineering, Sales, HR",disabled:h})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),r.jsx("textarea",{value:N.description,onChange:O=>A({...N,description:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter department description...",rows:"3",disabled:h})]})]})]})]})})},Vj=({user:e,onLogout:t})=>r.jsxs("div",{className:"flex h-screen bg-gray-100",children:[r.jsx(Ud,{user:e,onLogout:t}),r.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs(Rl,{children:[r.jsx(je,{path:"/dashboard",element:r.jsx(Bj,{})}),r.jsx(je,{path:"/managers",element:r.jsx(Hj,{})}),r.jsx(je,{path:"/departments",element:r.jsx(qj,{})}),r.jsx(je,{path:"/",element:r.jsx(Ls,{to:"/dashboard",replace:!0})})]})})})]});function Yj(){const[e,t]=g.useState(null),[n,s]=g.useState(!0);g.useEffect(()=>{const i=localStorage.getItem("token"),o=localStorage.getItem("user");i&&o&&t(JSON.parse(o)),s(!1)},[]);const a=(i,o)=>{localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(i)),t(i)},l=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t(null)};return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"text-xl",children:"Loading..."})}):r.jsx(p0,{children:r.jsxs(Rl,{children:[r.jsx(je,{path:"/login",element:e?r.jsx(Ls,{to:"/"}):r.jsx(Iv,{onLogin:a})}),r.jsx(je,{path:"/*",element:e?e.user_type==="admin"?r.jsx(Vj,{user:e,onLogout:l}):e.user_type==="manager"?r.jsx(Wj,{user:e,onLogout:l}):r.jsx(Tj,{user:e,onLogout:l}):r.jsx(Ls,{to:"/login"})})]})})}Ni.createRoot(document.getElementById("root")).render(r.jsx(Po.StrictMode,{children:r.jsx(Yj,{})}));
